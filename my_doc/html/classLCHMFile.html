<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GP&#39;s Okular Build: LCHMFile Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GP&#39;s Okular Build
   </div>
   <div id="projectbrief">POSE 2014</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classLCHMFile.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(13)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classLCHMFile-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">LCHMFile Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>CHM files processor, heavily based on chmlib. Used search code from xchm.  
 <a href="classLCHMFile.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="libchmfile_8h_source.html">libchmfile.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5f255d3dfb72ac263aac25c97b08e97d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#a5f255d3dfb72ac263aac25c97b08e97d">LCHMFile</a> ()</td></tr>
<tr class="memdesc:a5f255d3dfb72ac263aac25c97b08e97d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor and destructor.  <a href="#a5f255d3dfb72ac263aac25c97b08e97d">More...</a><br/></td></tr>
<tr class="separator:a5f255d3dfb72ac263aac25c97b08e97d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2df7b87f3727793bf14d1ce44d11e743"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#a2df7b87f3727793bf14d1ce44d11e743">~LCHMFile</a> ()</td></tr>
<tr class="separator:a2df7b87f3727793bf14d1ce44d11e743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99187b66c1ad404bd77382b93c5c4a79"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#a99187b66c1ad404bd77382b93c5c4a79">loadFile</a> (const QString &amp;archiveName)</td></tr>
<tr class="memdesc:a99187b66c1ad404bd77382b93c5c4a79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempts to load a .chm file.  <a href="#a99187b66c1ad404bd77382b93c5c4a79">More...</a><br/></td></tr>
<tr class="separator:a99187b66c1ad404bd77382b93c5c4a79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa66c0bdfa729086fb3cdc818606cef0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#aa66c0bdfa729086fb3cdc818606cef0b">closeAll</a> ()</td></tr>
<tr class="memdesc:aa66c0bdfa729086fb3cdc818606cef0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes all the files, and frees the appropriate data.  <a href="#aa66c0bdfa729086fb3cdc818606cef0b">More...</a><br/></td></tr>
<tr class="separator:aa66c0bdfa729086fb3cdc818606cef0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad44b1237596a2844ce743162d0ed7add"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#ad44b1237596a2844ce743162d0ed7add">title</a> () const </td></tr>
<tr class="memdesc:ad44b1237596a2844ce743162d0ed7add"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the title name of the opened .chm.  <a href="#ad44b1237596a2844ce743162d0ed7add">More...</a><br/></td></tr>
<tr class="separator:ad44b1237596a2844ce743162d0ed7add"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d33c304ba1c1e1ba2cbec2c90a5b975"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#a6d33c304ba1c1e1ba2cbec2c90a5b975">homeUrl</a> () const </td></tr>
<tr class="memdesc:a6d33c304ba1c1e1ba2cbec2c90a5b975"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the URL of the default page in the chm archive.  <a href="#a6d33c304ba1c1e1ba2cbec2c90a5b975">More...</a><br/></td></tr>
<tr class="separator:a6d33c304ba1c1e1ba2cbec2c90a5b975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10c31294cb99483b4a9dca8dcc3a7a34"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#a10c31294cb99483b4a9dca8dcc3a7a34">hasTableOfContents</a> () const </td></tr>
<tr class="memdesc:a10c31294cb99483b4a9dca8dcc3a7a34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the Table of Contents is present in this file.  <a href="#a10c31294cb99483b4a9dca8dcc3a7a34">More...</a><br/></td></tr>
<tr class="separator:a10c31294cb99483b4a9dca8dcc3a7a34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47c6e4a787c33ebad3556d7b1fd89738"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#a47c6e4a787c33ebad3556d7b1fd89738">hasIndexTable</a> () const </td></tr>
<tr class="memdesc:a47c6e4a787c33ebad3556d7b1fd89738"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the Index Table is present in this file.  <a href="#a47c6e4a787c33ebad3556d7b1fd89738">More...</a><br/></td></tr>
<tr class="separator:a47c6e4a787c33ebad3556d7b1fd89738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a2cdadc94e6804bc05f99b19842bed1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#a7a2cdadc94e6804bc05f99b19842bed1">hasSearchTable</a> () const </td></tr>
<tr class="memdesc:a7a2cdadc94e6804bc05f99b19842bed1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the Search Table is available in this file.  <a href="#a7a2cdadc94e6804bc05f99b19842bed1">More...</a><br/></td></tr>
<tr class="separator:a7a2cdadc94e6804bc05f99b19842bed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28d69103c40a289a41ef8f56e5f63eca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#a28d69103c40a289a41ef8f56e5f63eca">parseTableOfContents</a> (QVector&lt; <a class="el" href="structLCHMParsedEntry.html">LCHMParsedEntry</a> &gt; *topics) const </td></tr>
<tr class="memdesc:a28d69103c40a289a41ef8f56e5f63eca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the Table of Contents (<a class="el" href="classTOC.html">TOC</a>)  <a href="#a28d69103c40a289a41ef8f56e5f63eca">More...</a><br/></td></tr>
<tr class="separator:a28d69103c40a289a41ef8f56e5f63eca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad93af373778e2460fa0f667b9731e76d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#ad93af373778e2460fa0f667b9731e76d">parseIndex</a> (QVector&lt; <a class="el" href="structLCHMParsedEntry.html">LCHMParsedEntry</a> &gt; *indexes) const </td></tr>
<tr class="memdesc:ad93af373778e2460fa0f667b9731e76d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the Index Table.  <a href="#ad93af373778e2460fa0f667b9731e76d">More...</a><br/></td></tr>
<tr class="separator:ad93af373778e2460fa0f667b9731e76d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a676da6f5d866c297977a5c521805af45"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#a676da6f5d866c297977a5c521805af45">getFileContentAsString</a> (QString *str, const QString &amp;url)</td></tr>
<tr class="memdesc:a676da6f5d866c297977a5c521805af45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the content from url in current chm file to QString.  <a href="#a676da6f5d866c297977a5c521805af45">More...</a><br/></td></tr>
<tr class="separator:a676da6f5d866c297977a5c521805af45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3b176b6cd5794321fa7fef44c85db86"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#ab3b176b6cd5794321fa7fef44c85db86">getFileContentAsBinary</a> (QByteArray *data, const QString &amp;url)</td></tr>
<tr class="memdesc:ab3b176b6cd5794321fa7fef44c85db86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the content from url in current chm file to QByteArray.  <a href="#ab3b176b6cd5794321fa7fef44c85db86">More...</a><br/></td></tr>
<tr class="separator:ab3b176b6cd5794321fa7fef44c85db86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e4b934ed39c6f5f801423485a32b3e8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#a2e4b934ed39c6f5f801423485a32b3e8">getFileSize</a> (unsigned int *<a class="el" href="synctex__parser_8c.html#aa23c661441688350614bd6a350d2b6ff">size</a>, const QString &amp;url)</td></tr>
<tr class="memdesc:a2e4b934ed39c6f5f801423485a32b3e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the content size.  <a href="#a2e4b934ed39c6f5f801423485a32b3e8">More...</a><br/></td></tr>
<tr class="separator:a2e4b934ed39c6f5f801423485a32b3e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0dbccaf688f99e8c4519917159e8817"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#af0dbccaf688f99e8c4519917159e8817">enumerateFiles</a> (QStringList *files)</td></tr>
<tr class="memdesc:af0dbccaf688f99e8c4519917159e8817"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains the list of all the files in current chm file archive.  <a href="#af0dbccaf688f99e8c4519917159e8817">More...</a><br/></td></tr>
<tr class="separator:af0dbccaf688f99e8c4519917159e8817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb516986c667b9774e9d84700b96a00"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#a4bb516986c667b9774e9d84700b96a00">getTopicByUrl</a> (const QString &amp;url)</td></tr>
<tr class="memdesc:a4bb516986c667b9774e9d84700b96a00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the Title of the HTML page referenced by url.  <a href="#a4bb516986c667b9774e9d84700b96a00">More...</a><br/></td></tr>
<tr class="separator:a4bb516986c667b9774e9d84700b96a00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42b6781e6c3227656c9b6d12922fb522"><td class="memItemLeft" align="right" valign="top">const QPixmap *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#a42b6781e6c3227656c9b6d12922fb522">getBookIconPixmap</a> (unsigned int imagenum)</td></tr>
<tr class="memdesc:a42b6781e6c3227656c9b6d12922fb522"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the appropriate CHM pixmap icon.  <a href="#a42b6781e6c3227656c9b6d12922fb522">More...</a><br/></td></tr>
<tr class="separator:a42b6781e6c3227656c9b6d12922fb522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c98d60af1fa1588548b99bbcd77b1e4"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#a8c98d60af1fa1588548b99bbcd77b1e4">normalizeUrl</a> (const QString &amp;url) const </td></tr>
<tr class="memdesc:a8c98d60af1fa1588548b99bbcd77b1e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normalizes the URL, converting relatives, adding "/" in front and removing ..  <a href="#a8c98d60af1fa1588548b99bbcd77b1e4">More...</a><br/></td></tr>
<tr class="separator:a8c98d60af1fa1588548b99bbcd77b1e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0847ee498ddb6e46c064cf0924868c01"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structLCHMTextEncoding.html">LCHMTextEncoding</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#a0847ee498ddb6e46c064cf0924868c01">currentEncoding</a> () const </td></tr>
<tr class="memdesc:a0847ee498ddb6e46c064cf0924868c01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current CHM archive encoding (set or autodetected)  <a href="#a0847ee498ddb6e46c064cf0924868c01">More...</a><br/></td></tr>
<tr class="separator:a0847ee498ddb6e46c064cf0924868c01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae82f20e769b26a76eeff6beaca52a691"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#ae82f20e769b26a76eeff6beaca52a691">setCurrentEncoding</a> (const <a class="el" href="structLCHMTextEncoding.html">LCHMTextEncoding</a> *encoding)</td></tr>
<tr class="memdesc:ae82f20e769b26a76eeff6beaca52a691"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the CHM archive encoding to use.  <a href="#ae82f20e769b26a76eeff6beaca52a691">More...</a><br/></td></tr>
<tr class="separator:ae82f20e769b26a76eeff6beaca52a691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a354fdf8c278379ff8e6a0b7408fc0981"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#a354fdf8c278379ff8e6a0b7408fc0981">searchQuery</a> (const QString &amp;query, QStringList *results, unsigned int limit=100)</td></tr>
<tr class="memdesc:a354fdf8c278379ff8e6a0b7408fc0981"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a search query, return the results.  <a href="#a354fdf8c278379ff8e6a0b7408fc0981">More...</a><br/></td></tr>
<tr class="separator:a354fdf8c278379ff8e6a0b7408fc0981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74fa35f014782712fd33f53cb2247cc2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLCHMFileImpl.html">LCHMFileImpl</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLCHMFile.html#a74fa35f014782712fd33f53cb2247cc2">impl</a> ()</td></tr>
<tr class="memdesc:a74fa35f014782712fd33f53cb2247cc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access to implementation.  <a href="#a74fa35f014782712fd33f53cb2247cc2">More...</a><br/></td></tr>
<tr class="separator:a74fa35f014782712fd33f53cb2247cc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>CHM files processor, heavily based on chmlib. Used search code from xchm. </p>

<p>Definition at line <a class="el" href="libchmfile_8h_source.html#l00068">68</a> of file <a class="el" href="libchmfile_8h_source.html">libchmfile.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5f255d3dfb72ac263aac25c97b08e97d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LCHMFile::LCHMFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor and destructor. </p>

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00028">28</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;{</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    m_impl = <span class="keyword">new</span> <a class="code" href="classLCHMFileImpl.html">LCHMFileImpl</a>();</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;}</div>
<div class="ttc" id="classLCHMFileImpl_html"><div class="ttname"><a href="classLCHMFileImpl.html">LCHMFileImpl</a></div><div class="ttdoc">CHM files processor; the implementation. </div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8h_source.html#l00051">libchmfileimpl.h:51</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2df7b87f3727793bf14d1ce44d11e743"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LCHMFile::~LCHMFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00033">33</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;{</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keyword">delete</span> m_impl;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa66c0bdfa729086fb3cdc818606cef0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LCHMFile::closeAll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes all the files, and frees the appropriate data. </p>

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00043">43</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#a483f7cc028d300635b87e6975c6a1757">closeAll</a>();</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;}</div>
<div class="ttc" id="classLCHMFileImpl_html_a483f7cc028d300635b87e6975c6a1757"><div class="ttname"><a href="classLCHMFileImpl.html#a483f7cc028d300635b87e6975c6a1757">LCHMFileImpl::closeAll</a></div><div class="ttdeci">void closeAll()</div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8cpp_source.html#l00137">libchmfileimpl.cpp:137</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0847ee498ddb6e46c064cf0924868c01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structLCHMTextEncoding.html">LCHMTextEncoding</a> * LCHMFile::currentEncoding </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current CHM archive encoding (set or autodetected) </p>
<dl class="section return"><dt>Returns</dt><dd>The current encoding. </dd></dl>

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00109">109</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;{</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">return</span> m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#a365b502e727dd2202dec204815d23c50">m_currentEncoding</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div>
<div class="ttc" id="classLCHMFileImpl_html_a365b502e727dd2202dec204815d23c50"><div class="ttname"><a href="classLCHMFileImpl.html#a365b502e727dd2202dec204815d23c50">LCHMFileImpl::m_currentEncoding</a></div><div class="ttdeci">const LCHMTextEncoding * m_currentEncoding</div><div class="ttdoc">Current encoding. </div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8h_source.html#l00267">libchmfileimpl.h:267</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af0dbccaf688f99e8c4519917159e8817"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LCHMFile::enumerateFiles </td>
          <td>(</td>
          <td class="paramtype">QStringList *&#160;</td>
          <td class="paramname"><em>files</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains the list of all the files in current chm file archive. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">files</td><td>An array to store list of URLs (file names) present in chm archive. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the enumeration succeed; false otherwise (I could hardly imagine a reason). </dd></dl>

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00094">94</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;{</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">return</span> m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#a21fea24de5c93c2d192fd5c6f26a1dfd">enumerateFiles</a>( files );</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;}</div>
<div class="ttc" id="classLCHMFileImpl_html_a21fea24de5c93c2d192fd5c6f26a1dfd"><div class="ttname"><a href="classLCHMFileImpl.html#a21fea24de5c93c2d192fd5c6f26a1dfd">LCHMFileImpl::enumerateFiles</a></div><div class="ttdeci">bool enumerateFiles(QStringList *files)</div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8cpp_source.html#l01172">libchmfileimpl.cpp:1172</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a42b6781e6c3227656c9b6d12922fb522"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const QPixmap * LCHMFile::getBookIconPixmap </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>imagenum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the appropriate CHM pixmap icon. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">imagenum</td><td>The image number from <a class="el" href="classTOC.html">TOC</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pixmap to show in <a class="el" href="classTOC.html">TOC</a> tree. </dd></dl>

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00104">104</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;{</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">return</span> m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#ad0b8a4f3e8949c4f713919cf4aa10683">getBookIconPixmap</a>( imagenum );</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div>
<div class="ttc" id="classLCHMFileImpl_html_ad0b8a4f3e8949c4f713919cf4aa10683"><div class="ttname"><a href="classLCHMFileImpl.html#ad0b8a4f3e8949c4f713919cf4aa10683">LCHMFileImpl::getBookIconPixmap</a></div><div class="ttdeci">const QPixmap * getBookIconPixmap(unsigned int imagenum)</div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8cpp_source.html#l01178">libchmfileimpl.cpp:1178</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab3b176b6cd5794321fa7fef44c85db86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LCHMFile::getFileContentAsBinary </td>
          <td>(</td>
          <td class="paramtype">QByteArray *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>url</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the content from url in current chm file to QByteArray. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>A data array where the retrieved content should be stored. </td></tr>
    <tr><td class="paramname">url</td><td>An URL in chm file to retrieve content from. Must be absolute. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the content is successfully received; false otherwise.</dd></dl>
<p>This function retrieves the file content from the chm archive opened by load() function. The content is not encoded.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classLCHMFile.html#a676da6f5d866c297977a5c521805af45" title="Retrieves the content from url in current chm file to QString. ">getFileContentAsString()</a> </dd></dl>

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00089">89</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;{</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">return</span> m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#a83f47ad1b36f953e7de3d32e3a83313c">getFileContentAsBinary</a>( <a class="code" href="structdrawinf.html#af73f66288002f0a25c7843a534bf1340">data</a>, url );</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div>
<div class="ttc" id="structdrawinf_html_af73f66288002f0a25c7843a534bf1340"><div class="ttname"><a href="structdrawinf.html#af73f66288002f0a25c7843a534bf1340">drawinf::data</a></div><div class="ttdeci">struct framedata data</div><div class="ttdef"><b>Definition:</b> <a href="dviRenderer_8h_source.html#l00080">dviRenderer.h:80</a></div></div>
<div class="ttc" id="classLCHMFileImpl_html_a83f47ad1b36f953e7de3d32e3a83313c"><div class="ttname"><a href="classLCHMFileImpl.html#a83f47ad1b36f953e7de3d32e3a83313c">LCHMFileImpl::getFileContentAsBinary</a></div><div class="ttdeci">bool getFileContentAsBinary(QByteArray *data, const QString &amp;url) const </div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8cpp_source.html#l01117">libchmfileimpl.cpp:1117</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a676da6f5d866c297977a5c521805af45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LCHMFile::getFileContentAsString </td>
          <td>(</td>
          <td class="paramtype">QString *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>url</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the content from url in current chm file to QString. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>A string where the retrieved content should be stored. </td></tr>
    <tr><td class="paramname">url</td><td>An URL in chm file to retrieve content from. Must be absolute. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the content is successfully received; false otherwise.</dd></dl>
<p>This function retrieves the file content (mostly for HTML pages) from the chm archive opened by load() function. Because the content in chm file is not stored in Unicode, it will be recoded according to current encoding. Do not use for binary data.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classLCHMFile.html#ae82f20e769b26a76eeff6beaca52a691" title="Sets the CHM archive encoding to use. ">setCurrentEncoding()</a> <a class="el" href="classLCHMFile.html#a0847ee498ddb6e46c064cf0924868c01" title="Gets the current CHM archive encoding (set or autodetected) ">currentEncoding()</a> <a class="el" href="classLCHMFile.html#ab3b176b6cd5794321fa7fef44c85db86" title="Retrieves the content from url in current chm file to QByteArray. ">getFileContentAsBinary()</a> </dd></dl>

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00084">84</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;{</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">return</span> m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#a4e0ea1a6ff803428299be6d72508c5c2">getFileContentAsString</a>( str, url );</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;}</div>
<div class="ttc" id="classLCHMFileImpl_html_a4e0ea1a6ff803428299be6d72508c5c2"><div class="ttname"><a href="classLCHMFileImpl.html#a4e0ea1a6ff803428299be6d72508c5c2">LCHMFileImpl::getFileContentAsString</a></div><div class="ttdeci">bool getFileContentAsString(QString *str, const QString &amp;url, bool internal_encoding=false)</div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8cpp_source.html#l01133">libchmfileimpl.cpp:1133</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2e4b934ed39c6f5f801423485a32b3e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LCHMFile::getFileSize </td>
          <td>(</td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>url</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the content size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>A pointer where the size will be stored. </td></tr>
    <tr><td class="paramname">url</td><td>An URL in chm file to retrieve content from. Must be absolute. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the content size is successfully stored; false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00124">124</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;{</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">return</span> m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#a956d078842d2cc3ece160c9348930584">getFileSize</a>( <a class="code" href="synctex__parser_8c.html#aa23c661441688350614bd6a350d2b6ff">size</a>, url );</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;}</div>
<div class="ttc" id="synctex__parser_8c_html_aa23c661441688350614bd6a350d2b6ff"><div class="ttname"><a href="synctex__parser_8c.html#aa23c661441688350614bd6a350d2b6ff">size</a></div><div class="ttdeci">#define size</div></div>
<div class="ttc" id="classLCHMFileImpl_html_a956d078842d2cc3ece160c9348930584"><div class="ttname"><a href="classLCHMFileImpl.html#a956d078842d2cc3ece160c9348930584">LCHMFileImpl::getFileSize</a></div><div class="ttdeci">bool getFileSize(unsigned int *size, const QString &amp;url)</div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8cpp_source.html#l01279">libchmfileimpl.cpp:1279</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4bb516986c667b9774e9d84700b96a00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString LCHMFile::getTopicByUrl </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the Title of the HTML page referenced by url. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>An URL in chm file to get title from. Must be absolute. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The title, or QString::null if the URL cannot be found or not a HTML page. </dd></dl>

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00099">99</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;{</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">return</span> m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#af5c1957e8dbcc4c4a06186d766e222be">getTopicByUrl</a>( url );</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div>
<div class="ttc" id="classLCHMFileImpl_html_af5c1957e8dbcc4c4a06186d766e222be"><div class="ttname"><a href="classLCHMFileImpl.html#af5c1957e8dbcc4c4a06186d766e222be">LCHMFileImpl::getTopicByUrl</a></div><div class="ttdeci">QString getTopicByUrl(const QString &amp;url) const </div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8cpp_source.html#l01155">libchmfileimpl.cpp:1155</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a47c6e4a787c33ebad3556d7b1fd89738"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LCHMFile::hasIndexTable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether the Index Table is present in this file. </p>
<dl class="section return"><dt>Returns</dt><dd>true if it is available; false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00064">64</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;{</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">return</span> !m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#ab5f59c7a474b444bb07a1992bd0a6d82">m_indexFile</a>.isNull();</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;}</div>
<div class="ttc" id="classLCHMFileImpl_html_ab5f59c7a474b444bb07a1992bd0a6d82"><div class="ttname"><a href="classLCHMFileImpl.html#ab5f59c7a474b444bb07a1992bd0a6d82">LCHMFileImpl::m_indexFile</a></div><div class="ttdeci">QByteArray m_indexFile</div><div class="ttdoc">Index filename. Got from CHM file. </div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8h_source.html#l00250">libchmfileimpl.h:250</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7a2cdadc94e6804bc05f99b19842bed1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LCHMFile::hasSearchTable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether the Search Table is available in this file. </p>
<dl class="section return"><dt>Returns</dt><dd>true if it is available; false otherwise.</dd></dl>
<p>If the search table is not available, the search is not possible. </p>

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00069">69</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">return</span> m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#a7f5f505b00220199785298bdad0627f6">m_searchAvailable</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div>
<div class="ttc" id="classLCHMFileImpl_html_a7f5f505b00220199785298bdad0627f6"><div class="ttname"><a href="classLCHMFileImpl.html#a7f5f505b00220199785298bdad0627f6">LCHMFileImpl::m_searchAvailable</a></div><div class="ttdeci">bool m_searchAvailable</div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8h_source.html#l00289">libchmfileimpl.h:289</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a10c31294cb99483b4a9dca8dcc3a7a34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LCHMFile::hasTableOfContents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether the Table of Contents is present in this file. </p>
<dl class="section return"><dt>Returns</dt><dd>true if it is available; false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00059">59</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">return</span> !m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#af3d33a88f44e3d103f08d9cc1c0ccf12">m_topicsFile</a>.isNull();</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;}</div>
<div class="ttc" id="classLCHMFileImpl_html_af3d33a88f44e3d103f08d9cc1c0ccf12"><div class="ttname"><a href="classLCHMFileImpl.html#af3d33a88f44e3d103f08d9cc1c0ccf12">LCHMFileImpl::m_topicsFile</a></div><div class="ttdeci">QByteArray m_topicsFile</div><div class="ttdoc">Context tree filename. Got from CHM file. </div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8h_source.html#l00247">libchmfileimpl.h:247</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6d33c304ba1c1e1ba2cbec2c90a5b975"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString LCHMFile::homeUrl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the URL of the default page in the chm archive. </p>
<dl class="section return"><dt>Returns</dt><dd>The home page name, with a '/' added in front and relative to the root of the archive filesystem. If no .chm has been opened, returns "/". </dd></dl>

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00053">53</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    QString url = m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#a4a62bf461c3b534161fd2c09b638c929">homeUrl</a>();</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">return</span> url.isNull() ? <span class="stringliteral">&quot;/&quot;</span> : url;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div>
<div class="ttc" id="classLCHMFileImpl_html_a4a62bf461c3b534161fd2c09b638c929"><div class="ttname"><a href="classLCHMFileImpl.html#a4a62bf461c3b534161fd2c09b638c929">LCHMFileImpl::homeUrl</a></div><div class="ttdeci">QString homeUrl() const </div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8h_source.html#l00062">libchmfileimpl.h:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a74fa35f014782712fd33f53cb2247cc2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLCHMFileImpl.html">LCHMFileImpl</a>* LCHMFile::impl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Access to implementation. </p>

<p>Definition at line <a class="el" href="libchmfile_8h_source.html#l00266">266</a> of file <a class="el" href="libchmfile_8h_source.html">libchmfile.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;{ <span class="keywordflow">return</span> m_impl; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a99187b66c1ad404bd77382b93c5c4a79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LCHMFile::loadFile </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>archiveName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempts to load a .chm file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">archiveName</td><td>The .chm filename. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure.</dd></dl>
<p>Loads a CHM file. Could internally load more than one file, if files linked to this one are present locally (like MSDN). </p>

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00038">38</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;{</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">return</span> m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#a2bd2ffb002032653a199f24e091bca24">loadFile</a>( archiveName );</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div>
<div class="ttc" id="classLCHMFileImpl_html_a2bd2ffb002032653a199f24e091bca24"><div class="ttname"><a href="classLCHMFileImpl.html#a2bd2ffb002032653a199f24e091bca24">LCHMFileImpl::loadFile</a></div><div class="ttdeci">bool loadFile(const QString &amp;archiveName)</div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8cpp_source.html#l00075">libchmfileimpl.cpp:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8c98d60af1fa1588548b99bbcd77b1e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString LCHMFile::normalizeUrl </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Normalizes the URL, converting relatives, adding "/" in front and removing .. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The URL to normalize. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The normalized, cleaned up URL. </dd></dl>

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00119">119</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;{</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">return</span> m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#abdb0cfe83119a89df45ef681e2548b17">normalizeUrl</a>( url );</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;}</div>
<div class="ttc" id="classLCHMFileImpl_html_abdb0cfe83119a89df45ef681e2548b17"><div class="ttname"><a href="classLCHMFileImpl.html#abdb0cfe83119a89df45ef681e2548b17">LCHMFileImpl::normalizeUrl</a></div><div class="ttdeci">QString normalizeUrl(const QString &amp;path) const </div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8cpp_source.html#l00929">libchmfileimpl.cpp:929</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad93af373778e2460fa0f667b9731e76d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LCHMFile::parseIndex </td>
          <td>(</td>
          <td class="paramtype">QVector&lt; <a class="el" href="structLCHMParsedEntry.html">LCHMParsedEntry</a> &gt; *&#160;</td>
          <td class="paramname"><em>indexes</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses the Index Table. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">indexes</td><td>A pointer to the container which will store the parsed results. Will be cleaned before parsing. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the tree is present and parsed successfully, false otherwise. The parser is built to be error-prone, however it still can abort with qFatal() by really buggy chm file; so far it never happened on indexes. </dd></dl>

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00079">79</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;{</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">return</span> m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#a7d59bfdee96e603b0cd1e19f9bf37448">parseFileAndFillArray</a>( m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#ab5f59c7a474b444bb07a1992bd0a6d82">m_indexFile</a>, indexes, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div>
<div class="ttc" id="classLCHMFileImpl_html_a7d59bfdee96e603b0cd1e19f9bf37448"><div class="ttname"><a href="classLCHMFileImpl.html#a7d59bfdee96e603b0cd1e19f9bf37448">LCHMFileImpl::parseFileAndFillArray</a></div><div class="ttdeci">bool parseFileAndFillArray(const QString &amp;file, QVector&lt; LCHMParsedEntry &gt; *data, bool asIndex)</div><div class="ttdoc">Parse the HHC or HHS file, and fill the context (asIndex is false) or index (asIndex is true) array...</div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8cpp_source.html#l00942">libchmfileimpl.cpp:942</a></div></div>
<div class="ttc" id="classLCHMFileImpl_html_ab5f59c7a474b444bb07a1992bd0a6d82"><div class="ttname"><a href="classLCHMFileImpl.html#ab5f59c7a474b444bb07a1992bd0a6d82">LCHMFileImpl::m_indexFile</a></div><div class="ttdeci">QByteArray m_indexFile</div><div class="ttdoc">Index filename. Got from CHM file. </div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8h_source.html#l00250">libchmfileimpl.h:250</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a28d69103c40a289a41ef8f56e5f63eca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LCHMFile::parseTableOfContents </td>
          <td>(</td>
          <td class="paramtype">QVector&lt; <a class="el" href="structLCHMParsedEntry.html">LCHMParsedEntry</a> &gt; *&#160;</td>
          <td class="paramname"><em>topics</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses the Table of Contents (<a class="el" href="classTOC.html">TOC</a>) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topics</td><td>A pointer to the container which will store the parsed results. Will be cleaned before parsing. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the tree is present and parsed successfully, false otherwise. The parser is built to be error-prone, however it still can abort with qFatal() by really buggy chm file; please report a bug if the file is opened ok under Windows. </dd></dl>

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00074">74</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">return</span> m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#a7d59bfdee96e603b0cd1e19f9bf37448">parseFileAndFillArray</a>( m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#af3d33a88f44e3d103f08d9cc1c0ccf12">m_topicsFile</a>, topics, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div>
<div class="ttc" id="classLCHMFileImpl_html_a7d59bfdee96e603b0cd1e19f9bf37448"><div class="ttname"><a href="classLCHMFileImpl.html#a7d59bfdee96e603b0cd1e19f9bf37448">LCHMFileImpl::parseFileAndFillArray</a></div><div class="ttdeci">bool parseFileAndFillArray(const QString &amp;file, QVector&lt; LCHMParsedEntry &gt; *data, bool asIndex)</div><div class="ttdoc">Parse the HHC or HHS file, and fill the context (asIndex is false) or index (asIndex is true) array...</div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8cpp_source.html#l00942">libchmfileimpl.cpp:942</a></div></div>
<div class="ttc" id="classLCHMFileImpl_html_af3d33a88f44e3d103f08d9cc1c0ccf12"><div class="ttname"><a href="classLCHMFileImpl.html#af3d33a88f44e3d103f08d9cc1c0ccf12">LCHMFileImpl::m_topicsFile</a></div><div class="ttdeci">QByteArray m_topicsFile</div><div class="ttdoc">Context tree filename. Got from CHM file. </div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8h_source.html#l00247">libchmfileimpl.h:247</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a354fdf8c278379ff8e6a0b7408fc0981"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LCHMFile::searchQuery </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QStringList *&#160;</td>
          <td class="paramname"><em>results</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>limit</em> = <code>100</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute a search query, return the results. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>A search query. </td></tr>
    <tr><td class="paramname">results</td><td>An array to store URLs where the query was found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if search was successful (this does not mean that it returned any results); false otherwise.</dd></dl>
<p>This function executes a standard search query. The query should consist of one of more words separated by a space with a possible prefix. A prefix may be:</p>
<ul>
<li>Plus indicates that the word is required; any page without this word is excluded from the result.</li>
<li>Minus indicates that the word is required to be absent; any page with this word is excluded from the result. "." Quotes indicates a phrase. Anything between quotes is a phrase, which is set of space-separated words. Will be in result only if the words in phrase are in page in the same sequence, and follow each other.</li>
</ul>
<p>If there is no prefix, the word considered as required. </p>

<p>Definition at line <a class="el" href="libchmfile__search_8cpp_source.html#l00176">176</a> of file <a class="el" href="libchmfile__search_8cpp_source.html">libchmfile_search.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;{</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    QStringList words_must_exist, words_must_not_exist, words_highlight;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    QVector&lt;QStringList&gt; phrases_must_exist;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    QString query = inquery;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordtype">bool</span> query_valid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="libchmfileimpl_8h.html#a49915bbafbeae4acb86601a1e4f0c247">LCHMSearchProgressResults</a> results;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordtype">int</span> pos;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordtype">int</span> i;  </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">    * Parse the search query with a simple state machine.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">    * Query should consist of one of more words separated by a space with a possible prefix.</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">     * A prefix may be:</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">    *   +   indicates that the word is required; any page without this word is excluded from the result.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">    *   -   indicates that the word is required to be absent; any page with this word is excluded from</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">    *       the result.</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">    *   &quot;.&quot; indicates a phrase. Anything between quotes indicates a phrase, which is set of space-separated</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">    *       words. Will be in result only if the words in phrase are in page in the same sequence, and</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">    *       follow each other.</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">    *   If there is no prefix, the word considered as required.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    QRegExp rxphrase( <span class="stringliteral">&quot;\&quot;(.*)\&quot;&quot;</span> );</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    QRegExp rxword( <span class="stringliteral">&quot;([^\\s]+)&quot;</span> );</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    rxphrase.setMinimal( <a class="code" href="unpluckint_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a> );</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// First, get the phrase queries</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">while</span> ( (pos = rxphrase.indexIn (query, 0)) != -1 )</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="comment">// A phrase query found. Locate its boundaries, and parse it.</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        QStringList plist = rxphrase.cap ( 1 ).split ( QRegExp (<span class="stringliteral">&quot;\\s+&quot;</span>) );</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        validateWords ( plist, query_valid );</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordflow">if</span> ( plist.size() &gt; 0 )</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            phrases_must_exist.push_back( plist );</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        query.remove (pos, rxphrase.matchedLength());</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">// Then, parse the rest query</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">while</span> ( (pos = rxword.indexIn( query, 0 )) != -1 )</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="comment">// A phrase query found. Locate its boundaries, and parse it.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        QString word = rxword.cap ( 1 );</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        QChar type = <span class="charliteral">&#39;+&#39;</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">if</span> ( word[0] == <span class="charliteral">&#39;-&#39;</span> || word[0] == <span class="charliteral">&#39;+&#39;</span> )</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            type = word[0];</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            word.remove (0, 1);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        validateWord ( word, query_valid );</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordflow">if</span> ( type == <span class="charliteral">&#39;-&#39;</span> )</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            words_must_not_exist.push_back ( word );</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            words_must_exist.push_back ( word );</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        </div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        query.remove (pos, rxword.matchedLength());</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="preprocessor">#if defined (DUMP_SEARCH_QUERY)</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">// Dump the search query</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    QString qdump;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">for</span> ( i = 0; i &lt; phrases_must_exist.size(); i++ )</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        qdump += QString(<span class="stringliteral">&quot; \&quot;&quot;</span>) + phrases_must_exist[i].join (<span class="stringliteral">&quot; &quot;</span>) + QString (<span class="stringliteral">&quot;\&quot;&quot;</span>);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">for</span> ( i = 0; i &lt; words_must_not_exist.size(); i++ )</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        qdump += QString (<span class="stringliteral">&quot; -&quot;</span>) + words_must_not_exist[i];</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordflow">for</span> ( i = 0; i &lt; words_must_exist.size(); i++ )</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        qdump += QString (<span class="stringliteral">&quot; +&quot;</span>) + words_must_exist[i];</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    qDebug (<span class="stringliteral">&quot;Search query dump: %s&quot;</span>, qdump.ascii());</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">// First search for phrases</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">if</span> ( phrases_must_exist.size() &gt; 0 )</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <a class="code" href="libchmfileimpl_8h.html#a49915bbafbeae4acb86601a1e4f0c247">LCHMSearchProgressResults</a> tempres;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">for</span> ( i = 0; i &lt; phrases_must_exist.size(); i++ )</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="keywordflow">if</span> ( !<a class="code" href="libchmfile__search_8cpp.html#a17cc37a7460f0c55fa27f233e21f4f94">searchPhrase</a> ( <a class="code" href="classLCHMFile.html#a74fa35f014782712fd33f53cb2247cc2">impl</a>(), phrases_must_exist[i], tempres ) )</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            mergeResults ( results, tempres, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">for</span> ( i = 0; i &lt; words_must_exist.size(); i++ )</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    {</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <a class="code" href="libchmfileimpl_8h.html#a49915bbafbeae4acb86601a1e4f0c247">LCHMSearchProgressResults</a> tempres;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">if</span> ( !m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#aef2f435b859a816d543af610ed65316e">searchWord</a> ( words_must_exist[i], <span class="keyword">true</span>, <span class="keyword">false</span>, tempres, <span class="keyword">false</span> ) )</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        mergeResults ( results, tempres, <span class="keyword">true</span> );</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">for</span> ( i = 0; i &lt; words_must_not_exist.size(); i++ )</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <a class="code" href="libchmfileimpl_8h.html#a49915bbafbeae4acb86601a1e4f0c247">LCHMSearchProgressResults</a> tempres;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#aef2f435b859a816d543af610ed65316e">searchWord</a> ( words_must_not_exist[i], <span class="keyword">true</span>, <span class="keyword">false</span>, tempres, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        mergeResults ( results, tempres, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#ace9ea6df1f8aa45d2ef89052aa953e19">getSearchResults</a>( results, searchresults, limit );</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;}</div>
<div class="ttc" id="libchmfileimpl_8h_html_a49915bbafbeae4acb86601a1e4f0c247"><div class="ttname"><a href="libchmfileimpl_8h.html#a49915bbafbeae4acb86601a1e4f0c247">LCHMSearchProgressResults</a></div><div class="ttdeci">QVector&lt; LCHMSearchProgressResult &gt; LCHMSearchProgressResults</div><div class="ttdoc">An array to keeps the intermediate search results. </div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8h_source.html#l00047">libchmfileimpl.h:47</a></div></div>
<div class="ttc" id="classLCHMFileImpl_html_ace9ea6df1f8aa45d2ef89052aa953e19"><div class="ttname"><a href="classLCHMFileImpl.html#ace9ea6df1f8aa45d2ef89052aa953e19">LCHMFileImpl::getSearchResults</a></div><div class="ttdeci">void getSearchResults(const LCHMSearchProgressResults &amp;tempres, QStringList *results, unsigned int limit_results=500)</div><div class="ttdoc">Finalize the search, resolve the matches, the and generate the results array. </div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8cpp_source.html#l00903">libchmfileimpl.cpp:903</a></div></div>
<div class="ttc" id="classLCHMFile_html_a74fa35f014782712fd33f53cb2247cc2"><div class="ttname"><a href="classLCHMFile.html#a74fa35f014782712fd33f53cb2247cc2">LCHMFile::impl</a></div><div class="ttdeci">LCHMFileImpl * impl()</div><div class="ttdoc">Access to implementation. </div><div class="ttdef"><b>Definition:</b> <a href="libchmfile_8h_source.html#l00266">libchmfile.h:266</a></div></div>
<div class="ttc" id="libchmfile__search_8cpp_html_a17cc37a7460f0c55fa27f233e21f4f94"><div class="ttname"><a href="libchmfile__search_8cpp.html#a17cc37a7460f0c55fa27f233e21f4f94">searchPhrase</a></div><div class="ttdeci">bool searchPhrase(LCHMFileImpl *impl, const QStringList &amp;phrase, LCHMSearchProgressResults &amp;results)</div><div class="ttdef"><b>Definition:</b> <a href="libchmfile__search_8cpp_source.html#l00119">libchmfile_search.cpp:119</a></div></div>
<div class="ttc" id="unpluckint_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="unpluckint_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="unpluckint_8h_source.html#l00049">unpluckint.h:49</a></div></div>
<div class="ttc" id="classLCHMFileImpl_html_aef2f435b859a816d543af610ed65316e"><div class="ttname"><a href="classLCHMFileImpl.html#aef2f435b859a816d543af610ed65316e">LCHMFileImpl::searchWord</a></div><div class="ttdeci">bool searchWord(const QString &amp;word, bool wholeWords, bool titlesOnly, LCHMSearchProgressResults &amp;results, bool phrase_search)</div><div class="ttdoc">Fast search using the $FIftiMain file in the .chm. </div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8cpp_source.html#l00407">libchmfileimpl.cpp:407</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae82f20e769b26a76eeff6beaca52a691"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool LCHMFile::setCurrentEncoding </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structLCHMTextEncoding.html">LCHMTextEncoding</a> *&#160;</td>
          <td class="paramname"><em>encoding</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the CHM archive encoding to use. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoding</td><td>An encoding to use. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00114">114</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;{</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">return</span> m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#afa8e9063a88e0a8090b3412b49e67f9e">setCurrentEncoding</a>( encoding );</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div>
<div class="ttc" id="classLCHMFileImpl_html_afa8e9063a88e0a8090b3412b49e67f9e"><div class="ttname"><a href="classLCHMFileImpl.html#afa8e9063a88e0a8090b3412b49e67f9e">LCHMFileImpl::setCurrentEncoding</a></div><div class="ttdeci">bool setCurrentEncoding(const LCHMTextEncoding *encoding)</div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8cpp_source.html#l01183">libchmfileimpl.cpp:1183</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad44b1237596a2844ce743162d0ed7add"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString LCHMFile::title </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the title name of the opened .chm. </p>
<dl class="section return"><dt>Returns</dt><dd>The name of the opened document, or an empty string if no .chm has been loaded. </dd></dl>

<p>Definition at line <a class="el" href="libchmfile_8cpp_source.html#l00048">48</a> of file <a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;{</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">return</span> m_impl-&gt;<a class="code" href="classLCHMFileImpl.html#ad4d900f2d705ecd494289de810318b5c">title</a>();</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div>
<div class="ttc" id="classLCHMFileImpl_html_ad4d900f2d705ecd494289de810318b5c"><div class="ttname"><a href="classLCHMFileImpl.html#ad4d900f2d705ecd494289de810318b5c">LCHMFileImpl::title</a></div><div class="ttdeci">QString title() const </div><div class="ttdef"><b>Definition:</b> <a href="libchmfileimpl_8h_source.html#l00061">libchmfileimpl.h:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>generators/chm/lib/<a class="el" href="libchmfile_8h_source.html">libchmfile.h</a></li>
<li>generators/chm/lib/<a class="el" href="libchmfile_8cpp_source.html">libchmfile.cpp</a></li>
<li>generators/chm/lib/<a class="el" href="libchmfile__search_8cpp_source.html">libchmfile_search.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classLCHMFile.html">LCHMFile</a></li>
    <li class="footer">Generated on Tue Apr 15 2014 21:16:13 for GP&#39;s Okular Build by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
