<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GP&#39;s Okular Build: fontPool Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GP&#39;s Okular Build
   </div>
   <div id="projectbrief">POSE 2014</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classfontPool.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(13)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classfontPool-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">fontPool Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="fontpool_8h_source.html">fontpool.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for fontPool:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classfontPool.png" usemap="#fontPool_map" alt=""/>
  <map id="fontPool_map" name="fontPool_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr class="memitem:a46fecbc3b61af504c2327a1df7d76fdd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfontPool.html#a46fecbc3b61af504c2327a1df7d76fdd">locateFonts</a> ()</td></tr>
<tr class="separator:a46fecbc3b61af504c2327a1df7d76fdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:a145afc74f19639a06f430f5b46c32de2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfontPool.html#a145afc74f19639a06f430f5b46c32de2">error</a> (const QString &amp;message, int duration)</td></tr>
<tr class="separator:a145afc74f19639a06f430f5b46c32de2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5b869c2a60a349b48a2a200076becad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfontPool.html#ac5b869c2a60a349b48a2a200076becad">warning</a> (const QString &amp;message, int duration)</td></tr>
<tr class="separator:ac5b869c2a60a349b48a2a200076becad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e52df73be76d4af8d026516b0e3ec56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfontPool.html#a8e52df73be76d4af8d026516b0e3ec56">notice</a> (const QString &amp;message, int duration)</td></tr>
<tr class="separator:a8e52df73be76d4af8d026516b0e3ec56"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aeb05a0cfb54be95ad4ae4f94ddaa7c9a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfontPool.html#aeb05a0cfb54be95ad4ae4f94ddaa7c9a">fontPool</a> (bool useFontHinting)</td></tr>
<tr class="separator:aeb05a0cfb54be95ad4ae4f94ddaa7c9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a4746ec2f95fa187bd8429428a88cf3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfontPool.html#a1a4746ec2f95fa187bd8429428a88cf3">~fontPool</a> ()</td></tr>
<tr class="separator:a1a4746ec2f95fa187bd8429428a88cf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98ed808399831f691074452592c18dd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfontPool.html#a98ed808399831f691074452592c18dd9">setParameters</a> (bool useFontHints)</td></tr>
<tr class="separator:a98ed808399831f691074452592c18dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aced1a76b1ac1ff2fd362a969c32b6367"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfontPool.html#aced1a76b1ac1ff2fd362a969c32b6367">setExtraSearchPath</a> (const QString &amp;path)</td></tr>
<tr class="separator:aced1a76b1ac1ff2fd362a969c32b6367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b82e285217fedd027a24d1c984085fa"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfontPool.html#a4b82e285217fedd027a24d1c984085fa">getExtraSearchPath</a> () const </td></tr>
<tr class="separator:a4b82e285217fedd027a24d1c984085fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afad41a07fac9f365f5ed2e76a148092d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfontPool.html#afad41a07fac9f365f5ed2e76a148092d">setDisplayResolution</a> (double _displayResolution_in_dpi)</td></tr>
<tr class="separator:afad41a07fac9f365f5ed2e76a148092d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2460a35758f22529c57bf50e2ca94918"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfontPool.html#a2460a35758f22529c57bf50e2ca94918">setCMperDVIunit</a> (double CMperDVI)</td></tr>
<tr class="separator:a2460a35758f22529c57bf50e2ca94918"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6d4251db24c98e141c0f37528795377"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfontPool.html#ad6d4251db24c98e141c0f37528795377">getCMperDVIunit</a> () const </td></tr>
<tr class="separator:ad6d4251db24c98e141c0f37528795377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e382694df3497e5a3455cba7ac65ad5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfontPool.html#a4e382694df3497e5a3455cba7ac65ad5">getUseFontHints</a> () const </td></tr>
<tr class="separator:a4e382694df3497e5a3455cba7ac65ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb8e0a00f9f51edf69a2e0e7d4541323"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classTeXFontDefinition.html">TeXFontDefinition</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfontPool.html#adb8e0a00f9f51edf69a2e0e7d4541323">appendx</a> (const QString &amp;fontname, quint32 checksum, quint32 scale, double enlargement)</td></tr>
<tr class="separator:adb8e0a00f9f51edf69a2e0e7d4541323"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96eda62e201cf0d15fbd122213d5e83a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfontPool.html#a96eda62e201cf0d15fbd122213d5e83a">mark_fonts_as_unused</a> ()</td></tr>
<tr class="separator:a96eda62e201cf0d15fbd122213d5e83a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a492b3663e4fc78b17d732ba00d5ea10d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfontPool.html#a492b3663e4fc78b17d732ba00d5ea10d">release_fonts</a> ()</td></tr>
<tr class="separator:a492b3663e4fc78b17d732ba00d5ea10d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a6a4a93e8193b31519eb5e17c623c65ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQList.html">QList</a>&lt; <a class="el" href="classTeXFontDefinition.html">TeXFontDefinition</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontList</a></td></tr>
<tr class="separator:a6a4a93e8193b31519eb5e17c623c65ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af02ca5badcfd15a93f871606867909b7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfontPool.html#af02ca5badcfd15a93f871606867909b7">QPixmapSupportsAlpha</a></td></tr>
<tr class="separator:af02ca5badcfd15a93f871606867909b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A list of fonts and a compilation of utility functions</p>
<p>This class holds a list of fonts and is able to perform a number of functions on each of the fonts. The main use of this class is that it is able to control a concurrently running "kpsewhich" program which is used to locate and load the fonts.</p>
<dl class="section author"><dt>Author</dt><dd>Stefan Kebekus <a href="#" onclick="location.href='mai'+'lto:'+'keb'+'ek'+'us@'+'kd'+'e.o'+'rg'; return false;">kebek<span style="display: none;">.nosp@m.</span>us@k<span style="display: none;">.nosp@m.</span>de.or<span style="display: none;">.nosp@m.</span>g</a> </dd></dl>

<p>Definition at line <a class="el" href="fontpool_8h_source.html#l00037">37</a> of file <a class="el" href="fontpool_8h_source.html">fontpool.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aeb05a0cfb54be95ad4ae4f94ddaa7c9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fontPool::fontPool </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>useFontHinting</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fontpool_8cpp_source.html#l00036">36</a> of file <a class="el" href="fontpool_8cpp_source.html">fontpool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  :  progress(<span class="stringliteral">&quot;fontgen&quot;</span>,  <span class="comment">// Chapter in the documentation for help.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;              i18n(<span class="stringliteral">&quot;Okular is currently generating bitmap fonts...&quot;</span>),</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;              i18n(<span class="stringliteral">&quot;Aborts the font generation. Do not do this.&quot;</span>),</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;              i18n(<span class="stringliteral">&quot;Okular is currently generating bitmap fonts which are needed to display your document. &quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;                   <span class="stringliteral">&quot;For this, Okular uses a number of external programs, such as MetaFont. You can find &quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;                   <span class="stringliteral">&quot;the output of these programs later in the document info dialog.&quot;</span>),</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;              i18n(<span class="stringliteral">&quot;Okular is generating fonts. Please wait.&quot;</span>),</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;              0)</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#ifdef DEBUG_FONTPOOL</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  kDebug(kvs::dvi) &lt;&lt; <span class="stringliteral">&quot;fontPool::fontPool() called&quot;</span>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  setObjectName( QLatin1String(<span class="stringliteral">&quot;Font Pool&quot;</span> ));</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  displayResolution_in_dpi = 100.0; <span class="comment">// A not-too-bad-default</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  useFontHints             = useFontHinting;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  CMperDVIunit             = 0;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  extraSearchPath.clear();</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#ifdef HAVE_FREETYPE</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="comment">// Initialize the Freetype Library</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">if</span> ( FT_Init_FreeType( &amp;FreeType_library ) != 0 ) {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    kError(kvs::dvi) &lt;&lt; <span class="stringliteral">&quot;Cannot load the FreeType library. KDVI proceeds without FreeType support.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    FreeType_could_be_loaded = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    FreeType_could_be_loaded = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="comment">// If PK fonts are generated, the kpsewhich command will re-route</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">// the output of MetaFont into its stderr. Here we make sure this</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="comment">// output is intercepted and parsed.</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  connect(&amp;kpsewhich_, SIGNAL(readyReadStandardError()),</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;          <span class="keyword">this</span>, SLOT(mf_output_receiver()));</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// Check if the QT library supports the alpha channel of</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">// QImages. Experiments show that --depending of the configuration</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  <span class="comment">// of QT at compile and runtime or the availability of the XFt</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="comment">// extension, alpha channels are either supported, or silently</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="comment">// ignored.</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  QImage start(1, 1, QImage::Format_ARGB32); <span class="comment">// Generate a 1x1 image, black with alpha=0x10</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  quint32 *destScanLine = (quint32 *)start.scanLine(0);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  *destScanLine = 0x80000000;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  QPixmap intermediate = QPixmap::fromImage(start);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  QPixmap <a class="code" href="synctex__parser__utils_8c.html#a723e06ace24a60ed94dca199595c08d2">dest</a>(1,1);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <a class="code" href="synctex__parser__utils_8c.html#a723e06ace24a60ed94dca199595c08d2">dest</a>.fill(Qt::white);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  QPainter paint( &amp;<a class="code" href="synctex__parser__utils_8c.html#a723e06ace24a60ed94dca199595c08d2">dest</a> );</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  paint.drawPixmap(0, 0, intermediate);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  paint.end();</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  start = <a class="code" href="synctex__parser__utils_8c.html#a723e06ace24a60ed94dca199595c08d2">dest</a>.toImage().convertToFormat(QImage::Format_ARGB32);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  quint8 result = *(start.scanLine(0)) &amp; 0xff;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="keywordflow">if</span> ((result == 0xff) || (result == 0x00)) {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#ifdef DEBUG_FONTPOOL</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    kDebug(kvs::dvi) &lt;&lt; <span class="stringliteral">&quot;fontPool::fontPool(): QPixmap does not support the alpha channel&quot;</span>;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="classfontPool.html#af02ca5badcfd15a93f871606867909b7">QPixmapSupportsAlpha</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">#ifdef DEBUG_FONTPOOL</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    kDebug(kvs::dvi) &lt;&lt; <span class="stringliteral">&quot;fontPool::fontPool(): QPixmap supports the alpha channel&quot;</span>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="classfontPool.html#af02ca5badcfd15a93f871606867909b7">QPixmapSupportsAlpha</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div>
<div class="ttc" id="classfontPool_html_af02ca5badcfd15a93f871606867909b7"><div class="ttname"><a href="classfontPool.html#af02ca5badcfd15a93f871606867909b7">fontPool::QPixmapSupportsAlpha</a></div><div class="ttdeci">bool QPixmapSupportsAlpha</div><div class="ttdef"><b>Definition:</b> <a href="fontpool_8h_source.html#l00124">fontpool.h:124</a></div></div>
<div class="ttc" id="synctex__parser__utils_8c_html_a723e06ace24a60ed94dca199595c08d2"><div class="ttname"><a href="synctex__parser__utils_8c.html#a723e06ace24a60ed94dca199595c08d2">dest</a></div><div class="ttdeci">#define dest</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1a4746ec2f95fa187bd8429428a88cf3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fontPool::~fontPool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fontpool_8cpp_source.html#l00103">103</a> of file <a class="el" href="fontpool_8cpp_source.html">fontpool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;{</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#ifdef DEBUG_FONTPOOL</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  kDebug(kvs::dvi) &lt;&lt; <span class="stringliteral">&quot;fontPool::~fontPool() called&quot;</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="comment">// need to manually clear the fonts _before_ freetype gets unloaded</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  qDeleteAll(<a class="code" href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontList</a>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <a class="code" href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontList</a>.clear();</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">#ifdef HAVE_FREETYPE</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">if</span> (FreeType_could_be_loaded == <span class="keyword">true</span>)</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    FT_Done_FreeType( FreeType_library );</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div>
<div class="ttc" id="classfontPool_html_a6a4a93e8193b31519eb5e17c623c65ac"><div class="ttname"><a href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontPool::fontList</a></div><div class="ttdeci">QList&lt; TeXFontDefinition * &gt; fontList</div><div class="ttdef"><b>Definition:</b> <a href="fontpool_8h_source.html#l00082">fontpool.h:82</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="adb8e0a00f9f51edf69a2e0e7d4541323"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTeXFontDefinition.html">TeXFontDefinition</a> * fontPool::appendx </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>fontname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">quint32&#160;</td>
          <td class="paramname"><em>checksum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">quint32&#160;</td>
          <td class="paramname"><em>scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>enlargement</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fontpool_8cpp_source.html#l00136">136</a> of file <a class="el" href="fontpool_8cpp_source.html">fontpool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;{</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="comment">// Reuse font if possible: check if a font with that name and</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">// natural resolution is already in the fontpool, and use that, if</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// possible.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <a class="code" href="classQList.html">QList&lt;TeXFontDefinition*&gt;::iterator</a> it_fontp = <a class="code" href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontList</a>.begin();</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">for</span> (; it_fontp != <a class="code" href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontList</a>.end(); ++it_fontp) {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="classTeXFontDefinition.html">TeXFontDefinition</a> *<a class="code" href="structdrawinf.html#a4a6ec248b5b071099ddf9b5e4f0255e2">fontp</a> = *it_fontp;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span> ((fontname == fontp-&gt;<a class="code" href="classTeXFontDefinition.html#a9f1c42427054d44e3a5f110230858c03">fontname</a>) &amp;&amp; ( (int)(enlargement*1000.0+0.5)) == (<span class="keywordtype">int</span>)(fontp-&gt;<a class="code" href="classTeXFontDefinition.html#ad49309e518eb93ef852667ccc2b324f3">enlargement</a>*1000.0+0.5)) {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="comment">// if font is already in the list</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      fontp-&gt;<a class="code" href="classTeXFontDefinition.html#af481c09afa81fabb899ae5c005212371">mark_as_used</a>();</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="structdrawinf.html#a4a6ec248b5b071099ddf9b5e4f0255e2">fontp</a>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="comment">// If font doesn&#39;t exist yet, we have to generate a new font.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordtype">double</span> displayResolution = displayResolution_in_dpi;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <a class="code" href="classTeXFontDefinition.html">TeXFontDefinition</a> *fontp = <span class="keyword">new</span> <a class="code" href="classTeXFontDefinition.html">TeXFontDefinition</a>(fontname, displayResolution*enlargement, checksum, scale, <span class="keyword">this</span>, enlargement);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">if</span> (fontp == 0) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    kError(kvs::dvi) &lt;&lt; <span class="stringliteral">&quot;Could not allocate memory for a font structure&quot;</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    exit(0);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <a class="code" href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontList</a>.append(fontp);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="preprocessor">#ifdef PERFORMANCE_MEASUREMENT</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  fontPoolTimer.start();</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  fontPoolTimerFlag = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="comment">// Now start kpsewhich/MetaFont, etc. if necessary</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structdrawinf.html#a4a6ec248b5b071099ddf9b5e4f0255e2">fontp</a>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;}</div>
<div class="ttc" id="structdrawinf_html_a4a6ec248b5b071099ddf9b5e4f0255e2"><div class="ttname"><a href="structdrawinf.html#a4a6ec248b5b071099ddf9b5e4f0255e2">drawinf::fontp</a></div><div class="ttdeci">TeXFontDefinition * fontp</div><div class="ttdef"><b>Definition:</b> <a href="dviRenderer_8h_source.html#l00081">dviRenderer.h:81</a></div></div>
<div class="ttc" id="classTeXFontDefinition_html_a9f1c42427054d44e3a5f110230858c03"><div class="ttname"><a href="classTeXFontDefinition.html#a9f1c42427054d44e3a5f110230858c03">TeXFontDefinition::fontname</a></div><div class="ttdeci">QString fontname</div><div class="ttdef"><b>Definition:</b> <a href="TeXFontDefinition_8h_source.html#l00091">TeXFontDefinition.h:91</a></div></div>
<div class="ttc" id="classTeXFontDefinition_html_af481c09afa81fabb899ae5c005212371"><div class="ttname"><a href="classTeXFontDefinition.html#af481c09afa81fabb899ae5c005212371">TeXFontDefinition::mark_as_used</a></div><div class="ttdeci">void mark_as_used()</div><div class="ttdef"><b>Definition:</b> <a href="TeXFontDefinition_8cpp_source.html#l00214">TeXFontDefinition.cpp:214</a></div></div>
<div class="ttc" id="classTeXFontDefinition_html"><div class="ttname"><a href="classTeXFontDefinition.html">TeXFontDefinition</a></div><div class="ttdef"><b>Definition:</b> <a href="TeXFontDefinition_8h_source.html#l00048">TeXFontDefinition.h:48</a></div></div>
<div class="ttc" id="classfontPool_html_a6a4a93e8193b31519eb5e17c623c65ac"><div class="ttname"><a href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontPool::fontList</a></div><div class="ttdeci">QList&lt; TeXFontDefinition * &gt; fontList</div><div class="ttdef"><b>Definition:</b> <a href="fontpool_8h_source.html#l00082">fontpool.h:82</a></div></div>
<div class="ttc" id="classQList_html"><div class="ttname"><a href="classQList.html">QList</a></div><div class="ttdef"><b>Definition:</b> <a href="browserextension_8h_source.html#l00034">browserextension.h:34</a></div></div>
<div class="ttc" id="classTeXFontDefinition_html_ad49309e518eb93ef852667ccc2b324f3"><div class="ttname"><a href="classTeXFontDefinition.html#ad49309e518eb93ef852667ccc2b324f3">TeXFontDefinition::enlargement</a></div><div class="ttdeci">double enlargement</div><div class="ttdef"><b>Definition:</b> <a href="TeXFontDefinition_8h_source.html#l00094">TeXFontDefinition.h:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a145afc74f19639a06f430f5b46c32de2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fontPool::error </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>duration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Passed through to the top-level kpart. </p>

</div>
</div>
<a class="anchor" id="ad6d4251db24c98e141c0f37528795377"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double fontPool::getCMperDVIunit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fontpool_8h_source.html#l00069">69</a> of file <a class="el" href="fontpool_8h_source.html">fontpool.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{<span class="keywordflow">return</span> CMperDVIunit;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4b82e285217fedd027a24d1c984085fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString fontPool::getExtraSearchPath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the path that is set as the current working directory for the kpsewhich command, so that kpsewhich will find fonts that are stored in the DVI file's directory. </p>

<p>Definition at line <a class="el" href="fontpool_8h_source.html#l00062">62</a> of file <a class="el" href="fontpool_8h_source.html">fontpool.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;{<span class="keywordflow">return</span> extraSearchPath;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4e382694df3497e5a3455cba7ac65ad5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool fontPool::getUseFontHints </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fontpool_8h_source.html#l00072">72</a> of file <a class="el" href="fontpool_8h_source.html">fontpool.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{<span class="keywordflow">return</span> useFontHints;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a46fecbc3b61af504c2327a1df7d76fdd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fontPool::locateFonts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fontpool_8cpp_source.html#l00193">193</a> of file <a class="el" href="fontpool_8cpp_source.html">fontpool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;{</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  kpsewhichOutput.clear();</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="comment">// First, we try and find those fonts which exist on disk</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="comment">// already. If virtual fonts are found, they will add new fonts to</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="comment">// the list of fonts whose font files need to be located, so that we</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="comment">// repeat the lookup.</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordtype">bool</span> vffound;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    vffound = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="classfontPool.html#a46fecbc3b61af504c2327a1df7d76fdd">locateFonts</a>(<span class="keyword">false</span>, <span class="keyword">false</span>, &amp;vffound);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  } <span class="keywordflow">while</span>(vffound);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="comment">// If still not all fonts are found, look again, this time with</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="comment">// on-demand generation of PK fonts enabled.</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordflow">if</span> (!areFontsLocated())</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="classfontPool.html#a46fecbc3b61af504c2327a1df7d76fdd">locateFonts</a>(<span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">// If still not all fonts are found, we look for TFM files as a last</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="comment">// resort, so that we can at least draw filled rectangles for</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="comment">// characters.</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="keywordflow">if</span> (!areFontsLocated())</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="classfontPool.html#a46fecbc3b61af504c2327a1df7d76fdd">locateFonts</a>(<span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">// If still not all fonts are found, we give up. We mark all fonts</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="comment">// as &#39;located&#39;, so that we won&#39;t look for them any more, and</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  <span class="comment">// present an error message to the user.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="keywordflow">if</span> (!areFontsLocated()) {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    markFontsAsLocated();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    emit <a class="code" href="classfontPool.html#a145afc74f19639a06f430f5b46c32de2">error</a>(i18n(<span class="stringliteral">&quot;Okular was not able to locate all the font files &quot;</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                    <span class="stringliteral">&quot;which are necessary to display the current DVI file. &quot;</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                    <span class="stringliteral">&quot;Your document might be unreadable.\n&quot;</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                    <span class="stringliteral">&quot;PATH: %1\nkpswhich: %2&quot;</span>, getenv(<span class="stringliteral">&quot;PATH&quot;</span>), kpsewhichOutput), -1);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div>
<div class="ttc" id="classfontPool_html_a46fecbc3b61af504c2327a1df7d76fdd"><div class="ttname"><a href="classfontPool.html#a46fecbc3b61af504c2327a1df7d76fdd">fontPool::locateFonts</a></div><div class="ttdeci">void locateFonts()</div><div class="ttdef"><b>Definition:</b> <a href="fontpool_8cpp_source.html#l00193">fontpool.cpp:193</a></div></div>
<div class="ttc" id="classfontPool_html_a145afc74f19639a06f430f5b46c32de2"><div class="ttname"><a href="classfontPool.html#a145afc74f19639a06f430f5b46c32de2">fontPool::error</a></div><div class="ttdeci">void error(const QString &amp;message, int duration)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a96eda62e201cf0d15fbd122213d5e83a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fontPool::mark_fonts_as_unused </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fontpool_8cpp_source.html#l00426">426</a> of file <a class="el" href="fontpool_8cpp_source.html">fontpool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;{</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="preprocessor">#ifdef DEBUG_FONTPOOL</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  kDebug(kvs::dvi) &lt;&lt; <span class="stringliteral">&quot;fontPool::mark_fonts_as_unused() called&quot;</span>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <a class="code" href="classQList.html">QList&lt;TeXFontDefinition*&gt;::iterator</a> it_fontp = <a class="code" href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontList</a>.begin();</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="keywordflow">for</span> (; it_fontp != <a class="code" href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontList</a>.end(); ++it_fontp) {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <a class="code" href="classTeXFontDefinition.html">TeXFontDefinition</a> *<a class="code" href="structdrawinf.html#a4a6ec248b5b071099ddf9b5e4f0255e2">fontp</a> = *it_fontp;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    fontp-&gt;<a class="code" href="classTeXFontDefinition.html#ad381057cceb9b78816df47e27c771d1e">flags</a> &amp;= ~<a class="code" href="classTeXFontDefinition.html">TeXFontDefinition</a>::FONT_IN_USE;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;}</div>
<div class="ttc" id="structdrawinf_html_a4a6ec248b5b071099ddf9b5e4f0255e2"><div class="ttname"><a href="structdrawinf.html#a4a6ec248b5b071099ddf9b5e4f0255e2">drawinf::fontp</a></div><div class="ttdeci">TeXFontDefinition * fontp</div><div class="ttdef"><b>Definition:</b> <a href="dviRenderer_8h_source.html#l00081">dviRenderer.h:81</a></div></div>
<div class="ttc" id="classTeXFontDefinition_html_ad381057cceb9b78816df47e27c771d1e"><div class="ttname"><a href="classTeXFontDefinition.html#ad381057cceb9b78816df47e27c771d1e">TeXFontDefinition::flags</a></div><div class="ttdeci">unsigned char flags</div><div class="ttdef"><b>Definition:</b> <a href="TeXFontDefinition_8h_source.html#l00093">TeXFontDefinition.h:93</a></div></div>
<div class="ttc" id="classTeXFontDefinition_html"><div class="ttname"><a href="classTeXFontDefinition.html">TeXFontDefinition</a></div><div class="ttdef"><b>Definition:</b> <a href="TeXFontDefinition_8h_source.html#l00048">TeXFontDefinition.h:48</a></div></div>
<div class="ttc" id="classfontPool_html_a6a4a93e8193b31519eb5e17c623c65ac"><div class="ttname"><a href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontPool::fontList</a></div><div class="ttdeci">QList&lt; TeXFontDefinition * &gt; fontList</div><div class="ttdef"><b>Definition:</b> <a href="fontpool_8h_source.html#l00082">fontpool.h:82</a></div></div>
<div class="ttc" id="classQList_html"><div class="ttname"><a href="classQList.html">QList</a></div><div class="ttdef"><b>Definition:</b> <a href="browserextension_8h_source.html#l00034">browserextension.h:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8e52df73be76d4af8d026516b0e3ec56"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fontPool::notice </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>duration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a492b3663e4fc78b17d732ba00d5ea10d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fontPool::release_fonts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This methods removes all fonts from the fontpool (and thus from memory) which are labeled "not in use". For explanation, see the mark_fonts_as_unused method. </p>

<p>Definition at line <a class="el" href="fontpool_8cpp_source.html#l00440">440</a> of file <a class="el" href="fontpool_8cpp_source.html">fontpool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;{</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;<span class="preprocessor">#ifdef DEBUG_FONTPOOL</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  kDebug(kvs::dvi) &lt;&lt; <span class="stringliteral">&quot;Release_fonts&quot;</span>;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  QMutableListIterator&lt;TeXFontDefinition*&gt; it_fontp(<a class="code" href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontList</a>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordflow">while</span> (it_fontp.hasNext()) {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <a class="code" href="classTeXFontDefinition.html">TeXFontDefinition</a> *<a class="code" href="structdrawinf.html#a4a6ec248b5b071099ddf9b5e4f0255e2">fontp</a> = it_fontp.next();</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="keywordflow">if</span> ((fontp-&gt;<a class="code" href="classTeXFontDefinition.html#ad381057cceb9b78816df47e27c771d1e">flags</a> &amp; <a class="code" href="classTeXFontDefinition.html#a5e758fb1a6ddffb8325b1f893132ce7aa437568b2048a9f1efcce8a3aa0722d70">TeXFontDefinition::FONT_IN_USE</a>) != <a class="code" href="classTeXFontDefinition.html#a5e758fb1a6ddffb8325b1f893132ce7aa437568b2048a9f1efcce8a3aa0722d70">TeXFontDefinition::FONT_IN_USE</a>) {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;      <span class="keyword">delete</span> <a class="code" href="structdrawinf.html#a4a6ec248b5b071099ddf9b5e4f0255e2">fontp</a>;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;      it_fontp.remove();</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    }</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  }</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;}</div>
<div class="ttc" id="classTeXFontDefinition_html_a5e758fb1a6ddffb8325b1f893132ce7aa437568b2048a9f1efcce8a3aa0722d70"><div class="ttname"><a href="classTeXFontDefinition.html#a5e758fb1a6ddffb8325b1f893132ce7aa437568b2048a9f1efcce8a3aa0722d70">TeXFontDefinition::FONT_IN_USE</a></div><div class="ttdef"><b>Definition:</b> <a href="TeXFontDefinition_8h_source.html#l00058">TeXFontDefinition.h:58</a></div></div>
<div class="ttc" id="structdrawinf_html_a4a6ec248b5b071099ddf9b5e4f0255e2"><div class="ttname"><a href="structdrawinf.html#a4a6ec248b5b071099ddf9b5e4f0255e2">drawinf::fontp</a></div><div class="ttdeci">TeXFontDefinition * fontp</div><div class="ttdef"><b>Definition:</b> <a href="dviRenderer_8h_source.html#l00081">dviRenderer.h:81</a></div></div>
<div class="ttc" id="classTeXFontDefinition_html_ad381057cceb9b78816df47e27c771d1e"><div class="ttname"><a href="classTeXFontDefinition.html#ad381057cceb9b78816df47e27c771d1e">TeXFontDefinition::flags</a></div><div class="ttdeci">unsigned char flags</div><div class="ttdef"><b>Definition:</b> <a href="TeXFontDefinition_8h_source.html#l00093">TeXFontDefinition.h:93</a></div></div>
<div class="ttc" id="classTeXFontDefinition_html"><div class="ttname"><a href="classTeXFontDefinition.html">TeXFontDefinition</a></div><div class="ttdef"><b>Definition:</b> <a href="TeXFontDefinition_8h_source.html#l00048">TeXFontDefinition.h:48</a></div></div>
<div class="ttc" id="classfontPool_html_a6a4a93e8193b31519eb5e17c623c65ac"><div class="ttname"><a href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontPool::fontList</a></div><div class="ttdeci">QList&lt; TeXFontDefinition * &gt; fontList</div><div class="ttdef"><b>Definition:</b> <a href="fontpool_8h_source.html#l00082">fontpool.h:82</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2460a35758f22529c57bf50e2ca94918"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fontPool::setCMperDVIunit </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>CMperDVI</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the number of centimeters per DVI unit. </p>

<p>Definition at line <a class="el" href="fontpool_8cpp_source.html#l00363">363</a> of file <a class="el" href="fontpool_8cpp_source.html">fontpool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;{</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="preprocessor">#ifdef DEBUG_FONTPOOL</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  kDebug(kvs::dvi) &lt;&lt; <span class="stringliteral">&quot;fontPool::setCMperDVIunit( &quot;</span> &lt;&lt; _CMperDVI &lt;&lt; <span class="stringliteral">&quot; )&quot;</span>;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  <span class="keywordflow">if</span> (CMperDVIunit == _CMperDVI)</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  CMperDVIunit = _CMperDVI;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;  <a class="code" href="classQList.html">QList&lt;TeXFontDefinition*&gt;::iterator</a> it_fontp = <a class="code" href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontList</a>.begin();</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="keywordflow">for</span> (; it_fontp != <a class="code" href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontList</a>.end(); ++it_fontp) {</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="classTeXFontDefinition.html">TeXFontDefinition</a> *<a class="code" href="structdrawinf.html#a4a6ec248b5b071099ddf9b5e4f0255e2">fontp</a> = *it_fontp;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    fontp-&gt;<a class="code" href="classTeXFontDefinition.html#a676ff9093ae228647162138963d2c1cc">setDisplayResolution</a>(displayResolution_in_dpi * fontp-&gt;<a class="code" href="classTeXFontDefinition.html#ad49309e518eb93ef852667ccc2b324f3">enlargement</a>);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div>
<div class="ttc" id="structdrawinf_html_a4a6ec248b5b071099ddf9b5e4f0255e2"><div class="ttname"><a href="structdrawinf.html#a4a6ec248b5b071099ddf9b5e4f0255e2">drawinf::fontp</a></div><div class="ttdeci">TeXFontDefinition * fontp</div><div class="ttdef"><b>Definition:</b> <a href="dviRenderer_8h_source.html#l00081">dviRenderer.h:81</a></div></div>
<div class="ttc" id="classTeXFontDefinition_html"><div class="ttname"><a href="classTeXFontDefinition.html">TeXFontDefinition</a></div><div class="ttdef"><b>Definition:</b> <a href="TeXFontDefinition_8h_source.html#l00048">TeXFontDefinition.h:48</a></div></div>
<div class="ttc" id="classfontPool_html_a6a4a93e8193b31519eb5e17c623c65ac"><div class="ttname"><a href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontPool::fontList</a></div><div class="ttdeci">QList&lt; TeXFontDefinition * &gt; fontList</div><div class="ttdef"><b>Definition:</b> <a href="fontpool_8h_source.html#l00082">fontpool.h:82</a></div></div>
<div class="ttc" id="classTeXFontDefinition_html_a676ff9093ae228647162138963d2c1cc"><div class="ttname"><a href="classTeXFontDefinition.html#a676ff9093ae228647162138963d2c1cc">TeXFontDefinition::setDisplayResolution</a></div><div class="ttdeci">void setDisplayResolution(double _displayResolution_in_dpi)</div><div class="ttdef"><b>Definition:</b> <a href="TeXFontDefinition_8cpp_source.html#l00203">TeXFontDefinition.cpp:203</a></div></div>
<div class="ttc" id="classQList_html"><div class="ttname"><a href="classQList.html">QList</a></div><div class="ttdef"><b>Definition:</b> <a href="browserextension_8h_source.html#l00034">browserextension.h:34</a></div></div>
<div class="ttc" id="classTeXFontDefinition_html_ad49309e518eb93ef852667ccc2b324f3"><div class="ttname"><a href="classTeXFontDefinition.html#ad49309e518eb93ef852667ccc2b324f3">TeXFontDefinition::enlargement</a></div><div class="ttdeci">double enlargement</div><div class="ttdef"><b>Definition:</b> <a href="TeXFontDefinition_8h_source.html#l00094">TeXFontDefinition.h:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afad41a07fac9f365f5ed2e76a148092d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fontPool::setDisplayResolution </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>_displayResolution_in_dpi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the resolution of the output device. </p>

<p>Definition at line <a class="el" href="fontpool_8cpp_source.html#l00382">382</a> of file <a class="el" href="fontpool_8cpp_source.html">fontpool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;{</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="preprocessor">#ifdef DEBUG_FONTPOOL</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  kDebug(kvs::dvi) &lt;&lt; <span class="stringliteral">&quot;fontPool::setDisplayResolution( displayResolution_in_dpi=&quot;</span> &lt;&lt; _displayResolution_in_dpi &lt;&lt; <span class="stringliteral">&quot; ) called&quot;</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="comment">// Ignore minute changes by less than 2 DPI. The difference would</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="comment">// hardly be visible anyway. That saves a lot of re-painting,</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="comment">// e.g. when the user resizes the window, and a flickery mouse</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="comment">// changes the window size by 1 pixel all the time.</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordflow">if</span> ( fabs(displayResolution_in_dpi - _displayResolution_in_dpi) &lt;= 2.0 ) {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="preprocessor">#ifdef DEBUG_FONTPOOL</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    kDebug(kvs::dvi) &lt;&lt; <span class="stringliteral">&quot;fontPool::setDisplayResolution(...): resolution wasn&#39;t changed. Aborting.&quot;</span>;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  displayResolution_in_dpi = _displayResolution_in_dpi;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keywordtype">double</span> displayResolution = displayResolution_in_dpi;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <a class="code" href="classQList.html">QList&lt;TeXFontDefinition*&gt;::iterator</a> it_fontp = <a class="code" href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontList</a>.begin();</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  <span class="keywordflow">for</span> (; it_fontp != <a class="code" href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontList</a>.end(); ++it_fontp) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="classTeXFontDefinition.html">TeXFontDefinition</a> *<a class="code" href="structdrawinf.html#a4a6ec248b5b071099ddf9b5e4f0255e2">fontp</a> = *it_fontp;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    fontp-&gt;<a class="code" href="classTeXFontDefinition.html#a676ff9093ae228647162138963d2c1cc">setDisplayResolution</a>(displayResolution * fontp-&gt;<a class="code" href="classTeXFontDefinition.html#ad49309e518eb93ef852667ccc2b324f3">enlargement</a>);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="comment">// Do something that causes re-rendering of the dvi-window</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="comment">/*@@@@</span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="comment">  emit fonts_have_been_loaded(this);</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="comment">  */</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div>
<div class="ttc" id="structdrawinf_html_a4a6ec248b5b071099ddf9b5e4f0255e2"><div class="ttname"><a href="structdrawinf.html#a4a6ec248b5b071099ddf9b5e4f0255e2">drawinf::fontp</a></div><div class="ttdeci">TeXFontDefinition * fontp</div><div class="ttdef"><b>Definition:</b> <a href="dviRenderer_8h_source.html#l00081">dviRenderer.h:81</a></div></div>
<div class="ttc" id="classTeXFontDefinition_html"><div class="ttname"><a href="classTeXFontDefinition.html">TeXFontDefinition</a></div><div class="ttdef"><b>Definition:</b> <a href="TeXFontDefinition_8h_source.html#l00048">TeXFontDefinition.h:48</a></div></div>
<div class="ttc" id="classfontPool_html_a6a4a93e8193b31519eb5e17c623c65ac"><div class="ttname"><a href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontPool::fontList</a></div><div class="ttdeci">QList&lt; TeXFontDefinition * &gt; fontList</div><div class="ttdef"><b>Definition:</b> <a href="fontpool_8h_source.html#l00082">fontpool.h:82</a></div></div>
<div class="ttc" id="classTeXFontDefinition_html_a676ff9093ae228647162138963d2c1cc"><div class="ttname"><a href="classTeXFontDefinition.html#a676ff9093ae228647162138963d2c1cc">TeXFontDefinition::setDisplayResolution</a></div><div class="ttdeci">void setDisplayResolution(double _displayResolution_in_dpi)</div><div class="ttdef"><b>Definition:</b> <a href="TeXFontDefinition_8cpp_source.html#l00203">TeXFontDefinition.cpp:203</a></div></div>
<div class="ttc" id="classQList_html"><div class="ttname"><a href="classQList.html">QList</a></div><div class="ttdef"><b>Definition:</b> <a href="browserextension_8h_source.html#l00034">browserextension.h:34</a></div></div>
<div class="ttc" id="classTeXFontDefinition_html_ad49309e518eb93ef852667ccc2b324f3"><div class="ttname"><a href="classTeXFontDefinition.html#ad49309e518eb93ef852667ccc2b324f3">TeXFontDefinition::enlargement</a></div><div class="ttdeci">double enlargement</div><div class="ttdef"><b>Definition:</b> <a href="TeXFontDefinition_8h_source.html#l00094">TeXFontDefinition.h:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aced1a76b1ac1ff2fd362a969c32b6367"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fontPool::setExtraSearchPath </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the DVI file's path. This information is used to set the current working directory for the kpsewhich command, so that kpsewhich will find fonts that are stored in the DVI file's directory. </p>

<p>Definition at line <a class="el" href="fontpool_8h_source.html#l00057">57</a> of file <a class="el" href="fontpool_8h_source.html">fontpool.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;{extraSearchPath = path;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a98ed808399831f691074452592c18dd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fontPool::setParameters </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>useFontHints</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method used to set the MetafontMode for the PK font files. This data is used when loading fonts. Currently, a change here will be applied only to those font which were not yet loaded &mdash;expect funny results when changing the data in the mid-work. </p>

<p>Definition at line <a class="el" href="fontpool_8cpp_source.html#l00120">120</a> of file <a class="el" href="fontpool_8cpp_source.html">fontpool.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;{</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="comment">// Check if glyphs need to be cleared</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordflow">if</span> (_useFontHints != useFontHints) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordtype">double</span> displayResolution = displayResolution_in_dpi;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="classQList.html">QList&lt;TeXFontDefinition*&gt;::iterator</a> it_fontp = <a class="code" href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontList</a>.begin();</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">for</span> (; it_fontp != <a class="code" href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontList</a>.end(); ++it_fontp) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <a class="code" href="classTeXFontDefinition.html">TeXFontDefinition</a> *<a class="code" href="structdrawinf.html#a4a6ec248b5b071099ddf9b5e4f0255e2">fontp</a> = *it_fontp;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      fontp-&gt;<a class="code" href="classTeXFontDefinition.html#a676ff9093ae228647162138963d2c1cc">setDisplayResolution</a>(displayResolution * fontp-&gt;<a class="code" href="classTeXFontDefinition.html#ad49309e518eb93ef852667ccc2b324f3">enlargement</a>);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  useFontHints = _useFontHints;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div>
<div class="ttc" id="structdrawinf_html_a4a6ec248b5b071099ddf9b5e4f0255e2"><div class="ttname"><a href="structdrawinf.html#a4a6ec248b5b071099ddf9b5e4f0255e2">drawinf::fontp</a></div><div class="ttdeci">TeXFontDefinition * fontp</div><div class="ttdef"><b>Definition:</b> <a href="dviRenderer_8h_source.html#l00081">dviRenderer.h:81</a></div></div>
<div class="ttc" id="classTeXFontDefinition_html"><div class="ttname"><a href="classTeXFontDefinition.html">TeXFontDefinition</a></div><div class="ttdef"><b>Definition:</b> <a href="TeXFontDefinition_8h_source.html#l00048">TeXFontDefinition.h:48</a></div></div>
<div class="ttc" id="classfontPool_html_a6a4a93e8193b31519eb5e17c623c65ac"><div class="ttname"><a href="classfontPool.html#a6a4a93e8193b31519eb5e17c623c65ac">fontPool::fontList</a></div><div class="ttdeci">QList&lt; TeXFontDefinition * &gt; fontList</div><div class="ttdef"><b>Definition:</b> <a href="fontpool_8h_source.html#l00082">fontpool.h:82</a></div></div>
<div class="ttc" id="classTeXFontDefinition_html_a676ff9093ae228647162138963d2c1cc"><div class="ttname"><a href="classTeXFontDefinition.html#a676ff9093ae228647162138963d2c1cc">TeXFontDefinition::setDisplayResolution</a></div><div class="ttdeci">void setDisplayResolution(double _displayResolution_in_dpi)</div><div class="ttdef"><b>Definition:</b> <a href="TeXFontDefinition_8cpp_source.html#l00203">TeXFontDefinition.cpp:203</a></div></div>
<div class="ttc" id="classQList_html"><div class="ttname"><a href="classQList.html">QList</a></div><div class="ttdef"><b>Definition:</b> <a href="browserextension_8h_source.html#l00034">browserextension.h:34</a></div></div>
<div class="ttc" id="classTeXFontDefinition_html_ad49309e518eb93ef852667ccc2b324f3"><div class="ttname"><a href="classTeXFontDefinition.html#ad49309e518eb93ef852667ccc2b324f3">TeXFontDefinition::enlargement</a></div><div class="ttdeci">double enlargement</div><div class="ttdef"><b>Definition:</b> <a href="TeXFontDefinition_8h_source.html#l00094">TeXFontDefinition.h:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac5b869c2a60a349b48a2a200076becad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fontPool::warning </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>duration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a6a4a93e8193b31519eb5e17c623c65ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQList.html">QList</a>&lt;<a class="el" href="classTeXFontDefinition.html">TeXFontDefinition</a>*&gt; fontPool::fontList</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="fontpool_8h_source.html#l00082">82</a> of file <a class="el" href="fontpool_8h_source.html">fontpool.h</a>.</p>

</div>
</div>
<a class="anchor" id="af02ca5badcfd15a93f871606867909b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fontPool::QPixmapSupportsAlpha</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This flag is set during the construction of the <a class="el" href="classfontPool.html">fontPool</a> object. It indicates if the QT library supports the alpha channel of pixmaps. Experiments show that &ndash;depending of the configuration of QT at compile and runtime or the availability of the XFt extension, alpha channels are either supported, or silently converted to 1-bit masks. The redering routines in the <a class="el" href="classTeXFont.html">TeXFont</a> implementation use this flag to choose the appropriated drawing routines for the different setups. </p>

<p>Definition at line <a class="el" href="fontpool_8h_source.html#l00124">124</a> of file <a class="el" href="fontpool_8h_source.html">fontpool.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>generators/dvi/<a class="el" href="fontpool_8h_source.html">fontpool.h</a></li>
<li>generators/dvi/<a class="el" href="fontpool_8cpp_source.html">fontpool.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classfontPool.html">fontPool</a></li>
    <li class="footer">Generated on Tue Apr 15 2014 21:16:08 for GP&#39;s Okular Build by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
