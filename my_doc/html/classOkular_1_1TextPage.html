<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GP&#39;s Okular Build: Okular::TextPage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GP&#39;s Okular Build
   </div>
   <div id="projectbrief">POSE 2014</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classOkular_1_1TextPage.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(13)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classOkular_1_1TextPage-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Okular::TextPage Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="textpage_8h_source.html">textpage.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a07b135c84863f18df1d08e95aeeffd34"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOkular_1_1TextPage.html#a07b135c84863f18df1d08e95aeeffd34">TextAreaInclusionBehaviour</a> { <a class="el" href="classOkular_1_1TextPage.html#a07b135c84863f18df1d08e95aeeffd34a37eee044832944a9f31f7a9d3d39e0dd">AnyPixelTextAreaInclusionBehaviour</a>, 
<a class="el" href="classOkular_1_1TextPage.html#a07b135c84863f18df1d08e95aeeffd34a8f4ca9fdbb6e543cd335d787bc80eabc">CentralPixelTextAreaInclusionBehaviour</a>
 }</td></tr>
<tr class="separator:a07b135c84863f18df1d08e95aeeffd34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afb297bd4a13f9c1f130064e326499812"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOkular_1_1TextPage.html#afb297bd4a13f9c1f130064e326499812">TextPage</a> ()</td></tr>
<tr class="separator:afb297bd4a13f9c1f130064e326499812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7df8519615d968370ab2cca64dddee9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOkular_1_1TextPage.html#aa7df8519615d968370ab2cca64dddee9">TextPage</a> (const <a class="el" href="classOkular_1_1TextEntity.html#a9deacb4422ede69001915b33ca21c023">TextEntity::List</a> &amp;<a class="el" href="classOkular_1_1TextPage.html#a4cebdb9719013a6aac4c2000d244ed93">words</a>)</td></tr>
<tr class="separator:aa7df8519615d968370ab2cca64dddee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfc1c92bd4020d5222c93dee51700bf5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOkular_1_1TextPage.html#abfc1c92bd4020d5222c93dee51700bf5">~TextPage</a> ()</td></tr>
<tr class="separator:abfc1c92bd4020d5222c93dee51700bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a003032e4e1cd8c15f01ed639ce62d11f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOkular_1_1TextPage.html#a003032e4e1cd8c15f01ed639ce62d11f">append</a> (const QString &amp;<a class="el" href="classOkular_1_1TextPage.html#a5af682e8df70faec3e9e23792e6ac6b7">text</a>, <a class="el" href="classOkular_1_1NormalizedRect.html">NormalizedRect</a> *area)</td></tr>
<tr class="separator:a003032e4e1cd8c15f01ed639ce62d11f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a362d1cde5838e68fdb244c8480054b76"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOkular_1_1TextPage.html#a362d1cde5838e68fdb244c8480054b76">findText</a> (int id, const QString &amp;<a class="el" href="classOkular_1_1TextPage.html#a5af682e8df70faec3e9e23792e6ac6b7">text</a>, <a class="el" href="namespaceOkular.html#ad7ede3c5a1b1a8bfd83f133e7e3ed9d2">SearchDirection</a> direction, Qt::CaseSensitivity caseSensitivity, const <a class="el" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a> *lastRect)</td></tr>
<tr class="separator:a362d1cde5838e68fdb244c8480054b76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5af682e8df70faec3e9e23792e6ac6b7"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOkular_1_1TextPage.html#a5af682e8df70faec3e9e23792e6ac6b7">text</a> (const <a class="el" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a> *rect=0) const </td></tr>
<tr class="separator:a5af682e8df70faec3e9e23792e6ac6b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42e170befbc39463e599e3c313fd68ba"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOkular_1_1TextPage.html#a42e170befbc39463e599e3c313fd68ba">text</a> (const <a class="el" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a> *rect, <a class="el" href="classOkular_1_1TextPage.html#a07b135c84863f18df1d08e95aeeffd34">TextAreaInclusionBehaviour</a> b) const </td></tr>
<tr class="separator:a42e170befbc39463e599e3c313fd68ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cebdb9719013a6aac4c2000d244ed93"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOkular_1_1TextEntity.html#a9deacb4422ede69001915b33ca21c023">TextEntity::List</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOkular_1_1TextPage.html#a4cebdb9719013a6aac4c2000d244ed93">words</a> (const <a class="el" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a> *rect, <a class="el" href="classOkular_1_1TextPage.html#a07b135c84863f18df1d08e95aeeffd34">TextAreaInclusionBehaviour</a> b) const </td></tr>
<tr class="separator:a4cebdb9719013a6aac4c2000d244ed93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95ed81e55002e36860bbb7c39f34a36f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOkular_1_1TextPage.html#a95ed81e55002e36860bbb7c39f34a36f">wordAt</a> (const <a class="el" href="classOkular_1_1NormalizedPoint.html">NormalizedPoint</a> &amp;p, QString *word=0) const </td></tr>
<tr class="separator:a95ed81e55002e36860bbb7c39f34a36f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dba636c3d91b59e6782700eba2efadf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOkular_1_1TextPage.html#a5dba636c3d91b59e6782700eba2efadf">textArea</a> (<a class="el" href="classOkular_1_1TextSelection.html">TextSelection</a> *selection) const </td></tr>
<tr class="separator:a5dba636c3d91b59e6782700eba2efadf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classOkular_1_1TextPage.html">TextPage</a> class represents the text of a page by providing </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classOkular_1_1TextEntity.html" title="Abstract textentity of Okular. ">TextEntity</a> items for every word/character of the page. </dd></dl>

<p>Definition at line <a class="el" href="textpage_8h_source.html#l00090">90</a> of file <a class="el" href="textpage_8h_source.html">textpage.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a07b135c84863f18df1d08e95aeeffd34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classOkular_1_1TextPage.html#a07b135c84863f18df1d08e95aeeffd34">Okular::TextPage::TextAreaInclusionBehaviour</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defines the behaviour of adding characters to <a class="el" href="classOkular_1_1TextPage.html#a5af682e8df70faec3e9e23792e6ac6b7">text()</a> result </p>
<dl class="section since"><dt>Since</dt><dd>0.10 (KDE 4.4) </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a07b135c84863f18df1d08e95aeeffd34a37eee044832944a9f31f7a9d3d39e0dd"></a>AnyPixelTextAreaInclusionBehaviour&#160;</td><td class="fielddoc">
<p>A character is included into <a class="el" href="classOkular_1_1TextPage.html#a5af682e8df70faec3e9e23792e6ac6b7">text()</a> result if any pixel of his bounding box is in the given area. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a07b135c84863f18df1d08e95aeeffd34a8f4ca9fdbb6e543cd335d787bc80eabc"></a>CentralPixelTextAreaInclusionBehaviour&#160;</td><td class="fielddoc">
<p>A character is included into <a class="el" href="classOkular_1_1TextPage.html#a5af682e8df70faec3e9e23792e6ac6b7">text()</a> result if the central pixel of his bounding box is in the given area. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="textpage_8h_source.html#l00102">102</a> of file <a class="el" href="textpage_8h_source.html">textpage.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <a class="code" href="classOkular_1_1TextPage.html#a07b135c84863f18df1d08e95aeeffd34a37eee044832944a9f31f7a9d3d39e0dd">AnyPixelTextAreaInclusionBehaviour</a>,      </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <a class="code" href="classOkular_1_1TextPage.html#a07b135c84863f18df1d08e95aeeffd34a8f4ca9fdbb6e543cd335d787bc80eabc">CentralPixelTextAreaInclusionBehaviour</a>  </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        };</div>
<div class="ttc" id="classOkular_1_1TextPage_html_a07b135c84863f18df1d08e95aeeffd34a37eee044832944a9f31f7a9d3d39e0dd"><div class="ttname"><a href="classOkular_1_1TextPage.html#a07b135c84863f18df1d08e95aeeffd34a37eee044832944a9f31f7a9d3d39e0dd">Okular::TextPage::AnyPixelTextAreaInclusionBehaviour</a></div><div class="ttdoc">A character is included into text() result if any pixel of his bounding box is in the given area...</div><div class="ttdef"><b>Definition:</b> <a href="textpage_8h_source.html#l00104">textpage.h:104</a></div></div>
<div class="ttc" id="classOkular_1_1TextPage_html_a07b135c84863f18df1d08e95aeeffd34a8f4ca9fdbb6e543cd335d787bc80eabc"><div class="ttname"><a href="classOkular_1_1TextPage.html#a07b135c84863f18df1d08e95aeeffd34a8f4ca9fdbb6e543cd335d787bc80eabc">Okular::TextPage::CentralPixelTextAreaInclusionBehaviour</a></div><div class="ttdoc">A character is included into text() result if the central pixel of his bounding box is in the given a...</div><div class="ttdef"><b>Definition:</b> <a href="textpage_8h_source.html#l00105">textpage.h:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="afb297bd4a13f9c1f130064e326499812"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TextPage::TextPage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a new text page. </p>

<p>Definition at line <a class="el" href="textpage_8cpp_source.html#l00228">228</a> of file <a class="el" href="textpage_8cpp_source.html">textpage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    : d( <span class="keyword">new</span> <a class="code" href="classOkular_1_1TextPagePrivate.html">TextPagePrivate</a>() )</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;{</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="ttc" id="classOkular_1_1TextPagePrivate_html"><div class="ttname"><a href="classOkular_1_1TextPagePrivate.html">Okular::TextPagePrivate</a></div><div class="ttdef"><b>Definition:</b> <a href="textpage__p_8h_source.html#l00040">textpage_p.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa7df8519615d968370ab2cca64dddee9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TextPage::TextPage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classOkular_1_1TextEntity.html#a9deacb4422ede69001915b33ca21c023">TextEntity::List</a> &amp;&#160;</td>
          <td class="paramname"><em>words</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a new text page with the given <code>words</code>. </p>

<p>Definition at line <a class="el" href="textpage_8cpp_source.html#l00233">233</a> of file <a class="el" href="textpage_8cpp_source.html">textpage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    : d( <span class="keyword">new</span> <a class="code" href="classOkular_1_1TextPagePrivate.html">TextPagePrivate</a>() )</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;{</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    TextEntity::List::ConstIterator it = words.constBegin(), itEnd = words.constEnd();</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">for</span> ( ; it != itEnd; ++it )</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <a class="code" href="classOkular_1_1TextEntity.html">TextEntity</a> *e = *it;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">if</span> ( !e-&gt;<a class="code" href="classOkular_1_1TextEntity.html#a401ca5d9c54d5e25bd3c8a7ce7b7092b">text</a>().isEmpty() )</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.append( <span class="keyword">new</span> <a class="code" href="classTinyTextEntity.html">TinyTextEntity</a>( e-&gt;<a class="code" href="classOkular_1_1TextEntity.html#a401ca5d9c54d5e25bd3c8a7ce7b7092b">text</a>(), *e-&gt;<a class="code" href="classOkular_1_1TextEntity.html#a6b6b48011803d2b6bff6068eec430f4b">area</a>() ) );</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <span class="keyword">delete</span> e;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div>
<div class="ttc" id="classOkular_1_1TextEntity_html_a6b6b48011803d2b6bff6068eec430f4b"><div class="ttname"><a href="classOkular_1_1TextEntity.html#a6b6b48011803d2b6bff6068eec430f4b">Okular::TextEntity::area</a></div><div class="ttdeci">NormalizedRect * area() const </div><div class="ttdef"><b>Definition:</b> <a href="textpage_8cpp_source.html#l00203">textpage.cpp:203</a></div></div>
<div class="ttc" id="classOkular_1_1TextPagePrivate_html_a36b703334a8775136cb4308209afd1cb"><div class="ttname"><a href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">Okular::TextPagePrivate::m_words</a></div><div class="ttdeci">TextList m_words</div><div class="ttdef"><b>Definition:</b> <a href="textpage__p_8h_source.html#l00069">textpage_p.h:69</a></div></div>
<div class="ttc" id="classOkular_1_1TextEntity_html_a401ca5d9c54d5e25bd3c8a7ce7b7092b"><div class="ttname"><a href="classOkular_1_1TextEntity.html#a401ca5d9c54d5e25bd3c8a7ce7b7092b">Okular::TextEntity::text</a></div><div class="ttdeci">QString text() const </div><div class="ttdef"><b>Definition:</b> <a href="textpage_8cpp_source.html#l00198">textpage.cpp:198</a></div></div>
<div class="ttc" id="classOkular_1_1TextEntity_html"><div class="ttname"><a href="classOkular_1_1TextEntity.html">Okular::TextEntity</a></div><div class="ttdoc">Abstract textentity of Okular. </div><div class="ttdef"><b>Definition:</b> <a href="textpage_8h_source.html#l00044">textpage.h:44</a></div></div>
<div class="ttc" id="classTinyTextEntity_html"><div class="ttname"><a href="classTinyTextEntity.html">TinyTextEntity</a></div><div class="ttdef"><b>Definition:</b> <a href="textpage_8cpp_source.html#l00119">textpage.cpp:119</a></div></div>
<div class="ttc" id="classOkular_1_1TextPagePrivate_html"><div class="ttname"><a href="classOkular_1_1TextPagePrivate.html">Okular::TextPagePrivate</a></div><div class="ttdef"><b>Definition:</b> <a href="textpage__p_8h_source.html#l00040">textpage_p.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abfc1c92bd4020d5222c93dee51700bf5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TextPage::~TextPage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroys the text page. </p>

<p>Definition at line <a class="el" href="textpage_8cpp_source.html#l00246">246</a> of file <a class="el" href="textpage_8cpp_source.html">textpage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;{</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="keyword">delete</span> d;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a003032e4e1cd8c15f01ed639ce62d11f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TextPage::append </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOkular_1_1NormalizedRect.html">NormalizedRect</a> *&#160;</td>
          <td class="paramname"><em>area</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Appends the given <code>text</code> with the given <code>area</code> as new <a class="el" href="classOkular_1_1TextEntity.html">TextEntity</a> to the page. </p>

<p>Definition at line <a class="el" href="textpage_8cpp_source.html#l00251">251</a> of file <a class="el" href="textpage_8cpp_source.html">textpage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;{</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">if</span> ( !<a class="code" href="classOkular_1_1TextPage.html#a5af682e8df70faec3e9e23792e6ac6b7">text</a>.isEmpty() )</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.append( <span class="keyword">new</span> <a class="code" href="classTinyTextEntity.html">TinyTextEntity</a>( <a class="code" href="classOkular_1_1TextPage.html#a5af682e8df70faec3e9e23792e6ac6b7">text</a>.normalized(QString::NormalizationForm_KC), *area ) );</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keyword">delete</span> area;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div>
<div class="ttc" id="classOkular_1_1TextPagePrivate_html_a36b703334a8775136cb4308209afd1cb"><div class="ttname"><a href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">Okular::TextPagePrivate::m_words</a></div><div class="ttdeci">TextList m_words</div><div class="ttdef"><b>Definition:</b> <a href="textpage__p_8h_source.html#l00069">textpage_p.h:69</a></div></div>
<div class="ttc" id="classTinyTextEntity_html"><div class="ttname"><a href="classTinyTextEntity.html">TinyTextEntity</a></div><div class="ttdef"><b>Definition:</b> <a href="textpage_8cpp_source.html#l00119">textpage.cpp:119</a></div></div>
<div class="ttc" id="classOkular_1_1TextPage_html_a5af682e8df70faec3e9e23792e6ac6b7"><div class="ttname"><a href="classOkular_1_1TextPage.html#a5af682e8df70faec3e9e23792e6ac6b7">Okular::TextPage::text</a></div><div class="ttdeci">QString text(const RegularAreaRect *rect=0) const </div><div class="ttdef"><b>Definition:</b> <a href="textpage_8cpp_source.html#l01068">textpage.cpp:1068</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a362d1cde5838e68fdb244c8480054b76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a> * TextPage::findText </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceOkular.html#ad7ede3c5a1b1a8bfd83f133e7e3ed9d2">SearchDirection</a>&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Qt::CaseSensitivity&#160;</td>
          <td class="paramname"><em>caseSensitivity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a> *&#160;</td>
          <td class="paramname"><em>lastRect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the bounding rect of the text which matches the following criteria or 0 if the search is not successful.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>An unique id for this search. </td></tr>
    <tr><td class="paramname">text</td><td>The search text. </td></tr>
    <tr><td class="paramname">direction</td><td>The direction of the search (<a class="el" href="namespaceOkular.html#ad7ede3c5a1b1a8bfd83f133e7e3ed9d2">SearchDirection</a>) </td></tr>
    <tr><td class="paramname">caseSensitivity</td><td>If Qt::CaseSensitive, the search is case sensitive; otherwise the search is case insensitive. </td></tr>
    <tr><td class="paramname">lastRect</td><td>If 0 the search starts at the beginning of the page, otherwise right/below the coordinates of the given rect. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="textpage_8cpp_source.html#l00715">715</a> of file <a class="el" href="textpage_8cpp_source.html">textpage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;{</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <a class="code" href="namespaceOkular.html#ad7ede3c5a1b1a8bfd83f133e7e3ed9d2">SearchDirection</a> dir=direct;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="comment">// invalid search request</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">if</span> ( d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.isEmpty() || query.isEmpty() || ( area &amp;&amp; area-&gt;isNull() ) )</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    TextList::ConstIterator start;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="keywordtype">int</span> start_offset = 0;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    TextList::ConstIterator end;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keyword">const</span> <a class="code" href="classQMap.html">QMap&lt; int, SearchPoint* &gt;::const_iterator</a> sIt = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a4cd8e4b3be609ba6f03c8c85963d7b6e">m_searchPoints</a>.constFind( searchID );</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keywordflow">if</span> ( sIt == d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a4cd8e4b3be609ba6f03c8c85963d7b6e">m_searchPoints</a>.constEnd() )</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    {</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        <span class="comment">// if no previous run of this search is found, then set it to start</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        <span class="comment">// from the beginning (respecting the search direction)</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="keywordflow">if</span> ( dir == <a class="code" href="namespaceOkular.html#ad7ede3c5a1b1a8bfd83f133e7e3ed9d2ae206453ab991a0ffea7c198f8ef600c4">NextResult</a> )</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            dir = <a class="code" href="namespaceOkular.html#ad7ede3c5a1b1a8bfd83f133e7e3ed9d2a12e1e0d5fba44b6eb075863eb0992cf6">FromTop</a>;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( dir == <a class="code" href="namespaceOkular.html#ad7ede3c5a1b1a8bfd83f133e7e3ed9d2ad604ce7efcb1e2987d9503404f34a504">PreviousResult</a> )</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            dir = <a class="code" href="namespaceOkular.html#ad7ede3c5a1b1a8bfd83f133e7e3ed9d2a1a146d4130e3d6f0ad12fd5ee6fc3497">FromBottom</a>;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    }</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordtype">bool</span> forward = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">switch</span> ( dir )</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceOkular.html#ad7ede3c5a1b1a8bfd83f133e7e3ed9d2a12e1e0d5fba44b6eb075863eb0992cf6">FromTop</a>:</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            start = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.constBegin();</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            start_offset = 0;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            end = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.constEnd();</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceOkular.html#ad7ede3c5a1b1a8bfd83f133e7e3ed9d2a1a146d4130e3d6f0ad12fd5ee6fc3497">FromBottom</a>:</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            start = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.constEnd();</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            start_offset = 0;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            end = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.constBegin();</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            forward = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceOkular.html#ad7ede3c5a1b1a8bfd83f133e7e3ed9d2ae206453ab991a0ffea7c198f8ef600c4">NextResult</a>:</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;            start = (*sIt)-&gt;it_end;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            start_offset = (*sIt)-&gt;offset_end;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            end = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.constEnd();</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="namespaceOkular.html#ad7ede3c5a1b1a8bfd83f133e7e3ed9d2ad604ce7efcb1e2987d9503404f34a504">PreviousResult</a>:</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            start = (*sIt)-&gt;it_begin;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            start_offset = (*sIt)-&gt;offset_begin;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            end = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.constBegin();</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            forward = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    };</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <a class="code" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a>* ret = 0;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespaceOkular.html#a686d56fd67c1b405491328f3f187a4b0">TextComparisonFunction</a> cmpFn = caseSensitivity == Qt::CaseSensitive</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                                       ? CaseSensitiveCmpFn : CaseInsensitiveCmpFn;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordflow">if</span> ( forward )</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        ret = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#aea4416c7f6f5b3fb791a357e2990345c">findTextInternalForward</a>( searchID, query, cmpFn, start, start_offset, end );</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        ret = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a720203a7151be15af3c70050eb9324c2">findTextInternalBackward</a>( searchID, query, cmpFn, start, start_offset, end );</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;}</div>
<div class="ttc" id="namespaceOkular_html_ad7ede3c5a1b1a8bfd83f133e7e3ed9d2"><div class="ttname"><a href="namespaceOkular.html#ad7ede3c5a1b1a8bfd83f133e7e3ed9d2">Okular::SearchDirection</a></div><div class="ttdeci">SearchDirection</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00033">global.h:33</a></div></div>
<div class="ttc" id="classOkular_1_1TextPagePrivate_html_a36b703334a8775136cb4308209afd1cb"><div class="ttname"><a href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">Okular::TextPagePrivate::m_words</a></div><div class="ttdeci">TextList m_words</div><div class="ttdef"><b>Definition:</b> <a href="textpage__p_8h_source.html#l00069">textpage_p.h:69</a></div></div>
<div class="ttc" id="namespaceOkular_html_ad7ede3c5a1b1a8bfd83f133e7e3ed9d2ae206453ab991a0ffea7c198f8ef600c4"><div class="ttname"><a href="namespaceOkular.html#ad7ede3c5a1b1a8bfd83f133e7e3ed9d2ae206453ab991a0ffea7c198f8ef600c4">Okular::NextResult</a></div><div class="ttdoc">Searching for the next result on the page, earlier result should be located so we search from the las...</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00037">global.h:37</a></div></div>
<div class="ttc" id="classOkular_1_1TextPagePrivate_html_a720203a7151be15af3c70050eb9324c2"><div class="ttname"><a href="classOkular_1_1TextPagePrivate.html#a720203a7151be15af3c70050eb9324c2">Okular::TextPagePrivate::findTextInternalBackward</a></div><div class="ttdeci">RegularAreaRect * findTextInternalBackward(int searchID, const QString &amp;query, TextComparisonFunction comparer, const TextList::ConstIterator &amp;start, int start_offset, const TextList::ConstIterator &amp;end)</div><div class="ttdef"><b>Definition:</b> <a href="textpage_8cpp_source.html#l00949">textpage.cpp:949</a></div></div>
<div class="ttc" id="classOkular_1_1RegularAreaRect_html"><div class="ttname"><a href="classOkular_1_1RegularAreaRect.html">Okular::RegularAreaRect</a></div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00860">area.h:860</a></div></div>
<div class="ttc" id="classOkular_1_1TextPagePrivate_html_aea4416c7f6f5b3fb791a357e2990345c"><div class="ttname"><a href="classOkular_1_1TextPagePrivate.html#aea4416c7f6f5b3fb791a357e2990345c">Okular::TextPagePrivate::findTextInternalForward</a></div><div class="ttdeci">RegularAreaRect * findTextInternalForward(int searchID, const QString &amp;query, TextComparisonFunction comparer, const TextList::ConstIterator &amp;start, int start_offset, const TextList::ConstIterator &amp;end)</div><div class="ttdef"><b>Definition:</b> <a href="textpage_8cpp_source.html#l00840">textpage.cpp:840</a></div></div>
<div class="ttc" id="namespaceOkular_html_ad7ede3c5a1b1a8bfd83f133e7e3ed9d2a12e1e0d5fba44b6eb075863eb0992cf6"><div class="ttname"><a href="namespaceOkular.html#ad7ede3c5a1b1a8bfd83f133e7e3ed9d2a12e1e0d5fba44b6eb075863eb0992cf6">Okular::FromTop</a></div><div class="ttdoc">Searching from top of the page, next result is to be found, there was no earlier search result...</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00035">global.h:35</a></div></div>
<div class="ttc" id="namespaceOkular_html_ad7ede3c5a1b1a8bfd83f133e7e3ed9d2a1a146d4130e3d6f0ad12fd5ee6fc3497"><div class="ttname"><a href="namespaceOkular.html#ad7ede3c5a1b1a8bfd83f133e7e3ed9d2a1a146d4130e3d6f0ad12fd5ee6fc3497">Okular::FromBottom</a></div><div class="ttdoc">Searching from bottom of the page, next result is to be found, there was no earlier search result...</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00036">global.h:36</a></div></div>
<div class="ttc" id="namespaceOkular_html_a686d56fd67c1b405491328f3f187a4b0"><div class="ttname"><a href="namespaceOkular.html#a686d56fd67c1b405491328f3f187a4b0">Okular::TextComparisonFunction</a></div><div class="ttdeci">bool(* TextComparisonFunction)(const QStringRef &amp;from, const QStringRef &amp;to)</div><div class="ttdef"><b>Definition:</b> <a href="textpage__p_8h_source.html#l00033">textpage_p.h:33</a></div></div>
<div class="ttc" id="namespaceOkular_html_ad7ede3c5a1b1a8bfd83f133e7e3ed9d2ad604ce7efcb1e2987d9503404f34a504"><div class="ttname"><a href="namespaceOkular.html#ad7ede3c5a1b1a8bfd83f133e7e3ed9d2ad604ce7efcb1e2987d9503404f34a504">Okular::PreviousResult</a></div><div class="ttdoc">Searching for the previous result on the page, earlier result should be located so we search from the...</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00038">global.h:38</a></div></div>
<div class="ttc" id="classOkular_1_1TextPagePrivate_html_a4cd8e4b3be609ba6f03c8c85963d7b6e"><div class="ttname"><a href="classOkular_1_1TextPagePrivate.html#a4cd8e4b3be609ba6f03c8c85963d7b6e">Okular::TextPagePrivate::m_searchPoints</a></div><div class="ttdeci">QMap&lt; int, SearchPoint * &gt; m_searchPoints</div><div class="ttdef"><b>Definition:</b> <a href="textpage__p_8h_source.html#l00070">textpage_p.h:70</a></div></div>
<div class="ttc" id="classQMap_html"><div class="ttname"><a href="classQMap.html">QMap</a></div><div class="ttdef"><b>Definition:</b> <a href="browserextension_8h_source.html#l00033">browserextension.h:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5af682e8df70faec3e9e23792e6ac6b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString TextPage::text </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a> *&#160;</td>
          <td class="paramname"><em>rect</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Text extraction function.</p>
<p>Returns:</p>
<ul>
<li>a null string if <code>rect</code> is a valid pointer to a null area</li>
<li>the whole page text if <code>rect</code> is a null pointer</li>
<li>the text which is included by rectangular area <code>rect</code> otherwise Uses AnyPixelTextAreaInclusionBehaviour </li>
</ul>

<p>Definition at line <a class="el" href="textpage_8cpp_source.html#l01068">1068</a> of file <a class="el" href="textpage_8cpp_source.html">textpage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;{</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classOkular_1_1TextPage.html#a5af682e8df70faec3e9e23792e6ac6b7">text</a>(area, <a class="code" href="classOkular_1_1TextPage.html#a07b135c84863f18df1d08e95aeeffd34a37eee044832944a9f31f7a9d3d39e0dd">AnyPixelTextAreaInclusionBehaviour</a>);</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;}</div>
<div class="ttc" id="classOkular_1_1TextPage_html_a5af682e8df70faec3e9e23792e6ac6b7"><div class="ttname"><a href="classOkular_1_1TextPage.html#a5af682e8df70faec3e9e23792e6ac6b7">Okular::TextPage::text</a></div><div class="ttdeci">QString text(const RegularAreaRect *rect=0) const </div><div class="ttdef"><b>Definition:</b> <a href="textpage_8cpp_source.html#l01068">textpage.cpp:1068</a></div></div>
<div class="ttc" id="classOkular_1_1TextPage_html_a07b135c84863f18df1d08e95aeeffd34a37eee044832944a9f31f7a9d3d39e0dd"><div class="ttname"><a href="classOkular_1_1TextPage.html#a07b135c84863f18df1d08e95aeeffd34a37eee044832944a9f31f7a9d3d39e0dd">Okular::TextPage::AnyPixelTextAreaInclusionBehaviour</a></div><div class="ttdoc">A character is included into text() result if any pixel of his bounding box is in the given area...</div><div class="ttdef"><b>Definition:</b> <a href="textpage_8h_source.html#l00104">textpage.h:104</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a42e170befbc39463e599e3c313fd68ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString TextPage::text </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a> *&#160;</td>
          <td class="paramname"><em>rect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOkular_1_1TextPage.html#a07b135c84863f18df1d08e95aeeffd34">TextAreaInclusionBehaviour</a>&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Text extraction function.</p>
<p>Returns:</p>
<ul>
<li>a null string if <code>rect</code> is a valid pointer to a null area</li>
<li>the whole page text if <code>rect</code> is a null pointer</li>
<li>the text which is included by rectangular area <code>rect</code> otherwise <dl class="section since"><dt>Since</dt><dd>0.10 (KDE 4.4) </dd></dl>
</li>
</ul>

<p>Definition at line <a class="el" href="textpage_8cpp_source.html#l01073">1073</a> of file <a class="el" href="textpage_8cpp_source.html">textpage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;{</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordflow">if</span> ( area &amp;&amp; area-&gt;isNull() )</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        <span class="keywordflow">return</span> QString();</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    TextList::ConstIterator it = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.constBegin(), itEnd = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.constEnd();</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    QString ret;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="keywordflow">if</span> ( area )</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        <span class="keywordflow">for</span> ( ; it != itEnd; ++it )</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        {</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;            <span class="keywordflow">if</span> (b == <a class="code" href="classOkular_1_1TextPage.html#a07b135c84863f18df1d08e95aeeffd34a37eee044832944a9f31f7a9d3d39e0dd">AnyPixelTextAreaInclusionBehaviour</a>)</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            {</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                <span class="keywordflow">if</span> ( area-&gt;intersects( (*it)-&gt;area ) )</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                {</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                    ret += (*it)-&gt;text();</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                }</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;            }</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;            {</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                <a class="code" href="classOkular_1_1NormalizedPoint.html">NormalizedPoint</a> center = (*it)-&gt;area.center();</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                <span class="keywordflow">if</span> ( area-&gt;contains( center.<a class="code" href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">x</a>, center.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a> ) )</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                    ret += (*it)-&gt;text();</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                }</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            }</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        }</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    }</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    {</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <span class="keywordflow">for</span> ( ; it != itEnd; ++it )</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;            ret += (*it)-&gt;text();</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    }</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;}</div>
<div class="ttc" id="classOkular_1_1NormalizedPoint_html"><div class="ttname"><a href="classOkular_1_1NormalizedPoint.html">Okular::NormalizedPoint</a></div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00047">area.h:47</a></div></div>
<div class="ttc" id="classOkular_1_1TextPagePrivate_html_a36b703334a8775136cb4308209afd1cb"><div class="ttname"><a href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">Okular::TextPagePrivate::m_words</a></div><div class="ttdeci">TextList m_words</div><div class="ttdef"><b>Definition:</b> <a href="textpage__p_8h_source.html#l00069">textpage_p.h:69</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedPoint_html_ac2276daabda627d5f82bb1532c293047"><div class="ttname"><a href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">Okular::NormalizedPoint::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00097">area.h:97</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedPoint_html_a857f49b9bc7712430d167472ef9dbd94"><div class="ttname"><a href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">Okular::NormalizedPoint::x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00092">area.h:92</a></div></div>
<div class="ttc" id="classOkular_1_1TextPage_html_a07b135c84863f18df1d08e95aeeffd34a37eee044832944a9f31f7a9d3d39e0dd"><div class="ttname"><a href="classOkular_1_1TextPage.html#a07b135c84863f18df1d08e95aeeffd34a37eee044832944a9f31f7a9d3d39e0dd">Okular::TextPage::AnyPixelTextAreaInclusionBehaviour</a></div><div class="ttdoc">A character is included into text() result if any pixel of his bounding box is in the given area...</div><div class="ttdef"><b>Definition:</b> <a href="textpage_8h_source.html#l00104">textpage.h:104</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5dba636c3d91b59e6782700eba2efadf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a> * TextPage::textArea </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classOkular_1_1TextSelection.html">TextSelection</a> *&#160;</td>
          <td class="paramname"><em>selection</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the rectangular area of the given <code>selection</code>. </p>
<p>It works like this: There are two cursors, we need to select all the text between them. The coordinates are normalised, leftTop is (0,0) rightBottom is (1,1), so for cursors start (sx,sy) and end (ex,ey) we start with finding text rectangles under those points, if not we search for the first that is to the right to it in the same baseline, if none found, then we search for the first rectangle with a baseline under the cursor, having two points that are the best rectangles to both of the cursors: (rx,ry)x(tx,ty) for start and (ux,uy)x(vx,vy) for end, we do a</p>
<ol type="1">
<li>(rx,ry)x(1,ty)</li>
<li>(0,ty)x(1,uy)</li>
<li>(0,uy)x(vx,vy)</li>
</ol>
<p>To find the closest rectangle to cursor (cx,cy) we search for a rectangle that either contains the cursor or that has a left border &gt;= cx and bottom border &gt;= cy.</p>
<p>We will now find out the <a class="el" href="classTinyTextEntity.html">TinyTextEntity</a> for the startRectangle and <a class="el" href="classTinyTextEntity.html">TinyTextEntity</a> for the endRectangle. We have four cases:</p>
<p>Case 1(a): both startpoint and endpoint are out of the bounding Rectangle and at one side, so the rectangle made of start and endPoint are outof the bounding rect (do not intersect)</p>
<p>Case 1(b): both startpoint and endpoint are out of bounding rect, but they are in different side, so is their rectangle</p>
<p>Case 2(a): find the rectangle which contains start and endpoint and having some <a class="el" href="classOkular_1_1TextEntity.html" title="Abstract textentity of Okular. ">TextEntity</a></p>
<p>Case 2(b): if 2(a) fails (if startPoint and endPoint both are unchanged), then we check whether there is any <a class="el" href="classOkular_1_1TextEntity.html" title="Abstract textentity of Okular. ">TextEntity</a> within the rect made by startPoint and endPoint</p>
<p>Case 3: Now, we may have two type of selection.</p>
<ol type="1">
<li>startpoint is left-top of start_end and endpoint is right-bottom</li>
<li>startpoint is left-bottom of start_end and endpoint is top-right</li>
</ol>
<p>Also, as 2(b) is passed, we might have it,itEnd or both unchanged, but the fact is that we have text within them. so, we need to search for the best suitable textposition for start and end.</p>
<p>Case 3(a): We search the nearest rectangle consisting of some <a class="el" href="classTinyTextEntity.html">TinyTextEntity</a> right to or bottom of the startPoint for selection 01. And, for selection 02, we have to search for right and top</p>
<p>Case 3(b): For endpoint, we have to find the point top of or left to endpoint if we have selection 01. Otherwise, the search will be left and bottom</p>
<p>note that, after swapping of start and end, we know that, start is always left to end. but, we cannot say start is positioned upper than end.</p>

<p>Definition at line <a class="el" href="textpage_8cpp_source.html#l00331">331</a> of file <a class="el" href="textpage_8cpp_source.html">textpage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;{</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span> ( d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.isEmpty() )</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a>();</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <a class="code" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a> * ret= <span class="keyword">new</span> <a class="code" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keyword">const</span> QTransform matrix = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a6662808b6ba334f5c7abc157759260b9">m_page</a> ? d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a6662808b6ba334f5c7abc157759260b9">m_page</a>-&gt;<a class="code" href="classOkular_1_1PagePrivate.html#a87e2009afc3a1f31a0b03d3a6a359a03">rotationMatrix</a>() : QTransform();</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="keywordtype">int</span> it = -1;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordtype">int</span> itB = -1;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keywordtype">int</span> itE = -1;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="comment">// ending cursor is higher than start cursor, we need to find positions in reverse</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <a class="code" href="classOkular_1_1NormalizedRect.html">NormalizedRect</a> tmp;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="classOkular_1_1NormalizedRect.html">NormalizedRect</a> start;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="classOkular_1_1NormalizedRect.html">NormalizedRect</a> end;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <a class="code" href="classOkular_1_1NormalizedPoint.html">NormalizedPoint</a> startC = sel-&gt;start();</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordtype">double</span> startCx = startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">x</a>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordtype">double</span> startCy = startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a>;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <a class="code" href="classOkular_1_1NormalizedPoint.html">NormalizedPoint</a> endC = sel-&gt;end();</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordtype">double</span> endCx = endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">x</a>;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keywordtype">double</span> endCy = endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a>;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">if</span> ( sel-&gt;direction() == 1 || ( sel-&gt;itB() == -1 &amp;&amp; sel-&gt;direction() == 0 ) )</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="preprocessor">#ifdef DEBUG_TEXTPAGE</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        kWarning() &lt;&lt; <span class="stringliteral">&quot;running first loop&quot;</span>;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> count = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.count();</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keywordflow">for</span> ( it = 0; it &lt; count; it++ )</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            tmp = *d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>[ it ]-&gt;area();</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <span class="keywordflow">if</span> ( tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#ad9373aab8c5c6369cb0a9cbed2749d9b">contains</a>( startCx, startCy )</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                 || ( tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#acfb70f6417c993508d50090b512cb954">top</a> &lt;= startCy &amp;&amp; tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#a06fddfff238371f6f584360c0678741a">bottom</a> &gt;= startCy &amp;&amp; tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#a76336fe9d733f2b559cf8df3ef48f9e7">left</a> &gt;= startCx )</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                 || ( tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#acfb70f6417c993508d50090b512cb954">top</a> &gt;= startCy))</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                itB = it;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="preprocessor">#ifdef DEBUG_TEXTPAGE</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                kWarning() &lt;&lt; <span class="stringliteral">&quot;start is&quot;</span> &lt;&lt; itB &lt;&lt; <span class="stringliteral">&quot;count is&quot;</span> &lt;&lt; d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.count();</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            }</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        sel-&gt;itB( itB );</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    itB = sel-&gt;itB();</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="preprocessor">#ifdef DEBUG_TEXTPAGE</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    kWarning() &lt;&lt; <span class="stringliteral">&quot;direction is&quot;</span> &lt;&lt; sel-&gt;direction();</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    kWarning() &lt;&lt; <span class="stringliteral">&quot;reloaded start is&quot;</span> &lt;&lt; itB &lt;&lt; <span class="stringliteral">&quot;against&quot;</span> &lt;&lt; sel-&gt;itB();</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">if</span> ( sel-&gt;direction() == 0 || ( sel-&gt;itE() == -1 &amp;&amp; sel-&gt;direction() == 1 ) )</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    {</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="preprocessor">#ifdef DEBUG_TEXTPAGE</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        kWarning() &lt;&lt; <span class="stringliteral">&quot;running second loop&quot;</span>;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">for</span> ( it = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.count() - 1; it &gt;= itB; it-- )</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            tmp = *d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>[ it ]-&gt;area();</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <span class="keywordflow">if</span> ( tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#ad9373aab8c5c6369cb0a9cbed2749d9b">contains</a>( endCx, endCy )</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                 || ( tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#acfb70f6417c993508d50090b512cb954">top</a> &lt;= endCy &amp;&amp; tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#a06fddfff238371f6f584360c0678741a">bottom</a> &gt;= endCy &amp;&amp; tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#a12bbdbb865e6282c9a325b61638553f4">right</a> &lt;= endCx )</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                 || ( tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#a06fddfff238371f6f584360c0678741a">bottom</a> &lt;= endCy ) )</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            {</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                itE = it;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;<span class="preprocessor">#ifdef DEBUG_TEXTPAGE</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                kWarning() &lt;&lt; <span class="stringliteral">&quot;ending is&quot;</span> &lt;&lt; itE &lt;&lt; <span class="stringliteral">&quot;count is&quot;</span> &lt;&lt; d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.count();</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                kWarning() &lt;&lt; <span class="stringliteral">&quot;conditions&quot;</span> &lt;&lt; tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#ad9373aab8c5c6369cb0a9cbed2749d9b">contains</a>( endCx, endCy ) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                  &lt;&lt; ( tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#acfb70f6417c993508d50090b512cb954">top</a> &lt;= endCy &amp;&amp; tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#a06fddfff238371f6f584360c0678741a">bottom</a> &gt;= endCy &amp;&amp; tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#a12bbdbb865e6282c9a325b61638553f4">right</a> &lt;= endCx ) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                  ( tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#acfb70f6417c993508d50090b512cb954">top</a> &gt;= endCy);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        }</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        sel-&gt;itE( itE );</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    }</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="preprocessor">#ifdef DEBUG_TEXTPAGE</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    kWarning() &lt;&lt; <span class="stringliteral">&quot;reloaded ending is&quot;</span> &lt;&lt; itE &lt;&lt; <span class="stringliteral">&quot;against&quot;</span> &lt;&lt; sel-&gt;itE();</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordflow">if</span> ( sel-&gt;itB() != -1 &amp;&amp; sel-&gt;itE() != -1 )</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    {</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        start = *d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>[ sel-&gt;itB() ]-&gt;area();</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        end = *d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>[ sel-&gt;itE() ]-&gt;area();</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <a class="code" href="classOkular_1_1NormalizedRect.html">NormalizedRect</a> first, second, third;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        first = start;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        second.<a class="code" href="classOkular_1_1NormalizedRect.html#acfb70f6417c993508d50090b512cb954">top</a> = start.<a class="code" href="classOkular_1_1NormalizedRect.html#a06fddfff238371f6f584360c0678741a">bottom</a>;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        first.<a class="code" href="classOkular_1_1NormalizedRect.html#a12bbdbb865e6282c9a325b61638553f4">right</a> = second.<a class="code" href="classOkular_1_1NormalizedRect.html#a12bbdbb865e6282c9a325b61638553f4">right</a> = 1;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        third = end;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        third.<a class="code" href="classOkular_1_1NormalizedRect.html#a76336fe9d733f2b559cf8df3ef48f9e7">left</a> = second.<a class="code" href="classOkular_1_1NormalizedRect.html#a76336fe9d733f2b559cf8df3ef48f9e7">left</a> = 0;</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        second.<a class="code" href="classOkular_1_1NormalizedRect.html#a06fddfff238371f6f584360c0678741a">bottom</a> = end.<a class="code" href="classOkular_1_1NormalizedRect.html#acfb70f6417c993508d50090b512cb954">top</a>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keywordtype">int</span> selMax = qMax( sel-&gt;itB(), sel-&gt;itE() );</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="keywordflow">for</span> ( it = qMin( sel-&gt;itB(), sel-&gt;itE() ); it &lt;= selMax; ++it )</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        {</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            tmp = *d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>[ it ]-&gt;area();</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <span class="keywordflow">if</span> ( tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#a9c2d89ccafd17802316c90406c6ec756">intersects</a>( &amp;first ) || tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#a9c2d89ccafd17802316c90406c6ec756">intersects</a>( &amp;second ) || tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#a9c2d89ccafd17802316c90406c6ec756">intersects</a>( &amp;third ) )</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                ret-&gt;<a class="code" href="classOkular_1_1RegularArea.html#a04f39bd87b3d075a9b8e8d4a0ee54149">appendShape</a>( d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.at( it )-&gt;transformedArea( matrix ) );</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        }</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    }</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> scaleX = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a6662808b6ba334f5c7abc157759260b9">m_page</a>-&gt;<a class="code" href="classOkular_1_1PagePrivate.html#a07c3e158a239c990c2ddcac53a6dd3c6">m_page</a>-&gt;<a class="code" href="classOkular_1_1Page.html#a57114e88281da2a51b1bb0d5d4996d53">width</a>();</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> scaleY = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a6662808b6ba334f5c7abc157759260b9">m_page</a>-&gt;<a class="code" href="classOkular_1_1PagePrivate.html#a07c3e158a239c990c2ddcac53a6dd3c6">m_page</a>-&gt;<a class="code" href="classOkular_1_1Page.html#a67246a32b3e625946eb5c685b8372a4f">height</a>();</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <a class="code" href="classOkular_1_1NormalizedPoint.html">NormalizedPoint</a> startC = sel-&gt;start();</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="classOkular_1_1NormalizedPoint.html">NormalizedPoint</a> endC = sel-&gt;end();</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <a class="code" href="classOkular_1_1NormalizedPoint.html">NormalizedPoint</a> temp;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="comment">// if startPoint is right to endPoint swap them</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="keywordflow">if</span>(startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">x</a> &gt; endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">x</a>)</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        temp = startC;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        startC = endC;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        endC = temp;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    }</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="comment">// minX,maxX,minY,maxY gives the bounding rectangle coordinates of the document</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keyword">const</span> <a class="code" href="classOkular_1_1NormalizedRect.html">NormalizedRect</a> boundingRect = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a6662808b6ba334f5c7abc157759260b9">m_page</a>-&gt;<a class="code" href="classOkular_1_1PagePrivate.html#a07c3e158a239c990c2ddcac53a6dd3c6">m_page</a>-&gt;<a class="code" href="classOkular_1_1Page.html#abaa4dd95f6281d3a7773cf1e3a5ae39a">boundingBox</a>();</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="keyword">const</span> QRect content = boundingRect.<a class="code" href="classOkular_1_1NormalizedRect.html#a006897c5fcff2c3a97b4141f1a967513">geometry</a>(scaleX,scaleY);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> minX = content.left();</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> maxX = content.right();</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> minY = content.top();</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">double</span> maxY = content.bottom();</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="comment">// we know that startC.x &gt; endC.x, we need to decide which is top and which is bottom</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keyword">const</span> <a class="code" href="classOkular_1_1NormalizedRect.html">NormalizedRect</a> start_end = (startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a> &lt; endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a>) ? <a class="code" href="classOkular_1_1NormalizedRect.html">NormalizedRect</a>(startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">x</a>, startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a>, endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">x</a>, endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a>)</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                                         : <a class="code" href="classOkular_1_1NormalizedRect.html">NormalizedRect</a>(startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">x</a>, endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a>, endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">x</a>, startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a>);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="comment">// Case 1(a)</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordflow">if</span>(!boundingRect.<a class="code" href="classOkular_1_1NormalizedRect.html#a9c2d89ccafd17802316c90406c6ec756">intersects</a>(start_end)) <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="comment">// case 1(b)</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="comment"></span>    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="comment">// if start is left to content rect take it to content rect boundary</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="keywordflow">if</span>(startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">x</a> * scaleX &lt; minX) startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">x</a> = minX/scaleX;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="keywordflow">if</span>(endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">x</a> * scaleX &gt; maxX) endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">x</a> = maxX/scaleX;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="comment">// if start is top to end (selection type 01)</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keywordflow">if</span>(startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a> * scaleY &lt; minY) startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a> = minY/scaleY;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">if</span>(endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a> * scaleY &gt; maxY) endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a> = maxY/scaleY;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="comment">// if start is bottom to end (selection type 02)</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="keywordflow">if</span>(startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a> * scaleY &gt; maxY) startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a> = maxY/scaleY;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="keywordflow">if</span>(endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a> * scaleY &lt; minY) endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a> = minY/scaleY;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    TextList::ConstIterator it = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.constBegin(), itEnd = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.constEnd();</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    TextList::ConstIterator start = it, end = itEnd, tmpIt = it; <span class="comment">//, tmpItEnd = itEnd;</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keyword">const</span> <a class="code" href="namespaceOkular.html#ad98deec425adfb02ba05a78568bccceb">MergeSide</a> side = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a6662808b6ba334f5c7abc157759260b9">m_page</a> ? (<a class="code" href="namespaceOkular.html#ad98deec425adfb02ba05a78568bccceb">MergeSide</a>)d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a6662808b6ba334f5c7abc157759260b9">m_page</a>-&gt;<a class="code" href="classOkular_1_1PagePrivate.html#a07c3e158a239c990c2ddcac53a6dd3c6">m_page</a>-&gt;<a class="code" href="classOkular_1_1Page.html#a8cde1b9063d412fc338700026735fe4c">totalOrientation</a>() : <a class="code" href="namespaceOkular.html#ad98deec425adfb02ba05a78568bccceba809db1d0fade6720582a2c4f35299e5a">MergeRight</a>;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="classOkular_1_1NormalizedRect.html">NormalizedRect</a> tmp;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="comment">//case 2(a)</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">for</span> ( ; it != itEnd; ++it )</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        tmp = (*it)-&gt;area;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keywordflow">if</span>(tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#ad9373aab8c5c6369cb0a9cbed2749d9b">contains</a>(startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">x</a>,startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a>)){</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            start = it;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        }</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="keywordflow">if</span>(tmp.<a class="code" href="classOkular_1_1NormalizedRect.html#ad9373aab8c5c6369cb0a9cbed2749d9b">contains</a>(endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">x</a>,endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a>)){</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            end = it;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    }</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="comment">//case 2(b)</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    it = tmpIt;</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <span class="keywordflow">if</span>(start == it &amp;&amp; end == itEnd)</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordflow">for</span> ( ; it != itEnd; ++it )</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            <span class="comment">// is there any text reactangle within the start_end rect</span></div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            tmp = (*it)-&gt;area;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <span class="keywordflow">if</span>(start_end.<a class="code" href="classOkular_1_1NormalizedRect.html#a9c2d89ccafd17802316c90406c6ec756">intersects</a>(tmp))</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        }</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="comment">// we have searched every text entities, but none is within the rectangle created by start and end</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="comment">// so, no selection should be done</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">if</span>(it == itEnd)</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        {</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        }</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    it = tmpIt;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="keywordtype">bool</span> selection_two_start = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <span class="comment">//case 3.a</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;    <span class="keywordflow">if</span>(start == it)</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keywordtype">bool</span> flagV = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        <a class="code" href="classOkular_1_1NormalizedRect.html">NormalizedRect</a> rect;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="comment">// selection type 01</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <span class="keywordflow">if</span>(startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a> &lt;= endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a>)</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <span class="keywordflow">for</span> ( ; it != itEnd; ++it )</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            {</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                rect= (*it)-&gt;area;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                rect.<a class="code" href="classOkular_1_1NormalizedRect.html#ad7d24b65fc3351cd6dd6eace53d6a6e5">isBottom</a>(startC) ? flagV = <span class="keyword">false</span>: flagV = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                <span class="keywordflow">if</span>(flagV &amp;&amp; rect.<a class="code" href="classOkular_1_1NormalizedRect.html#ad42d751d8a6db695622645a1e1df8962">isRight</a>(startC))</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                    start = it;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <span class="comment">//selection type 02</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            selection_two_start = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            <span class="keywordtype">int</span> distance = scaleX + scaleY + 100;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <span class="keywordflow">for</span> ( ; it != itEnd; ++it )</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                rect= (*it)-&gt;area;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                <span class="keywordflow">if</span>(rect.<a class="code" href="classOkular_1_1NormalizedRect.html#a97cba414c1e1e096ddeb9e93ad1fe86d">isBottomOrLevel</a>(startC) &amp;&amp; rect.<a class="code" href="classOkular_1_1NormalizedRect.html#ad42d751d8a6db695622645a1e1df8962">isRight</a>(startC))</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                    count++;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                    QRect entRect = rect.<a class="code" href="classOkular_1_1NormalizedRect.html#a006897c5fcff2c3a97b4141f1a967513">geometry</a>(scaleX,scaleY);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                    <span class="keywordtype">int</span> xdist, ydist;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                    xdist = entRect.center().x() - startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">x</a> * scaleX;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                    ydist = entRect.center().y() - startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a> * scaleY;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                    <span class="comment">//make them positive</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                    <span class="keywordflow">if</span>(xdist &lt; 0) xdist = -xdist;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                    <span class="keywordflow">if</span>(ydist &lt; 0) ydist = -ydist;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                    <span class="keywordflow">if</span>( (xdist + ydist) &lt; distance)</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                    {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                        distance = xdist+ ydist;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                        start = it;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                    }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            }</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="comment">//case 3.b</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <span class="keywordflow">if</span>(end == itEnd)</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        it = tmpIt;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        itEnd = itEnd-1;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="keywordtype">bool</span> flagV = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <a class="code" href="classOkular_1_1NormalizedRect.html">NormalizedRect</a> rect;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keywordflow">if</span>(startC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a> &lt;= endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a>)</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;            <span class="keywordflow">for</span> ( ; itEnd &gt;= it; itEnd-- )</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            {</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                rect= (*itEnd)-&gt;area;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                rect.<a class="code" href="classOkular_1_1NormalizedRect.html#a415ad207e347970f0406989dfcbf1b1b">isTop</a>(endC) ? flagV = <span class="keyword">false</span>: flagV = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                <span class="keywordflow">if</span>(flagV &amp;&amp; rect.<a class="code" href="classOkular_1_1NormalizedRect.html#a8024acae1abfdb0765bd205df7efbfe3">isLeft</a>(endC))</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                {</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                    end = itEnd;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                }</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;            }</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;            <span class="keywordtype">int</span> distance = scaleX + scaleY + 100;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <span class="keywordflow">for</span> ( ; itEnd &gt;= it; itEnd-- )</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;            {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                rect= (*itEnd)-&gt;area;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                <span class="keywordflow">if</span>(rect.<a class="code" href="classOkular_1_1NormalizedRect.html#a0d525438d22d8b2ec76d054e1921b4e1">isTopOrLevel</a>(endC) &amp;&amp; rect.<a class="code" href="classOkular_1_1NormalizedRect.html#a8024acae1abfdb0765bd205df7efbfe3">isLeft</a>(endC))</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                    QRect entRect = rect.<a class="code" href="classOkular_1_1NormalizedRect.html#a006897c5fcff2c3a97b4141f1a967513">geometry</a>(scaleX,scaleY);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                    <span class="keywordtype">int</span> xdist, ydist;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                    xdist = entRect.center().x() - endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">x</a> * scaleX;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                    ydist = entRect.center().y() - endC.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a> * scaleY;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                    <span class="comment">//make them positive</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                    <span class="keywordflow">if</span>(xdist &lt; 0) xdist = -xdist;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                    <span class="keywordflow">if</span>(ydist &lt; 0) ydist = -ydist;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                    <span class="keywordflow">if</span>( (xdist + ydist) &lt; distance)</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                    {</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                        distance = xdist+ ydist;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                        end = itEnd;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                    }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            }</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="comment">/* if start and end in selection 02 are in the same column, and we</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">     start at an empty space we have to remove the selection of last</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment">     character</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">if</span>(selection_two_start)</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    {</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="keywordflow">if</span>(start &gt; end)</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            start = start - 1;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;    }</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="comment">// if start is less than end swap them</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordflow">if</span>(start &gt; end)</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    {</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        it = start;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        start = end;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        end = it;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="comment">// removes the possibility of crash, in case none of 1 to 3 is true</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordflow">if</span>(end == d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.constEnd()) end--;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keywordflow">for</span>( ;start &lt;= end ; start++)</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    {</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        ret-&gt;<a class="code" href="classOkular_1_1RegularArea.html#a04f39bd87b3d075a9b8e8d4a0ee54149">appendShape</a>( (*start)-&gt;transformedArea( matrix ), side );</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;     }</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;}</div>
<div class="ttc" id="classOkular_1_1NormalizedPoint_html"><div class="ttname"><a href="classOkular_1_1NormalizedPoint.html">Okular::NormalizedPoint</a></div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00047">area.h:47</a></div></div>
<div class="ttc" id="classOkular_1_1TextPagePrivate_html_a36b703334a8775136cb4308209afd1cb"><div class="ttname"><a href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">Okular::TextPagePrivate::m_words</a></div><div class="ttdeci">TextList m_words</div><div class="ttdef"><b>Definition:</b> <a href="textpage__p_8h_source.html#l00069">textpage_p.h:69</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedRect_html_ad42d751d8a6db695622645a1e1df8962"><div class="ttname"><a href="classOkular_1_1NormalizedRect.html#ad42d751d8a6db695622645a1e1df8962">Okular::NormalizedRect::isRight</a></div><div class="ttdeci">bool isRight(const NormalizedPoint &amp;pt) const </div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00276">area.h:276</a></div></div>
<div class="ttc" id="classOkular_1_1TextPagePrivate_html_a6662808b6ba334f5c7abc157759260b9"><div class="ttname"><a href="classOkular_1_1TextPagePrivate.html#a6662808b6ba334f5c7abc157759260b9">Okular::TextPagePrivate::m_page</a></div><div class="ttdeci">PagePrivate * m_page</div><div class="ttdef"><b>Definition:</b> <a href="textpage__p_8h_source.html#l00071">textpage_p.h:71</a></div></div>
<div class="ttc" id="namespaceOkular_html_ad98deec425adfb02ba05a78568bccceb"><div class="ttname"><a href="namespaceOkular.html#ad98deec425adfb02ba05a78568bccceb">Okular::MergeSide</a></div><div class="ttdeci">MergeSide</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00064">global.h:64</a></div></div>
<div class="ttc" id="classOkular_1_1PagePrivate_html_a07c3e158a239c990c2ddcac53a6dd3c6"><div class="ttname"><a href="classOkular_1_1PagePrivate.html#a07c3e158a239c990c2ddcac53a6dd3c6">Okular::PagePrivate::m_page</a></div><div class="ttdeci">Page * m_page</div><div class="ttdef"><b>Definition:</b> <a href="page__p_8h_source.html#l00126">page_p.h:126</a></div></div>
<div class="ttc" id="classOkular_1_1Page_html_a8cde1b9063d412fc338700026735fe4c"><div class="ttname"><a href="classOkular_1_1Page.html#a8cde1b9063d412fc338700026735fe4c">Okular::Page::totalOrientation</a></div><div class="ttdeci">Rotation totalOrientation() const </div><div class="ttdef"><b>Definition:</b> <a href="page_8cpp_source.html#l00159">page.cpp:159</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedRect_html_a76336fe9d733f2b559cf8df3ef48f9e7"><div class="ttname"><a href="classOkular_1_1NormalizedRect.html#a76336fe9d733f2b559cf8df3ef48f9e7">Okular::NormalizedRect::left</a></div><div class="ttdeci">double left</div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00305">area.h:305</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedRect_html"><div class="ttname"><a href="classOkular_1_1NormalizedRect.html">Okular::NormalizedRect</a></div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00105">area.h:105</a></div></div>
<div class="ttc" id="classOkular_1_1RegularArea_html_a04f39bd87b3d075a9b8e8d4a0ee54149"><div class="ttname"><a href="classOkular_1_1RegularArea.html#a04f39bd87b3d075a9b8e8d4a0ee54149">Okular::RegularArea::appendShape</a></div><div class="ttdeci">void appendShape(const NormalizedShape &amp;shape, MergeSide side=MergeAll)</div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00725">area.h:725</a></div></div>
<div class="ttc" id="classOkular_1_1RegularAreaRect_html"><div class="ttname"><a href="classOkular_1_1RegularAreaRect.html">Okular::RegularAreaRect</a></div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00860">area.h:860</a></div></div>
<div class="ttc" id="namespaceOkular_html_ad98deec425adfb02ba05a78568bccceba809db1d0fade6720582a2c4f35299e5a"><div class="ttname"><a href="namespaceOkular.html#ad98deec425adfb02ba05a78568bccceba809db1d0fade6720582a2c4f35299e5a">Okular::MergeRight</a></div><div class="ttdoc">Merge only if the right side of the first area intersect. </div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00066">global.h:66</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedPoint_html_ac2276daabda627d5f82bb1532c293047"><div class="ttname"><a href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">Okular::NormalizedPoint::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00097">area.h:97</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedRect_html_a9c2d89ccafd17802316c90406c6ec756"><div class="ttname"><a href="classOkular_1_1NormalizedRect.html#a9c2d89ccafd17802316c90406c6ec756">Okular::NormalizedRect::intersects</a></div><div class="ttdeci">bool intersects(const NormalizedRect &amp;other) const </div><div class="ttdef"><b>Definition:</b> <a href="area_8cpp_source.html#l00161">area.cpp:161</a></div></div>
<div class="ttc" id="classOkular_1_1Page_html_a67246a32b3e625946eb5c685b8372a4f"><div class="ttname"><a href="classOkular_1_1Page.html#a67246a32b3e625946eb5c685b8372a4f">Okular::Page::height</a></div><div class="ttdeci">double height() const </div><div class="ttdef"><b>Definition:</b> <a href="page_8cpp_source.html#l00169">page.cpp:169</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedRect_html_ad9373aab8c5c6369cb0a9cbed2749d9b"><div class="ttname"><a href="classOkular_1_1NormalizedRect.html#ad9373aab8c5c6369cb0a9cbed2749d9b">Okular::NormalizedRect::contains</a></div><div class="ttdeci">bool contains(double x, double y) const </div><div class="ttdef"><b>Definition:</b> <a href="area_8cpp_source.html#l00156">area.cpp:156</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedRect_html_a12bbdbb865e6282c9a325b61638553f4"><div class="ttname"><a href="classOkular_1_1NormalizedRect.html#a12bbdbb865e6282c9a325b61638553f4">Okular::NormalizedRect::right</a></div><div class="ttdeci">double right</div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00315">area.h:315</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedRect_html_a0d525438d22d8b2ec76d054e1921b4e1"><div class="ttname"><a href="classOkular_1_1NormalizedRect.html#a0d525438d22d8b2ec76d054e1921b4e1">Okular::NormalizedRect::isTopOrLevel</a></div><div class="ttdeci">bool isTopOrLevel(const NormalizedPoint &amp;pt) const </div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00258">area.h:258</a></div></div>
<div class="ttc" id="classOkular_1_1Page_html_abaa4dd95f6281d3a7773cf1e3a5ae39a"><div class="ttname"><a href="classOkular_1_1Page.html#abaa4dd95f6281d3a7773cf1e3a5ae39a">Okular::Page::boundingBox</a></div><div class="ttdeci">NormalizedRect boundingBox() const </div><div class="ttdef"><b>Definition:</b> <a href="page_8cpp_source.html#l00179">page.cpp:179</a></div></div>
<div class="ttc" id="classOkular_1_1Page_html_a57114e88281da2a51b1bb0d5d4996d53"><div class="ttname"><a href="classOkular_1_1Page.html#a57114e88281da2a51b1bb0d5d4996d53">Okular::Page::width</a></div><div class="ttdeci">double width() const </div><div class="ttdef"><b>Definition:</b> <a href="page_8cpp_source.html#l00164">page.cpp:164</a></div></div>
<div class="ttc" id="classOkular_1_1PagePrivate_html_a87e2009afc3a1f31a0b03d3a6a359a03"><div class="ttname"><a href="classOkular_1_1PagePrivate.html#a87e2009afc3a1f31a0b03d3a6a359a03">Okular::PagePrivate::rotationMatrix</a></div><div class="ttdeci">QTransform rotationMatrix() const </div><div class="ttdef"><b>Definition:</b> <a href="page_8cpp_source.html#l00120">page.cpp:120</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedRect_html_ad7d24b65fc3351cd6dd6eace53d6a6e5"><div class="ttname"><a href="classOkular_1_1NormalizedRect.html#ad7d24b65fc3351cd6dd6eace53d6a6e5">Okular::NormalizedRect::isBottom</a></div><div class="ttdeci">bool isBottom(const NormalizedPoint &amp;pt) const </div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00231">area.h:231</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedRect_html_a006897c5fcff2c3a97b4141f1a967513"><div class="ttname"><a href="classOkular_1_1NormalizedRect.html#a006897c5fcff2c3a97b4141f1a967513">Okular::NormalizedRect::geometry</a></div><div class="ttdeci">QRect geometry(int xScale, int yScale) const </div><div class="ttdef"><b>Definition:</b> <a href="area_8cpp_source.html#l00239">area.cpp:239</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedRect_html_a97cba414c1e1e096ddeb9e93ad1fe86d"><div class="ttname"><a href="classOkular_1_1NormalizedRect.html#a97cba414c1e1e096ddeb9e93ad1fe86d">Okular::NormalizedRect::isBottomOrLevel</a></div><div class="ttdeci">bool isBottomOrLevel(const NormalizedPoint &amp;pt) const </div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00249">area.h:249</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedRect_html_acfb70f6417c993508d50090b512cb954"><div class="ttname"><a href="classOkular_1_1NormalizedRect.html#acfb70f6417c993508d50090b512cb954">Okular::NormalizedRect::top</a></div><div class="ttdeci">double top</div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00310">area.h:310</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedPoint_html_a857f49b9bc7712430d167472ef9dbd94"><div class="ttname"><a href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">Okular::NormalizedPoint::x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00092">area.h:92</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedRect_html_a415ad207e347970f0406989dfcbf1b1b"><div class="ttname"><a href="classOkular_1_1NormalizedRect.html#a415ad207e347970f0406989dfcbf1b1b">Okular::NormalizedRect::isTop</a></div><div class="ttdeci">bool isTop(const NormalizedPoint &amp;pt) const </div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00240">area.h:240</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedRect_html_a06fddfff238371f6f584360c0678741a"><div class="ttname"><a href="classOkular_1_1NormalizedRect.html#a06fddfff238371f6f584360c0678741a">Okular::NormalizedRect::bottom</a></div><div class="ttdeci">double bottom</div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00320">area.h:320</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedRect_html_a8024acae1abfdb0765bd205df7efbfe3"><div class="ttname"><a href="classOkular_1_1NormalizedRect.html#a8024acae1abfdb0765bd205df7efbfe3">Okular::NormalizedRect::isLeft</a></div><div class="ttdeci">bool isLeft(const NormalizedPoint &amp;pt) const </div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00267">area.h:267</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a95ed81e55002e36860bbb7c39f34a36f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a> * TextPage::wordAt </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classOkular_1_1NormalizedPoint.html">NormalizedPoint</a> &amp;&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QString *&#160;</td>
          <td class="paramname"><em>word</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the area and text of the word at the given point Note that ownership of the returned area belongs to the caller. </p>
<dl class="section since"><dt>Since</dt><dd>0.15 (KDE 4.9) </dd></dl>

<p>Definition at line <a class="el" href="textpage_8cpp_source.html#l01957">1957</a> of file <a class="el" href="textpage_8cpp_source.html">textpage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;{</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    TextList::ConstIterator itBegin = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.constBegin(), itEnd = d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>.constEnd();</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;    TextList::ConstIterator it = itBegin;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    TextList::ConstIterator posIt = itEnd;</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    <span class="keywordflow">for</span> ( ; it != itEnd; ++it )</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        <span class="keywordflow">if</span> ( (*it)-&gt;area.contains( p.<a class="code" href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">x</a>, p.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a> ) )</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;        {</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;            posIt = it;</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;        }</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    }</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    QString <a class="code" href="classOkular_1_1TextPage.html#a5af682e8df70faec3e9e23792e6ac6b7">text</a>;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    <span class="keywordflow">if</span> ( posIt != itEnd )</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    {</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;        <span class="keywordflow">if</span> ( (*posIt)-&gt;text().simplified().isEmpty() )</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;        {</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;        }</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;        <span class="comment">// Find the first TinyTextEntity of the word</span></div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;        <span class="keywordflow">while</span> ( posIt != itBegin )</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;        {</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;            --posIt;</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;            <span class="keyword">const</span> QString itText = (*posIt)-&gt;text();</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;            <span class="keywordflow">if</span> ( itText.right(1).at(0).isSpace() )</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;            {</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;                <span class="keywordflow">if</span> (itText.endsWith(<span class="stringliteral">&quot;-\n&quot;</span>))</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;                {</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;                    <span class="comment">// Is an hyphenated word</span></div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;                    <span class="comment">// continue searching the start of the word back</span></div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;                }</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;                </div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;                <span class="keywordflow">if</span> (itText == <span class="stringliteral">&quot;\n&quot;</span> &amp;&amp; posIt != itBegin )</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;                {</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;                    --posIt;</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;                    <span class="keywordflow">if</span> ((*posIt)-&gt;text().endsWith(<span class="stringliteral">&quot;-&quot;</span>)) {</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;                        <span class="comment">// Is an hyphenated word</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;                        <span class="comment">// continue searching the start of the word back</span></div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;                    }</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;                    ++posIt;</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;                }</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;                ++posIt;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;            }</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        }</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;        <a class="code" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a> *ret = <span class="keyword">new</span> <a class="code" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a>();</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;        <span class="keywordflow">for</span> ( ; posIt != itEnd; ++posIt )</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;        {</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;            <span class="keyword">const</span> QString itText = (*posIt)-&gt;text();</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;            <span class="keywordflow">if</span> ( itText.simplified().isEmpty() )</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;            {</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;            }</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;            </div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;            ret-&gt;<a class="code" href="classOkular_1_1RegularArea.html#a04f39bd87b3d075a9b8e8d4a0ee54149">appendShape</a>( (*posIt)-&gt;area );</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;            text += (*posIt)-&gt;text();</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;            <span class="keywordflow">if</span> (itText.right(1).at(0).isSpace())</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;            {</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;                <span class="keywordflow">if</span> (!text.endsWith(<span class="stringliteral">&quot;-\n&quot;</span>))</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;                {</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;                }</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;            }</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;        }</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;        </div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;        <span class="keywordflow">if</span> (word)</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;        {</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;            *word = <a class="code" href="classOkular_1_1TextPage.html#a5af682e8df70faec3e9e23792e6ac6b7">text</a>;</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;        }</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;        <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    }</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    {</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    }</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;}</div>
<div class="ttc" id="classOkular_1_1TextPagePrivate_html_a36b703334a8775136cb4308209afd1cb"><div class="ttname"><a href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">Okular::TextPagePrivate::m_words</a></div><div class="ttdeci">TextList m_words</div><div class="ttdef"><b>Definition:</b> <a href="textpage__p_8h_source.html#l00069">textpage_p.h:69</a></div></div>
<div class="ttc" id="classOkular_1_1RegularArea_html_a04f39bd87b3d075a9b8e8d4a0ee54149"><div class="ttname"><a href="classOkular_1_1RegularArea.html#a04f39bd87b3d075a9b8e8d4a0ee54149">Okular::RegularArea::appendShape</a></div><div class="ttdeci">void appendShape(const NormalizedShape &amp;shape, MergeSide side=MergeAll)</div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00725">area.h:725</a></div></div>
<div class="ttc" id="classOkular_1_1RegularAreaRect_html"><div class="ttname"><a href="classOkular_1_1RegularAreaRect.html">Okular::RegularAreaRect</a></div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00860">area.h:860</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedPoint_html_ac2276daabda627d5f82bb1532c293047"><div class="ttname"><a href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">Okular::NormalizedPoint::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00097">area.h:97</a></div></div>
<div class="ttc" id="classOkular_1_1TextPage_html_a5af682e8df70faec3e9e23792e6ac6b7"><div class="ttname"><a href="classOkular_1_1TextPage.html#a5af682e8df70faec3e9e23792e6ac6b7">Okular::TextPage::text</a></div><div class="ttdeci">QString text(const RegularAreaRect *rect=0) const </div><div class="ttdef"><b>Definition:</b> <a href="textpage_8cpp_source.html#l01068">textpage.cpp:1068</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedPoint_html_a857f49b9bc7712430d167472ef9dbd94"><div class="ttname"><a href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">Okular::NormalizedPoint::x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00092">area.h:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4cebdb9719013a6aac4c2000d244ed93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOkular_1_1TextEntity.html#a9deacb4422ede69001915b33ca21c023">TextEntity::List</a> TextPage::words </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classOkular_1_1RegularAreaRect.html">RegularAreaRect</a> *&#160;</td>
          <td class="paramname"><em>rect</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOkular_1_1TextPage.html#a07b135c84863f18df1d08e95aeeffd34">TextAreaInclusionBehaviour</a>&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Text entity extraction function. Similar to <a class="el" href="classOkular_1_1TextPage.html#a5af682e8df70faec3e9e23792e6ac6b7">text()</a> but returns the words including their bounding rectangles. Note that ownership of the contents of the returned list belongs to the caller. </p>
<dl class="section since"><dt>Since</dt><dd>0.14 (KDE 4.8) </dd></dl>

<p>Definition at line <a class="el" href="textpage_8cpp_source.html#l01920">1920</a> of file <a class="el" href="textpage_8cpp_source.html">textpage.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;{</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;    <span class="keywordflow">if</span> ( area &amp;&amp; area-&gt;isNull() )</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classQList.html">TextEntity::List</a>();</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    <a class="code" href="classQList.html">TextEntity::List</a> ret;</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <span class="keywordflow">if</span> ( area )</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;    {</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;        <span class="keywordflow">foreach</span> (<a class="code" href="classTinyTextEntity.html">TinyTextEntity</a> *te, d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>)</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;        {</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;            <span class="keywordflow">if</span> (b == <a class="code" href="classOkular_1_1TextPage.html#a07b135c84863f18df1d08e95aeeffd34a37eee044832944a9f31f7a9d3d39e0dd">AnyPixelTextAreaInclusionBehaviour</a>)</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;            {</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;                <span class="keywordflow">if</span> ( area-&gt;intersects( te-&gt;<a class="code" href="classTinyTextEntity.html#a8b5dce783e679c307cfd36f67e2fb521">area</a> ) )</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;                {</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;                    ret.append( <span class="keyword">new</span> <a class="code" href="classOkular_1_1TextEntity.html">TextEntity</a>( te-&gt;<a class="code" href="classTinyTextEntity.html#a9657105c457630e898ea823ddc87d278">text</a>(), <span class="keyword">new</span> <a class="code" href="classOkular_1_1NormalizedRect.html">Okular::NormalizedRect</a>( te-&gt;<a class="code" href="classTinyTextEntity.html#a8b5dce783e679c307cfd36f67e2fb521">area</a>) ) );</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;                }</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;            }</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;            {</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;                <span class="keyword">const</span> <a class="code" href="classOkular_1_1NormalizedPoint.html">NormalizedPoint</a> center = te-&gt;<a class="code" href="classTinyTextEntity.html#a8b5dce783e679c307cfd36f67e2fb521">area</a>.<a class="code" href="classOkular_1_1NormalizedRect.html#ac5c7173b01ac84afe38cd0c93b653435">center</a>();</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;                <span class="keywordflow">if</span> ( area-&gt;contains( center.<a class="code" href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">x</a>, center.<a class="code" href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">y</a> ) )</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;                {</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;                    ret.append( <span class="keyword">new</span> <a class="code" href="classOkular_1_1TextEntity.html">TextEntity</a>( te-&gt;<a class="code" href="classTinyTextEntity.html#a9657105c457630e898ea823ddc87d278">text</a>(), <span class="keyword">new</span> <a class="code" href="classOkular_1_1NormalizedRect.html">Okular::NormalizedRect</a>( te-&gt;<a class="code" href="classTinyTextEntity.html#a8b5dce783e679c307cfd36f67e2fb521">area</a>) ) );</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;                }</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;            }</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;        }</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    }</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    {</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;        <span class="keywordflow">foreach</span> (<a class="code" href="classTinyTextEntity.html">TinyTextEntity</a> *te, d-&gt;<a class="code" href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">m_words</a>)</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;        {</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;            ret.append( <span class="keyword">new</span> <a class="code" href="classOkular_1_1TextEntity.html">TextEntity</a>( te-&gt;<a class="code" href="classTinyTextEntity.html#a9657105c457630e898ea823ddc87d278">text</a>(), <span class="keyword">new</span> <a class="code" href="classOkular_1_1NormalizedRect.html">Okular::NormalizedRect</a>( te-&gt;<a class="code" href="classTinyTextEntity.html#a8b5dce783e679c307cfd36f67e2fb521">area</a>) ) );</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;        }</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;    }</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;}</div>
<div class="ttc" id="classOkular_1_1NormalizedPoint_html"><div class="ttname"><a href="classOkular_1_1NormalizedPoint.html">Okular::NormalizedPoint</a></div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00047">area.h:47</a></div></div>
<div class="ttc" id="classOkular_1_1TextPagePrivate_html_a36b703334a8775136cb4308209afd1cb"><div class="ttname"><a href="classOkular_1_1TextPagePrivate.html#a36b703334a8775136cb4308209afd1cb">Okular::TextPagePrivate::m_words</a></div><div class="ttdeci">TextList m_words</div><div class="ttdef"><b>Definition:</b> <a href="textpage__p_8h_source.html#l00069">textpage_p.h:69</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedRect_html_ac5c7173b01ac84afe38cd0c93b653435"><div class="ttname"><a href="classOkular_1_1NormalizedRect.html#ac5c7173b01ac84afe38cd0c93b653435">Okular::NormalizedRect::center</a></div><div class="ttdeci">NormalizedPoint center() const </div><div class="ttdef"><b>Definition:</b> <a href="area_8cpp_source.html#l00227">area.cpp:227</a></div></div>
<div class="ttc" id="classTinyTextEntity_html_a9657105c457630e898ea823ddc87d278"><div class="ttname"><a href="classTinyTextEntity.html#a9657105c457630e898ea823ddc87d278">TinyTextEntity::text</a></div><div class="ttdeci">QString text() const </div><div class="ttdef"><b>Definition:</b> <a href="textpage_8cpp_source.html#l00161">textpage.cpp:161</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedRect_html"><div class="ttname"><a href="classOkular_1_1NormalizedRect.html">Okular::NormalizedRect</a></div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00105">area.h:105</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedPoint_html_ac2276daabda627d5f82bb1532c293047"><div class="ttname"><a href="classOkular_1_1NormalizedPoint.html#ac2276daabda627d5f82bb1532c293047">Okular::NormalizedPoint::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00097">area.h:97</a></div></div>
<div class="ttc" id="classOkular_1_1TextEntity_html"><div class="ttname"><a href="classOkular_1_1TextEntity.html">Okular::TextEntity</a></div><div class="ttdoc">Abstract textentity of Okular. </div><div class="ttdef"><b>Definition:</b> <a href="textpage_8h_source.html#l00044">textpage.h:44</a></div></div>
<div class="ttc" id="classTinyTextEntity_html"><div class="ttname"><a href="classTinyTextEntity.html">TinyTextEntity</a></div><div class="ttdef"><b>Definition:</b> <a href="textpage_8cpp_source.html#l00119">textpage.cpp:119</a></div></div>
<div class="ttc" id="classTinyTextEntity_html_a8b5dce783e679c307cfd36f67e2fb521"><div class="ttname"><a href="classTinyTextEntity.html#a8b5dce783e679c307cfd36f67e2fb521">TinyTextEntity::area</a></div><div class="ttdeci">NormalizedRect area</div><div class="ttdef"><b>Definition:</b> <a href="textpage_8cpp_source.html#l00174">textpage.cpp:174</a></div></div>
<div class="ttc" id="classOkular_1_1NormalizedPoint_html_a857f49b9bc7712430d167472ef9dbd94"><div class="ttname"><a href="classOkular_1_1NormalizedPoint.html#a857f49b9bc7712430d167472ef9dbd94">Okular::NormalizedPoint::x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition:</b> <a href="area_8h_source.html#l00092">area.h:92</a></div></div>
<div class="ttc" id="classOkular_1_1TextPage_html_a07b135c84863f18df1d08e95aeeffd34a37eee044832944a9f31f7a9d3d39e0dd"><div class="ttname"><a href="classOkular_1_1TextPage.html#a07b135c84863f18df1d08e95aeeffd34a37eee044832944a9f31f7a9d3d39e0dd">Okular::TextPage::AnyPixelTextAreaInclusionBehaviour</a></div><div class="ttdoc">A character is included into text() result if any pixel of his bounding box is in the given area...</div><div class="ttdef"><b>Definition:</b> <a href="textpage_8h_source.html#l00104">textpage.h:104</a></div></div>
<div class="ttc" id="classQList_html"><div class="ttname"><a href="classQList.html">QList</a></div><div class="ttdef"><b>Definition:</b> <a href="browserextension_8h_source.html#l00034">browserextension.h:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>core/<a class="el" href="textpage_8h_source.html">textpage.h</a></li>
<li>core/<a class="el" href="textpage_8cpp_source.html">textpage.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceOkular.html">Okular</a></li><li class="navelem"><a class="el" href="classOkular_1_1TextPage.html">TextPage</a></li>
    <li class="footer">Generated on Tue Apr 15 2014 21:16:57 for GP&#39;s Okular Build by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
