<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>GP&#39;s Okular Build: XpsFile Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">GP&#39;s Okular Build
   </div>
   <div id="projectbrief">POSE 2014</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classXpsFile.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(13)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classXpsFile-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">XpsFile Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="generator__xps_8h_source.html">generator_xps.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af1d98429b793f4c300387f1fac9b71c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXpsFile.html#af1d98429b793f4c300387f1fac9b71c5">XpsFile</a> ()</td></tr>
<tr class="separator:af1d98429b793f4c300387f1fac9b71c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a570d43ed80d3afc8934a8b9ca4e0fcec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXpsFile.html#a570d43ed80d3afc8934a8b9ca4e0fcec">~XpsFile</a> ()</td></tr>
<tr class="separator:a570d43ed80d3afc8934a8b9ca4e0fcec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac38e167c31d825c4c39612e07c07b218"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXpsFile.html#ac38e167c31d825c4c39612e07c07b218">loadDocument</a> (const QString &amp;fileName)</td></tr>
<tr class="separator:ac38e167c31d825c4c39612e07c07b218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28bbd3f6d3334bdd088d1c93901d3049"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXpsFile.html#a28bbd3f6d3334bdd088d1c93901d3049">closeDocument</a> ()</td></tr>
<tr class="separator:a28bbd3f6d3334bdd088d1c93901d3049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6608cc5b58a6c4a00441c2a04969c56c"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classOkular_1_1DocumentInfo.html">Okular::DocumentInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXpsFile.html#a6608cc5b58a6c4a00441c2a04969c56c">generateDocumentInfo</a> ()</td></tr>
<tr class="separator:a6608cc5b58a6c4a00441c2a04969c56c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b4b16af19e4e691ed1639a8ea7e8fde"><td class="memItemLeft" align="right" valign="top">QImage&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXpsFile.html#a7b4b16af19e4e691ed1639a8ea7e8fde">thumbnail</a> ()</td></tr>
<tr class="separator:a7b4b16af19e4e691ed1639a8ea7e8fde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab807aabab0941dab3d6e5d4abbd6ae28"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXpsFile.html#ab807aabab0941dab3d6e5d4abbd6ae28">numDocuments</a> () const </td></tr>
<tr class="separator:ab807aabab0941dab3d6e5d4abbd6ae28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a061f6c6030e14c87610de4d48738a3d8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXpsFile.html#a061f6c6030e14c87610de4d48738a3d8">numPages</a> () const </td></tr>
<tr class="separator:a061f6c6030e14c87610de4d48738a3d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabe5c767300a2c84a6b791ef8333007b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXpsPage.html">XpsPage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXpsFile.html#aabe5c767300a2c84a6b791ef8333007b">page</a> (int pageNum) const </td></tr>
<tr class="separator:aabe5c767300a2c84a6b791ef8333007b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a365010f2c4cec6d1173b2fc4483df5b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classXpsDocument.html">XpsDocument</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXpsFile.html#a365010f2c4cec6d1173b2fc4483df5b7">document</a> (int documentNum) const </td></tr>
<tr class="separator:a365010f2c4cec6d1173b2fc4483df5b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eaa64c752c7aa845409abb440e9eda0"><td class="memItemLeft" align="right" valign="top">QFont&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXpsFile.html#a3eaa64c752c7aa845409abb440e9eda0">getFontByName</a> (const QString &amp;fontName, float <a class="el" href="synctex__parser_8c.html#aa23c661441688350614bd6a350d2b6ff">size</a>)</td></tr>
<tr class="separator:a3eaa64c752c7aa845409abb440e9eda0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13a633163a15934693b3c65eae2a0c4f"><td class="memItemLeft" align="right" valign="top">KZip *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classXpsFile.html#a13a633163a15934693b3c65eae2a0c4f">xpsArchive</a> ()</td></tr>
<tr class="separator:a13a633163a15934693b3c65eae2a0c4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents the contents of a Microsoft XML Paper Specification format document. </p>

<p>Definition at line <a class="el" href="generator__xps_8h_source.html#l00229">229</a> of file <a class="el" href="generator__xps_8h_source.html">generator_xps.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af1d98429b793f4c300387f1fac9b71c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XpsFile::XpsFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="generator__xps_8cpp_source.html#l01895">1895</a> of file <a class="el" href="generator__xps_8cpp_source.html">generator_xps.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;                 : m_docInfo( 0 )</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;{</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a570d43ed80d3afc8934a8b9ca4e0fcec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">XpsFile::~XpsFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="generator__xps_8cpp_source.html#l01900">1900</a> of file <a class="el" href="generator__xps_8cpp_source.html">generator_xps.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;{</div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;    m_fontCache.clear();</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    m_fontDatabase.removeAllApplicationFonts();</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a28bbd3f6d3334bdd088d1c93901d3049"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool XpsFile::closeDocument </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="generator__xps_8cpp_source.html#l02056">2056</a> of file <a class="el" href="generator__xps_8cpp_source.html">generator_xps.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;{</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    <span class="keywordflow">if</span> ( m_docInfo )</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;        <span class="keyword">delete</span> m_docInfo;</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    m_docInfo = 0;</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    qDeleteAll( m_documents );</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    m_documents.clear();</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    <span class="keyword">delete</span> m_xpsArchive;</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a365010f2c4cec6d1173b2fc4483df5b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classXpsDocument.html">XpsDocument</a> * XpsFile::document </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>documentNum</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>obtain a certain document from this file</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">documentNum</td><td>the number of the document to return</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>document numbers are zero based - they run from 0 to <a class="el" href="classXpsFile.html#ab807aabab0941dab3d6e5d4abbd6ae28">numDocuments()</a> - 1 </dd></dl>

<p>Definition at line <a class="el" href="generator__xps_8cpp_source.html#l02082">2082</a> of file <a class="el" href="generator__xps_8cpp_source.html">generator_xps.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;{</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;    <span class="keywordflow">return</span> m_documents.at( documentNum );</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6608cc5b58a6c4a00441c2a04969c56c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classOkular_1_1DocumentInfo.html">Okular::DocumentInfo</a> * XpsFile::generateDocumentInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="generator__xps_8cpp_source.html#l01999">1999</a> of file <a class="el" href="generator__xps_8cpp_source.html">generator_xps.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;{</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;    <span class="keywordflow">if</span> ( m_docInfo )</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        <span class="keywordflow">return</span> m_docInfo;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;    m_docInfo = <span class="keyword">new</span> <a class="code" href="classOkular_1_1DocumentInfo.html">Okular::DocumentInfo</a>();</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    m_docInfo-&gt;<a class="code" href="classOkular_1_1DocumentInfo.html#a8bd5403394ab192f1103cbf2a8e48d9b">set</a>( <a class="code" href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791a786464e8e8c3e6ba1cd74e408487785b">Okular::DocumentInfo::MimeType</a>, <span class="stringliteral">&quot;application/oxps&quot;</span> );</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    <span class="keywordflow">if</span> ( ! m_corePropertiesFileName.isEmpty() ) {</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        <span class="keyword">const</span> KZipFileEntry* corepropsFile = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span>KZipFileEntry *<span class="keyword">&gt;</span>(m_xpsArchive-&gt;directory()-&gt;entry(m_corePropertiesFileName));</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;        QXmlStreamReader xml;</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;        xml.addData( corepropsFile-&gt;data() );</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;        <span class="keywordflow">while</span> ( !xml.atEnd() )</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;        {</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;            xml.readNext();</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;            <span class="keywordflow">if</span> ( xml.isEndElement() )</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;            <span class="keywordflow">if</span> ( xml.isStartElement() )</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;            {</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;                <span class="keywordflow">if</span> (xml.name() == <span class="stringliteral">&quot;title&quot;</span>) {</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;                    m_docInfo-&gt;<a class="code" href="classOkular_1_1DocumentInfo.html#a8bd5403394ab192f1103cbf2a8e48d9b">set</a>( <a class="code" href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791ae400626d63f14b61c55bd22aca9481e0">Okular::DocumentInfo::Title</a>, xml.readElementText() );</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (xml.name() == <span class="stringliteral">&quot;subject&quot;</span>) {</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;                    m_docInfo-&gt;<a class="code" href="classOkular_1_1DocumentInfo.html#a8bd5403394ab192f1103cbf2a8e48d9b">set</a>( <a class="code" href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791a19478a99f97624500aa2d050fe7e1ad8">Okular::DocumentInfo::Subject</a>, xml.readElementText() );</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (xml.name() == <span class="stringliteral">&quot;description&quot;</span>) {</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;                    m_docInfo-&gt;<a class="code" href="classOkular_1_1DocumentInfo.html#a8bd5403394ab192f1103cbf2a8e48d9b">set</a>( <a class="code" href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791acc3edf1d2abe6eecb0882f4389475591">Okular::DocumentInfo::Description</a>, xml.readElementText() );</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (xml.name() == <span class="stringliteral">&quot;creator&quot;</span>) {</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;                    m_docInfo-&gt;<a class="code" href="classOkular_1_1DocumentInfo.html#a8bd5403394ab192f1103cbf2a8e48d9b">set</a>( <a class="code" href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791ab361aa9681b157d8d81e52f440bf646f">Okular::DocumentInfo::Creator</a>, xml.readElementText() );</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (xml.name() == <span class="stringliteral">&quot;category&quot;</span>) {</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;                    m_docInfo-&gt;<a class="code" href="classOkular_1_1DocumentInfo.html#a8bd5403394ab192f1103cbf2a8e48d9b">set</a>( <a class="code" href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791a1c5f3f7912efdbeff34d16608375c97a">Okular::DocumentInfo::Category</a>, xml.readElementText() );</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (xml.name() == <span class="stringliteral">&quot;created&quot;</span>) {</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;                    QDateTime createdDate = QDateTime::fromString( xml.readElementText(), <span class="stringliteral">&quot;yyyy-MM-ddThh:mm:ssZ&quot;</span> );</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;                    m_docInfo-&gt;<a class="code" href="classOkular_1_1DocumentInfo.html#a8bd5403394ab192f1103cbf2a8e48d9b">set</a>( <a class="code" href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791a58a72aeacd3cb08e85d0f9f19b2fe83a">Okular::DocumentInfo::CreationDate</a>, KGlobal::locale()-&gt;formatDateTime( createdDate, KLocale::LongDate, <span class="keyword">true</span> ) );</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (xml.name() == <span class="stringliteral">&quot;modified&quot;</span>) {</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;                    QDateTime modifiedDate = QDateTime::fromString( xml.readElementText(), <span class="stringliteral">&quot;yyyy-MM-ddThh:mm:ssZ&quot;</span> );</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;                    m_docInfo-&gt;<a class="code" href="classOkular_1_1DocumentInfo.html#a8bd5403394ab192f1103cbf2a8e48d9b">set</a>( <a class="code" href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791a0191dfd9c2c5b7f210a641b082a23969">Okular::DocumentInfo::ModificationDate</a>, KGlobal::locale()-&gt;formatDateTime( modifiedDate, KLocale::LongDate, <span class="keyword">true</span> ) );</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (xml.name() == <span class="stringliteral">&quot;keywords&quot;</span>) {</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;                    m_docInfo-&gt;<a class="code" href="classOkular_1_1DocumentInfo.html#a8bd5403394ab192f1103cbf2a8e48d9b">set</a>( <a class="code" href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791a833799005454e6c7e389dcceddd42b19">Okular::DocumentInfo::Keywords</a>, xml.readElementText() );</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (xml.name() == <span class="stringliteral">&quot;revision&quot;</span>) {</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;                    m_docInfo-&gt;<a class="code" href="classOkular_1_1DocumentInfo.html#a8bd5403394ab192f1103cbf2a8e48d9b">set</a>( <span class="stringliteral">&quot;revision&quot;</span>, xml.readElementText(), i18n( <span class="stringliteral">&quot;Revision&quot;</span> ) );</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;                }</div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;            }</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;        }</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;        <span class="keywordflow">if</span> ( xml.error() )</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;        {</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;            kDebug(<a class="code" href="generator__xps_8cpp.html#a00c0825a8bf77ed142d9a5a205d66f3c">XpsDebug</a>) &lt;&lt; <span class="stringliteral">&quot;Could not parse XPS core properties:&quot;</span> &lt;&lt; xml.errorString();</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;        }</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;        kDebug(<a class="code" href="generator__xps_8cpp.html#a00c0825a8bf77ed142d9a5a205d66f3c">XpsDebug</a>) &lt;&lt; <span class="stringliteral">&quot;No core properties filename&quot;</span>;</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    }</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;    m_docInfo-&gt;<a class="code" href="classOkular_1_1DocumentInfo.html#a8bd5403394ab192f1103cbf2a8e48d9b">set</a>( <a class="code" href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791ac4706afb6f17aac2a6da24699cbd7360">Okular::DocumentInfo::Pages</a>, QString::number(<a class="code" href="classXpsFile.html#a061f6c6030e14c87610de4d48738a3d8">numPages</a>()) );</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;    <span class="keywordflow">return</span> m_docInfo;</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;}</div>
<div class="ttc" id="classOkular_1_1DocumentInfo_html_a3a6e5f7fb246e29bcb2e830b6f770791a1c5f3f7912efdbeff34d16608375c97a"><div class="ttname"><a href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791a1c5f3f7912efdbeff34d16608375c97a">Okular::DocumentInfo::Category</a></div><div class="ttdoc">The category of the document. </div><div class="ttdef"><b>Definition:</b> <a href="core_2document_8h_source.html#l01090">document.h:1090</a></div></div>
<div class="ttc" id="classOkular_1_1DocumentInfo_html_a3a6e5f7fb246e29bcb2e830b6f770791a786464e8e8c3e6ba1cd74e408487785b"><div class="ttname"><a href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791a786464e8e8c3e6ba1cd74e408487785b">Okular::DocumentInfo::MimeType</a></div><div class="ttdoc">The mime type of the document. </div><div class="ttdef"><b>Definition:</b> <a href="core_2document_8h_source.html#l01089">document.h:1089</a></div></div>
<div class="ttc" id="classOkular_1_1DocumentInfo_html_a3a6e5f7fb246e29bcb2e830b6f770791a19478a99f97624500aa2d050fe7e1ad8"><div class="ttname"><a href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791a19478a99f97624500aa2d050fe7e1ad8">Okular::DocumentInfo::Subject</a></div><div class="ttdoc">The subject of the document. </div><div class="ttdef"><b>Definition:</b> <a href="core_2document_8h_source.html#l01080">document.h:1080</a></div></div>
<div class="ttc" id="classOkular_1_1DocumentInfo_html_a3a6e5f7fb246e29bcb2e830b6f770791ae400626d63f14b61c55bd22aca9481e0"><div class="ttname"><a href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791ae400626d63f14b61c55bd22aca9481e0">Okular::DocumentInfo::Title</a></div><div class="ttdoc">The title of the document. </div><div class="ttdef"><b>Definition:</b> <a href="core_2document_8h_source.html#l01079">document.h:1079</a></div></div>
<div class="ttc" id="classOkular_1_1DocumentInfo_html_a3a6e5f7fb246e29bcb2e830b6f770791a58a72aeacd3cb08e85d0f9f19b2fe83a"><div class="ttname"><a href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791a58a72aeacd3cb08e85d0f9f19b2fe83a">Okular::DocumentInfo::CreationDate</a></div><div class="ttdoc">The date of creation of the document. </div><div class="ttdef"><b>Definition:</b> <a href="core_2document_8h_source.html#l01087">document.h:1087</a></div></div>
<div class="ttc" id="classXpsFile_html_a061f6c6030e14c87610de4d48738a3d8"><div class="ttname"><a href="classXpsFile.html#a061f6c6030e14c87610de4d48738a3d8">XpsFile::numPages</a></div><div class="ttdeci">int numPages() const </div><div class="ttdef"><b>Definition:</b> <a href="generator__xps_8cpp_source.html#l02072">generator_xps.cpp:2072</a></div></div>
<div class="ttc" id="classOkular_1_1DocumentInfo_html_a3a6e5f7fb246e29bcb2e830b6f770791a833799005454e6c7e389dcceddd42b19"><div class="ttname"><a href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791a833799005454e6c7e389dcceddd42b19">Okular::DocumentInfo::Keywords</a></div><div class="ttdoc">The keywords which describe the content of the document. </div><div class="ttdef"><b>Definition:</b> <a href="core_2document_8h_source.html#l01091">document.h:1091</a></div></div>
<div class="ttc" id="classOkular_1_1DocumentInfo_html"><div class="ttname"><a href="classOkular_1_1DocumentInfo.html">Okular::DocumentInfo</a></div><div class="ttdoc">A DOM tree containing information about the document. </div><div class="ttdef"><b>Definition:</b> <a href="core_2document_8h_source.html#l01072">document.h:1072</a></div></div>
<div class="ttc" id="classOkular_1_1DocumentInfo_html_a8bd5403394ab192f1103cbf2a8e48d9b"><div class="ttname"><a href="classOkular_1_1DocumentInfo.html#a8bd5403394ab192f1103cbf2a8e48d9b">Okular::DocumentInfo::set</a></div><div class="ttdeci">void set(const QString &amp;key, const QString &amp;value, const QString &amp;title=QString())</div><div class="ttdef"><b>Definition:</b> <a href="core_2document_8cpp_source.html#l04681">document.cpp:4681</a></div></div>
<div class="ttc" id="classOkular_1_1DocumentInfo_html_a3a6e5f7fb246e29bcb2e830b6f770791ac4706afb6f17aac2a6da24699cbd7360"><div class="ttname"><a href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791ac4706afb6f17aac2a6da24699cbd7360">Okular::DocumentInfo::Pages</a></div><div class="ttdoc">The number of pages of the document. </div><div class="ttdef"><b>Definition:</b> <a href="core_2document_8h_source.html#l01086">document.h:1086</a></div></div>
<div class="ttc" id="classOkular_1_1DocumentInfo_html_a3a6e5f7fb246e29bcb2e830b6f770791ab361aa9681b157d8d81e52f440bf646f"><div class="ttname"><a href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791ab361aa9681b157d8d81e52f440bf646f">Okular::DocumentInfo::Creator</a></div><div class="ttdoc">The creator of the document (this can be different from the author) </div><div class="ttdef"><b>Definition:</b> <a href="core_2document_8h_source.html#l01083">document.h:1083</a></div></div>
<div class="ttc" id="classOkular_1_1DocumentInfo_html_a3a6e5f7fb246e29bcb2e830b6f770791acc3edf1d2abe6eecb0882f4389475591"><div class="ttname"><a href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791acc3edf1d2abe6eecb0882f4389475591">Okular::DocumentInfo::Description</a></div><div class="ttdoc">The description of the document. </div><div class="ttdef"><b>Definition:</b> <a href="core_2document_8h_source.html#l01081">document.h:1081</a></div></div>
<div class="ttc" id="classOkular_1_1DocumentInfo_html_a3a6e5f7fb246e29bcb2e830b6f770791a0191dfd9c2c5b7f210a641b082a23969"><div class="ttname"><a href="classOkular_1_1DocumentInfo.html#a3a6e5f7fb246e29bcb2e830b6f770791a0191dfd9c2c5b7f210a641b082a23969">Okular::DocumentInfo::ModificationDate</a></div><div class="ttdoc">The date of last modification of the document. </div><div class="ttdef"><b>Definition:</b> <a href="core_2document_8h_source.html#l01088">document.h:1088</a></div></div>
<div class="ttc" id="generator__xps_8cpp_html_a00c0825a8bf77ed142d9a5a205d66f3c"><div class="ttname"><a href="generator__xps_8cpp.html#a00c0825a8bf77ed142d9a5a205d66f3c">XpsDebug</a></div><div class="ttdeci">const int XpsDebug</div><div class="ttdef"><b>Definition:</b> <a href="generator__xps_8cpp_source.html#l00040">generator_xps.cpp:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3eaa64c752c7aa845409abb440e9eda0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QFont XpsFile::getFontByName </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>fontName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="generator__xps_8cpp_source.html#l01483">1483</a> of file <a class="el" href="generator__xps_8cpp_source.html">generator_xps.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;{</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="comment">// kDebug(XpsDebug) &lt;&lt; &quot;trying to get font: &quot; &lt;&lt; fileName &lt;&lt; &quot;, size: &quot; &lt;&lt; size;</span></div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;    <span class="keywordtype">int</span> index = m_fontCache.value(fileName, -1);</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    <span class="keywordflow">if</span> (index == -1)</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    {</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        index = loadFontByName(fileName);</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;        m_fontCache[fileName] = index;</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    }</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    <span class="keywordflow">if</span> ( index == -1 ) {</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        kWarning(<a class="code" href="generator__xps_8cpp.html#a00c0825a8bf77ed142d9a5a205d66f3c">XpsDebug</a>) &lt;&lt; <span class="stringliteral">&quot;Requesting uknown font:&quot;</span> &lt;&lt; fileName;</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        <span class="keywordflow">return</span> QFont();</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    }</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    <span class="keyword">const</span> QStringList fontFamilies = m_fontDatabase.applicationFontFamilies( index );</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;    <span class="keywordflow">if</span> ( fontFamilies.isEmpty() ) {</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;      kWarning(<a class="code" href="generator__xps_8cpp.html#a00c0825a8bf77ed142d9a5a205d66f3c">XpsDebug</a>) &lt;&lt; <span class="stringliteral">&quot;The unexpected has happened. No font family for a known font:&quot;</span> &lt;&lt; fileName &lt;&lt; index;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      <span class="keywordflow">return</span> QFont();</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    }</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keyword">const</span> QString fontFamily = fontFamilies[0];</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <span class="keyword">const</span> QStringList fontStyles = m_fontDatabase.styles( fontFamily );</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">if</span> ( fontStyles.isEmpty() ) {</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      kWarning(<a class="code" href="generator__xps_8cpp.html#a00c0825a8bf77ed142d9a5a205d66f3c">XpsDebug</a>) &lt;&lt; <span class="stringliteral">&quot;The unexpected has happened. No font style for a known font family:&quot;</span> &lt;&lt; fileName &lt;&lt; index &lt;&lt; fontFamily ;</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;      <span class="keywordflow">return</span> QFont();</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    }</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <span class="keyword">const</span> QString fontStyle =  fontStyles[0];</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;    <span class="keywordflow">return</span> m_fontDatabase.font(fontFamily, fontStyle, qRound(<a class="code" href="synctex__parser_8c.html#aa23c661441688350614bd6a350d2b6ff">size</a>));</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;}</div>
<div class="ttc" id="synctex__parser_8c_html_aa23c661441688350614bd6a350d2b6ff"><div class="ttname"><a href="synctex__parser_8c.html#aa23c661441688350614bd6a350d2b6ff">size</a></div><div class="ttdeci">#define size</div></div>
<div class="ttc" id="generator__xps_8cpp_html_a00c0825a8bf77ed142d9a5a205d66f3c"><div class="ttname"><a href="generator__xps_8cpp.html#a00c0825a8bf77ed142d9a5a205d66f3c">XpsDebug</a></div><div class="ttdeci">const int XpsDebug</div><div class="ttdef"><b>Definition:</b> <a href="generator__xps_8cpp_source.html#l00040">generator_xps.cpp:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac38e167c31d825c4c39612e07c07b218"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool XpsFile::loadDocument </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>fileName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="generator__xps_8cpp_source.html#l01907">1907</a> of file <a class="el" href="generator__xps_8cpp_source.html">generator_xps.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;{</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    m_xpsArchive = <span class="keyword">new</span> KZip( filename );</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <span class="keywordflow">if</span> ( m_xpsArchive-&gt;open( QIODevice::ReadOnly ) == true ) {</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;        kDebug(<a class="code" href="generator__xps_8cpp.html#a00c0825a8bf77ed142d9a5a205d66f3c">XpsDebug</a>) &lt;&lt; <span class="stringliteral">&quot;Successful open of &quot;</span> &lt;&lt; m_xpsArchive-&gt;fileName();</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;        kDebug(<a class="code" href="generator__xps_8cpp.html#a00c0825a8bf77ed142d9a5a205d66f3c">XpsDebug</a>) &lt;&lt; <span class="stringliteral">&quot;Could not open XPS archive: &quot;</span> &lt;&lt; m_xpsArchive-&gt;fileName();</div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;        <span class="keyword">delete</span> m_xpsArchive;</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    }</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    <span class="comment">// The only fixed entry in XPS is /_rels/.rels</span></div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;    <span class="keyword">const</span> KArchiveEntry* relEntry = m_xpsArchive-&gt;directory()-&gt;entry(<span class="stringliteral">&quot;_rels/.rels&quot;</span>);</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    <span class="keywordflow">if</span> ( !relEntry ) {</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;        <span class="comment">// this might occur if we can&#39;t read the zip directory, or it doesn&#39;t have the relationships entry</span></div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    }</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    QXmlStreamReader relXml;</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    relXml.addData( readFileOrDirectoryParts( relEntry ) );</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    QString fixedRepresentationFileName;</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;    <span class="comment">// We work through the relationships document and pull out each element.</span></div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <span class="keywordflow">while</span> ( !relXml.atEnd() )</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    {</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;        relXml.readNext();</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;        <span class="keywordflow">if</span> ( relXml.isStartElement() ) {</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;            <span class="keywordflow">if</span> ( relXml.name() == <span class="stringliteral">&quot;Relationship&quot;</span> ) {</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;                QXmlStreamAttributes attributes = relXml.attributes();</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;                QString type = attributes.value( <span class="stringliteral">&quot;Type&quot;</span> ).toString();</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;                QString target = attributes.value( <span class="stringliteral">&quot;Target&quot;</span> ).toString();</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;                <span class="keywordflow">if</span> ( <span class="stringliteral">&quot;http://schemas.openxmlformats.org/package/2006/relationships/metadata/thumbnail&quot;</span> == type ) {</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;                    m_thumbnailFileName = target;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( <span class="stringliteral">&quot;http://schemas.microsoft.com/xps/2005/06/fixedrepresentation&quot;</span> == type ) {</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;                    fixedRepresentationFileName = target;</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="stringliteral">&quot;http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties&quot;</span> == type) {</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;                    m_corePropertiesFileName = target;</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="stringliteral">&quot;http://schemas.openxmlformats.org/package/2006/relationships/digital-signature/origin&quot;</span> == type) {</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;                    m_signatureOrigin = target;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;                    kDebug(<a class="code" href="generator__xps_8cpp.html#a00c0825a8bf77ed142d9a5a205d66f3c">XpsDebug</a>) &lt;&lt; <span class="stringliteral">&quot;Unknown relationships element: &quot;</span> &lt;&lt; type &lt;&lt; <span class="stringliteral">&quot; : &quot;</span> &lt;&lt; target;</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;                }</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( relXml.name() == <span class="stringliteral">&quot;Relationships&quot;</span> ) {</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;                <span class="comment">// nothing to do here - this is just the container level</span></div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;                kDebug(<a class="code" href="generator__xps_8cpp.html#a00c0825a8bf77ed142d9a5a205d66f3c">XpsDebug</a>) &lt;&lt; <span class="stringliteral">&quot;unexpected element in _rels/.rels: &quot;</span> &lt;&lt; relXml.name().toString();</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;            }</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;        }</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    }</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    <span class="keywordflow">if</span> ( relXml.error() ) {</div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;        kDebug(<a class="code" href="generator__xps_8cpp.html#a00c0825a8bf77ed142d9a5a205d66f3c">XpsDebug</a>) &lt;&lt; <span class="stringliteral">&quot;Could not parse _rels/.rels: &quot;</span> &lt;&lt; relXml.errorString();</div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    }</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    <span class="keywordflow">if</span> ( fixedRepresentationFileName.isEmpty() ) {</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        <span class="comment">// FixedRepresentation is a required part of the XPS document</span></div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;    }</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    <span class="keyword">const</span> KArchiveEntry* fixedRepEntry = m_xpsArchive-&gt;directory()-&gt;entry( fixedRepresentationFileName );</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    QString fixedRepresentationFilePath = fixedRepresentationFileName;</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    QXmlStreamReader fixedRepXml;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;    fixedRepXml.addData( readFileOrDirectoryParts( fixedRepEntry, &amp;fixedRepresentationFileName ) );</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    <span class="keywordflow">while</span> ( !fixedRepXml.atEnd() )</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    {</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;        fixedRepXml.readNext();</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;        <span class="keywordflow">if</span> ( fixedRepXml.isStartElement() ) {</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;            <span class="keywordflow">if</span> ( fixedRepXml.name() == <span class="stringliteral">&quot;DocumentReference&quot;</span> ) {</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;                <span class="keyword">const</span> QString source = fixedRepXml.attributes().value(<span class="stringliteral">&quot;Source&quot;</span>).toString();</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;                <a class="code" href="classXpsDocument.html">XpsDocument</a> *doc = <span class="keyword">new</span> <a class="code" href="classXpsDocument.html">XpsDocument</a>( <span class="keyword">this</span>, absolutePath( fixedRepresentationFilePath, source ) );</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> lv = 0; lv &lt; doc-&gt;<a class="code" href="classXpsDocument.html#adbf38217ae901944dba86da5be8d1508">numPages</a>(); ++lv) {</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;                    <span class="comment">// our own copy of the pages list</span></div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;                    m_pages.append( doc-&gt;<a class="code" href="classXpsDocument.html#af6444d5bca4ad1b5b7de6e9b92221991">page</a>( lv ) );</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;                }</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;                m_documents.append(doc);</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( fixedRepXml.name() == <span class="stringliteral">&quot;FixedDocumentSequence&quot;</span>) {</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;                <span class="comment">// we don&#39;t do anything here - this is just a container for one or more DocumentReference elements</span></div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;                kDebug(<a class="code" href="generator__xps_8cpp.html#a00c0825a8bf77ed142d9a5a205d66f3c">XpsDebug</a>) &lt;&lt; <span class="stringliteral">&quot;Unhandled entry in FixedDocumentSequence: &quot;</span> &lt;&lt; fixedRepXml.name().toString();</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;            }</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;        }</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    }</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    <span class="keywordflow">if</span> ( fixedRepXml.error() ) {</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;        kDebug(<a class="code" href="generator__xps_8cpp.html#a00c0825a8bf77ed142d9a5a205d66f3c">XpsDebug</a>) &lt;&lt; <span class="stringliteral">&quot;Could not parse FixedRepresentation file:&quot;</span> &lt;&lt; fixedRepXml.errorString();</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    }</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;}</div>
<div class="ttc" id="classXpsDocument_html_af6444d5bca4ad1b5b7de6e9b92221991"><div class="ttname"><a href="classXpsDocument.html#af6444d5bca4ad1b5b7de6e9b92221991">XpsDocument::page</a></div><div class="ttdeci">XpsPage * page(int pageNum) const </div><div class="ttdef"><b>Definition:</b> <a href="generator__xps_8cpp_source.html#l01890">generator_xps.cpp:1890</a></div></div>
<div class="ttc" id="classXpsDocument_html"><div class="ttname"><a href="classXpsDocument.html">XpsDocument</a></div><div class="ttdef"><b>Definition:</b> <a href="generator__xps_8h_source.html#l00184">generator_xps.h:184</a></div></div>
<div class="ttc" id="classXpsDocument_html_adbf38217ae901944dba86da5be8d1508"><div class="ttname"><a href="classXpsDocument.html#adbf38217ae901944dba86da5be8d1508">XpsDocument::numPages</a></div><div class="ttdeci">int numPages() const </div><div class="ttdef"><b>Definition:</b> <a href="generator__xps_8cpp_source.html#l01885">generator_xps.cpp:1885</a></div></div>
<div class="ttc" id="generator__xps_8cpp_html_a00c0825a8bf77ed142d9a5a205d66f3c"><div class="ttname"><a href="generator__xps_8cpp.html#a00c0825a8bf77ed142d9a5a205d66f3c">XpsDebug</a></div><div class="ttdeci">const int XpsDebug</div><div class="ttdef"><b>Definition:</b> <a href="generator__xps_8cpp_source.html#l00040">generator_xps.cpp:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab807aabab0941dab3d6e5d4abbd6ae28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XpsFile::numDocuments </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the total number of XpsDocuments with this file </p>

<p>Definition at line <a class="el" href="generator__xps_8cpp_source.html#l02077">2077</a> of file <a class="el" href="generator__xps_8cpp_source.html">generator_xps.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;{</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;    <span class="keywordflow">return</span> m_documents.size();</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a061f6c6030e14c87610de4d48738a3d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XpsFile::numPages </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the total number of pages in all the XpsDocuments within this file </p>

<p>Definition at line <a class="el" href="generator__xps_8cpp_source.html#l02072">2072</a> of file <a class="el" href="generator__xps_8cpp_source.html">generator_xps.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;{</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    <span class="keywordflow">return</span> m_pages.size();</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aabe5c767300a2c84a6b791ef8333007b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classXpsPage.html">XpsPage</a> * XpsFile::page </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pageNum</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>a page from the file</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pageNum</td><td>the page number of the page to return</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>page numbers are zero based - they run from 0 to <a class="el" href="classXpsFile.html#a061f6c6030e14c87610de4d48738a3d8">numPages()</a> - 1 </dd></dl>

<p>Definition at line <a class="el" href="generator__xps_8cpp_source.html#l02087">2087</a> of file <a class="el" href="generator__xps_8cpp_source.html">generator_xps.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;{</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;    <span class="keywordflow">return</span> m_pages.at( pageNum );</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7b4b16af19e4e691ed1639a8ea7e8fde"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QImage XpsFile::thumbnail </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a13a633163a15934693b3c65eae2a0c4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KZip * XpsFile::xpsArchive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="generator__xps_8cpp_source.html#l01559">1559</a> of file <a class="el" href="generator__xps_8cpp_source.html">generator_xps.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;                           {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="keywordflow">return</span> m_xpsArchive;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>generators/xps/<a class="el" href="generator__xps_8h_source.html">generator_xps.h</a></li>
<li>generators/xps/<a class="el" href="generator__xps_8cpp_source.html">generator_xps.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classXpsFile.html">XpsFile</a></li>
    <li class="footer">Generated on Tue Apr 15 2014 21:16:31 for GP&#39;s Okular Build by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
