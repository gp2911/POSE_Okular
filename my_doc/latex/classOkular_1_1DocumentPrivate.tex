\hypertarget{classOkular_1_1DocumentPrivate}{\section{Okular\+:\+:Document\+Private Class Reference}
\label{classOkular_1_1DocumentPrivate}\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
}


{\ttfamily \#include $<$document\+\_\+p.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classOkular_1_1DocumentPrivate_a9f399fffd653d65dcea8aebeab4b3f19}{Document\+Private} (\hyperlink{classOkular_1_1Document}{Document} $\ast$parent)
\item 
Q\+String \hyperlink{classOkular_1_1DocumentPrivate_af0885d765ba194642c64d56de66fc96c}{pages\+Size\+String} () const 
\item 
Q\+String \hyperlink{classOkular_1_1DocumentPrivate_ad714bf38c42e467d71a93494957e1cf8}{name\+Paper\+Size} (double inches\+Width, double inches\+Height) const 
\item 
Q\+String \hyperlink{classOkular_1_1DocumentPrivate_a7cac2460a84aaba0b164f8e757df381a}{localized\+Size} (const Q\+Size\+F \&\hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size}) const 
\item 
qulonglong \hyperlink{classOkular_1_1DocumentPrivate_a91e5e2e26f829b1a08ab01c17fdecc2e}{calculate\+Memory\+To\+Free} ()
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a8490b106f8f873de76b7ca6dcb1320f0}{cleanup\+Pixmap\+Memory} ()
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_af5fffaf34fc68cdec3eb850ad54c0c62}{cleanup\+Pixmap\+Memory} (qulonglong memory\+To\+Free)
\item 
\hyperlink{structAllocatedPixmap}{Allocated\+Pixmap} $\ast$ \hyperlink{classOkular_1_1DocumentPrivate_a751cdd88fe8ba456a89f6c998a9ae35a}{search\+Lowest\+Priority\+Pixmap} (bool unloadable\+Only=false, bool then\+Remove\+It=false, \hyperlink{classOkular_1_1DocumentObserver}{Document\+Observer} $\ast$observer=0)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_ac6235abfccf3d0211060caf1d735adca}{calculate\+Max\+Text\+Pages} ()
\item 
qulonglong \hyperlink{classOkular_1_1DocumentPrivate_a612b0f725408b5949bb5856d18e62ba8}{get\+Total\+Memory} ()
\item 
qulonglong \hyperlink{classOkular_1_1DocumentPrivate_a2657e5871ed6792f7061f29fb14b54bf}{get\+Free\+Memory} (qulonglong $\ast$free\+Swap=0)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_ab3b82ad8d5fbe55c02af3b21a9e2459e}{load\+Document\+Info} ()
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_ad3a13740550ff7c32077f909b8184ed0}{load\+Document\+Info} (const Q\+String \&file\+Name)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a3cd7a844dbd51a7da80f93ea2aa9cf22}{load\+Views\+Info} (\hyperlink{classOkular_1_1View}{View} $\ast$view, const Q\+Dom\+Element \&e)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a26f0a9bd5feee1f235eca1defee29482}{save\+Views\+Info} (\hyperlink{classOkular_1_1View}{View} $\ast$view, Q\+Dom\+Element \&e) const 
\item 
Q\+String \hyperlink{classOkular_1_1DocumentPrivate_a1c665a65d08f7b032bba757b298e26a6}{give\+Absolute\+Path} (const Q\+String \&file\+Name) const 
\item 
bool \hyperlink{classOkular_1_1DocumentPrivate_a4853d128c2eb810795bf2cd4ca3665e2}{open\+Relative\+File} (const Q\+String \&file\+Name)
\item 
\hyperlink{classOkular_1_1Generator}{Generator} $\ast$ \hyperlink{classOkular_1_1DocumentPrivate_ac7c902ff8d869394318ffe7b28ff1336}{load\+Generator\+Library} (const K\+Service\+::\+Ptr \&service)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a28aafc3875578bfd4065d465e1c96cc4}{load\+All\+Generator\+Libraries} ()
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_aff87ea26b538d2653644a394c3909271}{load\+Service\+List} (const K\+Service\+::\+List \&offers)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a499afa495dece15b37a7df356c178805}{unload\+Generator} (const \hyperlink{structGeneratorInfo}{Generator\+Info} \&info)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a0319ccf7bd247df318608af697c244b3}{cache\+Export\+Formats} ()
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_aceccc21fbf3022c439eb011a452a06fa}{set\+Rotation\+Internal} (int r, bool notify)
\item 
\hyperlink{classOkular_1_1ConfigInterface}{Config\+Interface} $\ast$ \hyperlink{classOkular_1_1DocumentPrivate_ac40c31099a6fd5d842ae94e5557b9700}{generator\+Config} (\hyperlink{structGeneratorInfo}{Generator\+Info} \&info)
\item 
\hyperlink{classOkular_1_1SaveInterface}{Save\+Interface} $\ast$ \hyperlink{classOkular_1_1DocumentPrivate_a5f41002e3d3c2951033ae41e3443675b}{generator\+Save} (\hyperlink{structGeneratorInfo}{Generator\+Info} \&info)
\item 
bool \hyperlink{classOkular_1_1DocumentPrivate_a446649f974127476851f6a1d55e49d4d}{open\+Document\+Internal} (const K\+Service\+::\+Ptr \&offer, bool isstdin, const Q\+String \&doc\+File, const Q\+Byte\+Array \&filedata)
\item 
bool \hyperlink{classOkular_1_1DocumentPrivate_a7d06a43560a005a4a4a98ab1dafda83f}{save\+Page\+Document\+Info} (K\+Temporary\+File $\ast$info\+File, int what) const 
\item 
\hyperlink{classOkular_1_1DocumentViewport}{Document\+Viewport} \hyperlink{classOkular_1_1DocumentPrivate_a53d9d28d2ad9555b577ab0c9b1a1c142}{next\+Document\+Viewport} () const 
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a1ca2b2788a81ae1bf852d5eab1de541c}{notify\+Annotation\+Changes} (int page)
\item 
bool \hyperlink{classOkular_1_1DocumentPrivate_ac0e0b9633df5fbd632e9ffa865b0f04b}{can\+Add\+Annotations\+Natively} () const 
\item 
bool \hyperlink{classOkular_1_1DocumentPrivate_a6d7377eb17bd81f5272ec23aa2fb03ac}{can\+Modify\+External\+Annotations} () const 
\item 
bool \hyperlink{classOkular_1_1DocumentPrivate_ac0c69229f58900112e34858d7b2059dd}{can\+Remove\+External\+Annotations} () const 
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_abfb2abf66a3eb0536063c818a8e793e9}{warn\+Limited\+Annot\+Support} ()
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a374e55b575f2386536cd438bd2338b33}{perform\+Add\+Page\+Annotation} (int page, \hyperlink{classOkular_1_1Annotation}{Annotation} $\ast$annotation)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a52fc440677b41a7717bff1cec9593d33}{perform\+Remove\+Page\+Annotation} (int page, \hyperlink{classOkular_1_1Annotation}{Annotation} $\ast$annotation)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_ac6a83ec146be14eee48aa70ac02f7350}{perform\+Modify\+Page\+Annotation} (int page, \hyperlink{classOkular_1_1Annotation}{Annotation} $\ast$annotation, bool appearance\+Changed)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a0336653af57e45c3f8cade651bb2fc1a}{perform\+Set\+Annotation\+Contents} (const Q\+String \&new\+Contents, \hyperlink{classOkular_1_1Annotation}{Annotation} $\ast$annot, int page\+Number)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a902754eb52a42389fe3abc3fa10b6b46}{save\+Document\+Info} () const 
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_afc59759984a6087f17862a595903da5f}{slot\+Timed\+Memory\+Check} ()
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a0b3b0924831ddf8b6b68bd74a9d6f162}{send\+Generator\+Pixmap\+Request} ()
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a627170672257bcc215dbb5534f385f60}{rotation\+Finished} (int page, \hyperlink{classOkular_1_1Page}{Okular\+::\+Page} $\ast$okular\+Page)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a37cc3c191fe7daa96390edb68e93c706}{font\+Reading\+Progress} (int page)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_ad04d51971658c391ab5a9dcd2f2e4f06}{font\+Reading\+Got\+Font} (const \hyperlink{classOkular_1_1FontInfo}{Okular\+::\+Font\+Info} \&font)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_ac0b99c380600e6bfaa812b6dff144ac5}{slot\+Generator\+Config\+Changed} (const Q\+String \&)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a2de4027c4556e563bb24d465aa6ce5a6}{refresh\+Pixmaps} (int)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a2d4639bda09007861d605f739c34c005}{\+\_\+o\+\_\+config\+Changed} ()
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_aefac6c9801c005854ffe5c75e92bd05c}{do\+Continue\+Direction\+Match\+Search} (void $\ast$do\+Continue\+Direction\+Match\+Search\+Struct)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a3052bf6dc0f8656c15d7018229953757}{do\+Continue\+All\+Document\+Search} (void $\ast$pages\+To\+Notify\+Set, void $\ast$page\+Matches\+Map, int current\+Page, int search\+I\+D, const Q\+String \&text, int case\+Sensitivity, const Q\+Color \&color)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_ab1004324d1cd74d10311e28dfb40c2fa}{do\+Continue\+Googles\+Document\+Search} (void $\ast$pages\+To\+Notify\+Set, void $\ast$page\+Matches\+Map, int current\+Page, int search\+I\+D, const Q\+String\+List \&words, int case\+Sensitivity, const Q\+Color \&color, bool match\+All)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a71aa923afef1d2816fe26ffae544f7ce}{do\+Process\+Search\+Match} (\hyperlink{classOkular_1_1RegularAreaRect}{Regular\+Area\+Rect} $\ast$match, \hyperlink{structRunningSearch}{Running\+Search} $\ast$search, Q\+Set$<$ int $>$ $\ast$pages\+To\+Notify, int current\+Page, int search\+I\+D, bool move\+Viewport, const Q\+Color \&color)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a26d26e6f52b4b6173ca55f264b855336}{request\+Done} (\hyperlink{classOkular_1_1PixmapRequest}{Pixmap\+Request} $\ast$request)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_a3d7b607de4146b9639564f7385ff5e86}{text\+Generation\+Done} (\hyperlink{classOkular_1_1Page}{Page} $\ast$page)
\item 
void \hyperlink{classOkular_1_1DocumentPrivate_afb6d3e039a27008d1c01cbd7e7c53251}{set\+Page\+Bounding\+Box} (int page, const \hyperlink{classOkular_1_1NormalizedRect}{Normalized\+Rect} \&bounding\+Box)
\item 
Q\+Variant \hyperlink{classOkular_1_1DocumentPrivate_a0e9f7fb7c06e95d62644eb693c6e2597}{document\+Meta\+Data} (const Q\+String \&key, const Q\+Variant \&option) const 
\item 
bool \hyperlink{classOkular_1_1DocumentPrivate_a6a3aff2f64cb37c3c1f50a778e43abfa}{is\+Normalized\+Rectangle\+Fully\+Visible} (const \hyperlink{classOkular_1_1NormalizedRect}{Okular\+::\+Normalized\+Rect} \&rect\+Of\+Interest, int rect\+Page)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classOkular_1_1Document}{Document} $\ast$ \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\+\_\+parent}
\item 
Q\+Pointer$<$ Q\+Widget $>$ \hyperlink{classOkular_1_1DocumentPrivate_a1cc02176f3cd9d24eb4f7968ef893de2}{m\+\_\+widget}
\item 
\hyperlink{classQMap}{Q\+Map}$<$ int, \hyperlink{structRunningSearch}{Running\+Search} $\ast$ $>$ \hyperlink{classOkular_1_1DocumentPrivate_a42420dd45075092b921a829b8e9f2214}{m\+\_\+searches}
\item 
int \hyperlink{classOkular_1_1DocumentPrivate_a83278116cf6b0e38d834c8e416e17de6}{m\+\_\+last\+Search\+I\+D}
\item 
bool \hyperlink{classOkular_1_1DocumentPrivate_ad852d630ad63f8fd4ce1b2cc93179c91}{m\+\_\+search\+Cancelled}
\item 
K\+Url \hyperlink{classOkular_1_1DocumentPrivate_a1a0145bbb16d15c016000a83d0d2ab2b}{m\+\_\+url}
\item 
Q\+String \hyperlink{classOkular_1_1DocumentPrivate_af56dcee87c3465c69da7cea920b95fbb}{m\+\_\+doc\+File\+Name}
\item 
Q\+String \hyperlink{classOkular_1_1DocumentPrivate_aae08e3c4d234247bf3d52608649e7c64}{m\+\_\+xml\+File\+Name}
\item 
K\+Temporary\+File $\ast$ \hyperlink{classOkular_1_1DocumentPrivate_a09a610ec7c029dd3b73580abfc65059d}{m\+\_\+temp\+File}
\item 
qint64 \hyperlink{classOkular_1_1DocumentPrivate_afe0b6665f1386848faf6e6763e7f6cf4}{m\+\_\+doc\+Size}
\item 
\hyperlink{classQLinkedList}{Q\+Linked\+List}$<$ \hyperlink{classOkular_1_1DocumentViewport}{Document\+Viewport} $>$ \hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\+\_\+viewport\+History}
\item 
\hyperlink{classQLinkedList}{Q\+Linked\+List}$<$ \hyperlink{classOkular_1_1DocumentViewport}{Document\+Viewport} $>$\\*
\+::iterator \hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\+\_\+viewport\+Iterator}
\item 
\hyperlink{classOkular_1_1DocumentViewport}{Document\+Viewport} \hyperlink{classOkular_1_1DocumentPrivate_af6aae2128fb788ae1693699506a86c0d}{m\+\_\+next\+Document\+Viewport}
\item 
Q\+String \hyperlink{classOkular_1_1DocumentPrivate_a0c531a03865395da325584dbae6e1efe}{m\+\_\+next\+Document\+Destination}
\item 
Q\+Set$<$ \hyperlink{classOkular_1_1DocumentObserver}{Document\+Observer} $\ast$ $>$ \hyperlink{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}{m\+\_\+observers}
\item 
\hyperlink{classQLinkedList}{Q\+Linked\+List}$<$ \hyperlink{classOkular_1_1PixmapRequest}{Pixmap\+Request} $\ast$ $>$ \hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\+\_\+pixmap\+Requests\+Stack}
\item 
\hyperlink{classQLinkedList}{Q\+Linked\+List}$<$ \hyperlink{classOkular_1_1PixmapRequest}{Pixmap\+Request} $\ast$ $>$ \hyperlink{classOkular_1_1DocumentPrivate_adc84c2f8f76e7880b41e155edabf69e7}{m\+\_\+executing\+Pixmap\+Requests}
\item 
Q\+Mutex \hyperlink{classOkular_1_1DocumentPrivate_a5c0e919d575a7a3c19a42c64a672fce4}{m\+\_\+pixmap\+Requests\+Mutex}
\item 
\hyperlink{classQLinkedList}{Q\+Linked\+List}$<$ \hyperlink{structAllocatedPixmap}{Allocated\+Pixmap} $\ast$ $>$ \hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\+\_\+allocated\+Pixmaps}
\item 
qulonglong \hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\+\_\+allocated\+Pixmaps\+Total\+Memory}
\item 
\hyperlink{classQList}{Q\+List}$<$ int $>$ \hyperlink{classOkular_1_1DocumentPrivate_a2fb5e844b3870b8cff42a4c3b4bdfd48}{m\+\_\+allocated\+Text\+Pages\+Fifo}
\item 
int \hyperlink{classOkular_1_1DocumentPrivate_ad1a0b7d1cb235cc915a46d242a04e1dc}{m\+\_\+max\+Allocated\+Text\+Pages}
\item 
bool \hyperlink{classOkular_1_1DocumentPrivate_a0d88f3c05c3c5b7645c6a12fde948759}{m\+\_\+warned\+Out\+Of\+Memory}
\item 
\hyperlink{namespaceOkular_a8556d00465f61ef533c6b027669e7da6}{Rotation} \hyperlink{classOkular_1_1DocumentPrivate_a5b7f4c2b5937d311b277c2e90826ee1b}{m\+\_\+rotation}
\item 
\hyperlink{classOkular_1_1PageSize}{Page\+Size} \hyperlink{classOkular_1_1DocumentPrivate_a6c09eaaed5a1d862bb11074347cc102d}{m\+\_\+page\+Size}
\item 
\hyperlink{classOkular_1_1PageSize_a6c450ee7c579f47402a21588403ea0ab}{Page\+Size\+::\+List} \hyperlink{classOkular_1_1DocumentPrivate_a71f8c84e54d8cc8a5f3396f18c7dae7a}{m\+\_\+page\+Sizes}
\item 
bool \hyperlink{classOkular_1_1DocumentPrivate_ad738776539c25a2b18b0d482c406b424}{m\+\_\+export\+Cached}
\item 
\hyperlink{classOkular_1_1ExportFormat_a987d72c1a1456b8a983a37603a8fa78d}{Export\+Format\+::\+List} \hyperlink{classOkular_1_1DocumentPrivate_a674e49f7a287a70630bc5550b1a44169}{m\+\_\+export\+Formats}
\item 
\hyperlink{classOkular_1_1ExportFormat}{Export\+Format} \hyperlink{classOkular_1_1DocumentPrivate_a6c71a54787a3a6d6c16f79e2eb77ebbd}{m\+\_\+export\+To\+Text}
\item 
\hyperlink{classOkular_1_1BookmarkManager}{Bookmark\+Manager} $\ast$ \hyperlink{classOkular_1_1DocumentPrivate_a098282fb7e82c81ea9402333864fd389}{m\+\_\+bookmark\+Manager}
\item 
Q\+Timer $\ast$ \hyperlink{classOkular_1_1DocumentPrivate_aa403a95dfe9f344c12c7409319aaf62f}{m\+\_\+mem\+Check\+Timer}
\item 
Q\+Timer $\ast$ \hyperlink{classOkular_1_1DocumentPrivate_a1d64b1924e24e32715cc5c7b3471595f}{m\+\_\+save\+Bookmarks\+Timer}
\item 
Q\+Hash$<$ Q\+String, \hyperlink{structGeneratorInfo}{Generator\+Info} $>$ \hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\+\_\+loaded\+Generators}
\item 
\hyperlink{classOkular_1_1Generator}{Generator} $\ast$ \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\+\_\+generator}
\item 
Q\+String \hyperlink{classOkular_1_1DocumentPrivate_a4f02c151d836f43f47a6eeb614b25bf0}{m\+\_\+generator\+Name}
\item 
bool \hyperlink{classOkular_1_1DocumentPrivate_a443010c7211e13e1589b1124a9147dd0}{m\+\_\+generators\+Loaded}
\item 
Q\+Vector$<$ \hyperlink{classOkular_1_1Page}{Page} $\ast$ $>$ \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\+\_\+pages\+Vector}
\item 
Q\+Vector$<$ \hyperlink{classOkular_1_1VisiblePageRect}{Visible\+Page\+Rect} $\ast$ $>$ \hyperlink{classOkular_1_1DocumentPrivate_a2d167614d4dc602ada64ab925cee6dce}{m\+\_\+page\+Rects}
\item 
Q\+String\+List \hyperlink{classOkular_1_1DocumentPrivate_a4150d34c787b214e91672cd197df9835}{m\+\_\+supported\+Mime\+Types}
\item 
\hyperlink{classOkular_1_1PageController}{Page\+Controller} $\ast$ \hyperlink{classOkular_1_1DocumentPrivate_a0764e01a78ed52ece9229f50300522f1}{m\+\_\+page\+Controller}
\item 
Q\+Event\+Loop $\ast$ \hyperlink{classOkular_1_1DocumentPrivate_a836cb1b614d8d25bad8403dfd746ef00}{m\+\_\+closing\+Loop}
\item 
\hyperlink{classOkular_1_1Scripter}{Scripter} $\ast$ \hyperlink{classOkular_1_1DocumentPrivate_aa92ce51e07aaab18bd40542eb9bc31e6}{m\+\_\+scripter}
\item 
\hyperlink{structArchiveData}{Archive\+Data} $\ast$ \hyperlink{classOkular_1_1DocumentPrivate_a135bb6fa2886b0eb86e9a1b72fd8d25b}{m\+\_\+archive\+Data}
\item 
Q\+String \hyperlink{classOkular_1_1DocumentPrivate_ac47be11934cb0cb3e7d8876e3e4653af}{m\+\_\+archived\+File\+Name}
\item 
Q\+Pointer$<$ \hyperlink{classOkular_1_1FontExtractionThread}{Font\+Extraction\+Thread} $>$ \hyperlink{classOkular_1_1DocumentPrivate_a7d89f5349531b52b4109855269a6a4c4}{m\+\_\+font\+Thread}
\item 
bool \hyperlink{classOkular_1_1DocumentPrivate_aa33ab887df80e7df7c9d7a5eecff000e}{m\+\_\+fonts\+Cached}
\item 
\hyperlink{classOkular_1_1DocumentInfo}{Document\+Info} $\ast$ \hyperlink{classOkular_1_1DocumentPrivate_a4452394f3abc747fa0b4910c33806371}{m\+\_\+document\+Info}
\item 
\hyperlink{classOkular_1_1FontInfo_ada799641ba87703c808645f57fdfafaa}{Font\+Info\+::\+List} \hyperlink{classOkular_1_1DocumentPrivate_a9be70502279da0a275889e504409c7e5}{m\+\_\+fonts\+Cache}
\item 
Q\+Set$<$ \hyperlink{classOkular_1_1View}{View} $\ast$ $>$ \hyperlink{classOkular_1_1DocumentPrivate_aae4139cb4cb2f63fd7c7c88f26199976}{m\+\_\+views}
\item 
bool \hyperlink{classOkular_1_1DocumentPrivate_a700587218254ae03f4ade5fee8ff487c}{m\+\_\+annotation\+Editing\+Enabled}
\item 
bool \hyperlink{classOkular_1_1DocumentPrivate_a44f722aa34fee888929abd92fe54ad82}{m\+\_\+annotations\+Need\+Save\+As}
\item 
bool \hyperlink{classOkular_1_1DocumentPrivate_a57c1dee8543960398669cb927fab17cc}{m\+\_\+annotation\+Being\+Moved}
\item 
bool \hyperlink{classOkular_1_1DocumentPrivate_a1d12aaa9b1f2726a8e19b416587062c9}{m\+\_\+show\+Warning\+Limited\+Annot\+Support}
\item 
Q\+Undo\+Stack $\ast$ \hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\+\_\+undo\+Stack}
\item 
Q\+Dom\+Node \hyperlink{classOkular_1_1DocumentPrivate_a7f5fc408d6af006eaa4c2991ee263403}{m\+\_\+prev\+Props\+Of\+Annot\+Being\+Modified}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 83 of file document\+\_\+p.\+h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classOkular_1_1DocumentPrivate_a9f399fffd653d65dcea8aebeab4b3f19}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!Document\+Private@{Document\+Private}}
\index{Document\+Private@{Document\+Private}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{Document\+Private}]{\setlength{\rightskip}{0pt plus 5cm}Okular\+::\+Document\+Private\+::\+Document\+Private (
\begin{DoxyParamCaption}
\item[{{\bf Document} $\ast$}]{parent}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classOkular_1_1DocumentPrivate_a9f399fffd653d65dcea8aebeab4b3f19}


Definition at line 86 of file document\+\_\+p.\+h.


\begin{DoxyCode}
87           : \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}( parent ),
88             \hyperlink{classOkular_1_1DocumentPrivate_a83278116cf6b0e38d834c8e416e17de6}{m\_lastSearchID}( -1 ),
89             \hyperlink{classOkular_1_1DocumentPrivate_a09a610ec7c029dd3b73580abfc65059d}{m\_tempFile}( 0 ),
90             \hyperlink{classOkular_1_1DocumentPrivate_afe0b6665f1386848faf6e6763e7f6cf4}{m\_docSize}( -1 ),
91             \hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\_allocatedPixmapsTotalMemory}( 0 ),
92             \hyperlink{classOkular_1_1DocumentPrivate_ad1a0b7d1cb235cc915a46d242a04e1dc}{m\_maxAllocatedTextPages}( 0 ),
93             \hyperlink{classOkular_1_1DocumentPrivate_a0d88f3c05c3c5b7645c6a12fde948759}{m\_warnedOutOfMemory}( \textcolor{keyword}{false} ),
94             \hyperlink{classOkular_1_1DocumentPrivate_a5b7f4c2b5937d311b277c2e90826ee1b}{m\_rotation}( \hyperlink{namespaceOkular_a8556d00465f61ef533c6b027669e7da6aa4df8fc3dd09e30520c264c8d23d89c2}{Rotation0} ),
95             \hyperlink{classOkular_1_1DocumentPrivate_ad738776539c25a2b18b0d482c406b424}{m\_exportCached}( \textcolor{keyword}{false} ),
96             \hyperlink{classOkular_1_1DocumentPrivate_a098282fb7e82c81ea9402333864fd389}{m\_bookmarkManager}( 0 ),
97             \hyperlink{classOkular_1_1DocumentPrivate_aa403a95dfe9f344c12c7409319aaf62f}{m\_memCheckTimer}( 0 ),
98             \hyperlink{classOkular_1_1DocumentPrivate_a1d64b1924e24e32715cc5c7b3471595f}{m\_saveBookmarksTimer}( 0 ),
99             \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}( 0 ),
100             \hyperlink{classOkular_1_1DocumentPrivate_a443010c7211e13e1589b1124a9147dd0}{m\_generatorsLoaded}( \textcolor{keyword}{false} ),
101             \hyperlink{classOkular_1_1DocumentPrivate_a0764e01a78ed52ece9229f50300522f1}{m\_pageController}( 0 ),
102             \hyperlink{classOkular_1_1DocumentPrivate_a836cb1b614d8d25bad8403dfd746ef00}{m\_closingLoop}( 0 ),
103             \hyperlink{classOkular_1_1DocumentPrivate_aa92ce51e07aaab18bd40542eb9bc31e6}{m\_scripter}( 0 ),
104             \hyperlink{classOkular_1_1DocumentPrivate_a135bb6fa2886b0eb86e9a1b72fd8d25b}{m\_archiveData}( 0 ),
105             \hyperlink{classOkular_1_1DocumentPrivate_aa33ab887df80e7df7c9d7a5eecff000e}{m\_fontsCached}( \textcolor{keyword}{false} ),
106             \hyperlink{classOkular_1_1DocumentPrivate_a4452394f3abc747fa0b4910c33806371}{m\_documentInfo}( 0 ),
107             \hyperlink{classOkular_1_1DocumentPrivate_a700587218254ae03f4ade5fee8ff487c}{m\_annotationEditingEnabled} ( \textcolor{keyword}{true} ),
108             \hyperlink{classOkular_1_1DocumentPrivate_a57c1dee8543960398669cb927fab17cc}{m\_annotationBeingMoved}( \textcolor{keyword}{false} )
109         \{
110             \hyperlink{classOkular_1_1DocumentPrivate_ac6235abfccf3d0211060caf1d735adca}{calculateMaxTextPages}();
111         \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{classOkular_1_1DocumentPrivate_a2d4639bda09007861d605f739c34c005}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!\+\_\+o\+\_\+config\+Changed@{\+\_\+o\+\_\+config\+Changed}}
\index{\+\_\+o\+\_\+config\+Changed@{\+\_\+o\+\_\+config\+Changed}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{\+\_\+o\+\_\+config\+Changed}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::\+\_\+o\+\_\+config\+Changed (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a2d4639bda09007861d605f739c34c005}


Definition at line 1624 of file document.\+cpp.


\begin{DoxyCode}
1625 \{
1626     \textcolor{comment}{// free text pages if needed}
1627     \hyperlink{classOkular_1_1DocumentPrivate_ac6235abfccf3d0211060caf1d735adca}{calculateMaxTextPages}();
1628     \textcolor{keywordflow}{while} (\hyperlink{classOkular_1_1DocumentPrivate_a2fb5e844b3870b8cff42a4c3b4bdfd48}{m\_allocatedTextPagesFifo}.count() > 
      \hyperlink{classOkular_1_1DocumentPrivate_ad1a0b7d1cb235cc915a46d242a04e1dc}{m\_maxAllocatedTextPages})
1629     \{
1630         \textcolor{keywordtype}{int} pageToKick = \hyperlink{classOkular_1_1DocumentPrivate_a2fb5e844b3870b8cff42a4c3b4bdfd48}{m\_allocatedTextPagesFifo}.takeFirst();
1631         \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.at(pageToKick)->setTextPage( 0 ); \textcolor{comment}{// deletes the textpage}
1632     \}
1633 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a0319ccf7bd247df318608af697c244b3}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!cache\+Export\+Formats@{cache\+Export\+Formats}}
\index{cache\+Export\+Formats@{cache\+Export\+Formats}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{cache\+Export\+Formats}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::cache\+Export\+Formats (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a0319ccf7bd247df318608af697c244b3}


Definition at line 869 of file document.\+cpp.


\begin{DoxyCode}
870 \{
871     \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1DocumentPrivate_ad738776539c25a2b18b0d482c406b424}{m\_exportCached} )
872         \textcolor{keywordflow}{return};
873 
874     \textcolor{keyword}{const} \hyperlink{classQList}{ExportFormat::List} formats = \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->
      \hyperlink{classOkular_1_1Generator_a74280fb193319daab955feac694123ac}{exportFormats}();
875     \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} i = 0; i < formats.count(); ++i )
876     \{
877         \textcolor{keywordflow}{if} ( formats.at( i ).mimeType()->name() == QLatin1String( \textcolor{stringliteral}{"text/plain"} ) )
878             \hyperlink{classOkular_1_1DocumentPrivate_a6c71a54787a3a6d6c16f79e2eb77ebbd}{m\_exportToText} = formats.at( i );
879         \textcolor{keywordflow}{else}
880             \hyperlink{classOkular_1_1DocumentPrivate_a674e49f7a287a70630bc5550b1a44169}{m\_exportFormats}.append( formats.at( i ) );
881     \}
882 
883     \hyperlink{classOkular_1_1DocumentPrivate_ad738776539c25a2b18b0d482c406b424}{m\_exportCached} = \textcolor{keyword}{true};
884 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_ac6235abfccf3d0211060caf1d735adca}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!calculate\+Max\+Text\+Pages@{calculate\+Max\+Text\+Pages}}
\index{calculate\+Max\+Text\+Pages@{calculate\+Max\+Text\+Pages}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{calculate\+Max\+Text\+Pages}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::calculate\+Max\+Text\+Pages (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_ac6235abfccf3d0211060caf1d735adca}


Definition at line 4438 of file document.\+cpp.


\begin{DoxyCode}
4439 \{
4440     \textcolor{keywordtype}{int} multipliers = qMax(1, qRound(\hyperlink{classOkular_1_1DocumentPrivate_a612b0f725408b5949bb5856d18e62ba8}{getTotalMemory}() / 536870912.0)); \textcolor{comment}{// 512 MB}
4441     \textcolor{keywordflow}{switch} (\hyperlink{classOkular_1_1SettingsCore_a07d75a8b7db6da9213663287a87e3226}{SettingsCore::memoryLevel}())
4442     \{
4443         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1SettingsCore_1_1EnumMemoryLevel_a6dcad4c36c335a5cab78f24dd88090b4aa61e4f07eed0bf070a41fb0998e8c3b5}{SettingsCore::EnumMemoryLevel::Low}:
4444             \hyperlink{classOkular_1_1DocumentPrivate_ad1a0b7d1cb235cc915a46d242a04e1dc}{m\_maxAllocatedTextPages} = multipliers * 2;
4445         \textcolor{keywordflow}{break};
4446 
4447         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1SettingsCore_1_1EnumMemoryLevel_a6dcad4c36c335a5cab78f24dd88090b4aab69bfc6de34e8bf9634a7586486296a}{SettingsCore::EnumMemoryLevel::Normal}:
4448             \hyperlink{classOkular_1_1DocumentPrivate_ad1a0b7d1cb235cc915a46d242a04e1dc}{m\_maxAllocatedTextPages} = multipliers * 50;
4449         \textcolor{keywordflow}{break};
4450 
4451         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1SettingsCore_1_1EnumMemoryLevel_a6dcad4c36c335a5cab78f24dd88090b4a5f4aefbf160a235d1c3219eeca91f898}{SettingsCore::EnumMemoryLevel::Aggressive}:
4452             \hyperlink{classOkular_1_1DocumentPrivate_ad1a0b7d1cb235cc915a46d242a04e1dc}{m\_maxAllocatedTextPages} = multipliers * 250;
4453         \textcolor{keywordflow}{break};
4454 
4455         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1SettingsCore_1_1EnumMemoryLevel_a6dcad4c36c335a5cab78f24dd88090b4a0c192fe00a744fb84cbc63d9431fbe2a}{SettingsCore::EnumMemoryLevel::Greedy}:
4456             \hyperlink{classOkular_1_1DocumentPrivate_ad1a0b7d1cb235cc915a46d242a04e1dc}{m\_maxAllocatedTextPages} = multipliers * 1250;
4457         \textcolor{keywordflow}{break};
4458     \}
4459 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a91e5e2e26f829b1a08ab01c17fdecc2e}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!calculate\+Memory\+To\+Free@{calculate\+Memory\+To\+Free}}
\index{calculate\+Memory\+To\+Free@{calculate\+Memory\+To\+Free}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{calculate\+Memory\+To\+Free}]{\setlength{\rightskip}{0pt plus 5cm}qulonglong Document\+Private\+::calculate\+Memory\+To\+Free (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a91e5e2e26f829b1a08ab01c17fdecc2e}


Definition at line 292 of file document.\+cpp.


\begin{DoxyCode}
293 \{
294     \textcolor{comment}{// [MEM] choose memory parameters based on configuration profile}
295     qulonglong clipValue = 0;
296     qulonglong memoryToFree = 0;
297 
298     \textcolor{keywordflow}{switch} ( \hyperlink{classOkular_1_1SettingsCore_a07d75a8b7db6da9213663287a87e3226}{SettingsCore::memoryLevel}() )
299     \{
300         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1SettingsCore_1_1EnumMemoryLevel_a6dcad4c36c335a5cab78f24dd88090b4aa61e4f07eed0bf070a41fb0998e8c3b5}{SettingsCore::EnumMemoryLevel::Low}:
301             memoryToFree = \hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\_allocatedPixmapsTotalMemory};
302             \textcolor{keywordflow}{break};
303 
304         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1SettingsCore_1_1EnumMemoryLevel_a6dcad4c36c335a5cab78f24dd88090b4aab69bfc6de34e8bf9634a7586486296a}{SettingsCore::EnumMemoryLevel::Normal}:
305         \{
306             qulonglong thirdTotalMemory = \hyperlink{classOkular_1_1DocumentPrivate_a612b0f725408b5949bb5856d18e62ba8}{getTotalMemory}() / 3;
307             qulonglong freeMemory = \hyperlink{classOkular_1_1DocumentPrivate_a2657e5871ed6792f7061f29fb14b54bf}{getFreeMemory}();
308             \textcolor{keywordflow}{if} (\hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\_allocatedPixmapsTotalMemory} > thirdTotalMemory) memoryToFree
       = \hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\_allocatedPixmapsTotalMemory} - thirdTotalMemory;
309             \textcolor{keywordflow}{if} (\hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\_allocatedPixmapsTotalMemory} > freeMemory) clipValue = (
      \hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\_allocatedPixmapsTotalMemory} - freeMemory) / 2;
310         \}
311         \textcolor{keywordflow}{break};
312 
313         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1SettingsCore_1_1EnumMemoryLevel_a6dcad4c36c335a5cab78f24dd88090b4a5f4aefbf160a235d1c3219eeca91f898}{SettingsCore::EnumMemoryLevel::Aggressive}:
314         \{
315             qulonglong freeMemory = \hyperlink{classOkular_1_1DocumentPrivate_a2657e5871ed6792f7061f29fb14b54bf}{getFreeMemory}();
316             \textcolor{keywordflow}{if} (\hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\_allocatedPixmapsTotalMemory} > freeMemory) clipValue = (
      \hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\_allocatedPixmapsTotalMemory} - freeMemory) / 2;
317         \}
318         \textcolor{keywordflow}{break};
319         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1SettingsCore_1_1EnumMemoryLevel_a6dcad4c36c335a5cab78f24dd88090b4a0c192fe00a744fb84cbc63d9431fbe2a}{SettingsCore::EnumMemoryLevel::Greedy}:
320         \{
321             qulonglong freeSwap;
322             qulonglong freeMemory = \hyperlink{classOkular_1_1DocumentPrivate_a2657e5871ed6792f7061f29fb14b54bf}{getFreeMemory}( &freeSwap );
323             \textcolor{keyword}{const} qulonglong memoryLimit = qMin( qMax( freeMemory, 
      \hyperlink{classOkular_1_1DocumentPrivate_a612b0f725408b5949bb5856d18e62ba8}{getTotalMemory}()/2 ), freeMemory+freeSwap );
324             \textcolor{keywordflow}{if} (\hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\_allocatedPixmapsTotalMemory} > memoryLimit) clipValue = (
      \hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\_allocatedPixmapsTotalMemory} - memoryLimit) / 2;
325         \}
326         \textcolor{keywordflow}{break};
327     \}
328 
329     \textcolor{keywordflow}{if} ( clipValue > memoryToFree )
330         memoryToFree = clipValue;
331 
332     \textcolor{keywordflow}{return} memoryToFree;
333 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_ac0e0b9633df5fbd632e9ffa865b0f04b}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!can\+Add\+Annotations\+Natively@{can\+Add\+Annotations\+Natively}}
\index{can\+Add\+Annotations\+Natively@{can\+Add\+Annotations\+Natively}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{can\+Add\+Annotations\+Natively}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+Private\+::can\+Add\+Annotations\+Natively (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1DocumentPrivate_ac0e0b9633df5fbd632e9ffa865b0f04b}


Definition at line 3093 of file document.\+cpp.


\begin{DoxyCode}
3094 \{
3095     \hyperlink{classOkular_1_1SaveInterface}{Okular::SaveInterface} * iface = qobject\_cast< 
      \hyperlink{classOkular_1_1SaveInterface}{Okular::SaveInterface} * >( \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} );
3096 
3097     \textcolor{keywordflow}{if} ( iface && iface->\hyperlink{classOkular_1_1SaveInterface_a8015ceb5e3b6dffc5f7cd620a82fdc16}{supportsOption}(
      \hyperlink{classOkular_1_1SaveInterface_ada9624051ff917ec66ca12b6d6684399a595c02ea3ea3f3c841cdf3b7a0824d68}{Okular::SaveInterface::SaveChanges}) &&
3098          iface->\hyperlink{classOkular_1_1SaveInterface_a1fdb82695d9758e9e68ab0129bf16237}{annotationProxy}() && iface->\hyperlink{classOkular_1_1SaveInterface_a1fdb82695d9758e9e68ab0129bf16237}{annotationProxy}()->
      \hyperlink{classOkular_1_1AnnotationProxy_a4672c7ad39b464c0676e277cd9adbac7}{supports}(\hyperlink{classOkular_1_1AnnotationProxy_ae89e16435aa7e10ac4089e673f44e543afd5f00fa1edfb9d2043f90f9938cee3a}{AnnotationProxy::Addition}) )
3099         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
3100 
3101     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
3102 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a6d7377eb17bd81f5272ec23aa2fb03ac}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!can\+Modify\+External\+Annotations@{can\+Modify\+External\+Annotations}}
\index{can\+Modify\+External\+Annotations@{can\+Modify\+External\+Annotations}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{can\+Modify\+External\+Annotations}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+Private\+::can\+Modify\+External\+Annotations (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1DocumentPrivate_a6d7377eb17bd81f5272ec23aa2fb03ac}


Definition at line 3104 of file document.\+cpp.


\begin{DoxyCode}
3105 \{
3106     \hyperlink{classOkular_1_1SaveInterface}{Okular::SaveInterface} * iface = qobject\_cast< 
      \hyperlink{classOkular_1_1SaveInterface}{Okular::SaveInterface} * >( \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} );
3107 
3108     \textcolor{keywordflow}{if} ( iface && iface->\hyperlink{classOkular_1_1SaveInterface_a8015ceb5e3b6dffc5f7cd620a82fdc16}{supportsOption}(
      \hyperlink{classOkular_1_1SaveInterface_ada9624051ff917ec66ca12b6d6684399a595c02ea3ea3f3c841cdf3b7a0824d68}{Okular::SaveInterface::SaveChanges}) &&
3109          iface->\hyperlink{classOkular_1_1SaveInterface_a1fdb82695d9758e9e68ab0129bf16237}{annotationProxy}() && iface->\hyperlink{classOkular_1_1SaveInterface_a1fdb82695d9758e9e68ab0129bf16237}{annotationProxy}()->
      \hyperlink{classOkular_1_1AnnotationProxy_a4672c7ad39b464c0676e277cd9adbac7}{supports}(\hyperlink{classOkular_1_1AnnotationProxy_ae89e16435aa7e10ac4089e673f44e543ac0cea5683bbb000686ad820c6cd885bf}{AnnotationProxy::Modification}) )
3110         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
3111 
3112     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
3113 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_ac0c69229f58900112e34858d7b2059dd}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!can\+Remove\+External\+Annotations@{can\+Remove\+External\+Annotations}}
\index{can\+Remove\+External\+Annotations@{can\+Remove\+External\+Annotations}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{can\+Remove\+External\+Annotations}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+Private\+::can\+Remove\+External\+Annotations (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1DocumentPrivate_ac0c69229f58900112e34858d7b2059dd}


Definition at line 3115 of file document.\+cpp.


\begin{DoxyCode}
3116 \{
3117     \hyperlink{classOkular_1_1SaveInterface}{Okular::SaveInterface} * iface = qobject\_cast< 
      \hyperlink{classOkular_1_1SaveInterface}{Okular::SaveInterface} * >( \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} );
3118 
3119     \textcolor{keywordflow}{if} ( iface && iface->\hyperlink{classOkular_1_1SaveInterface_a8015ceb5e3b6dffc5f7cd620a82fdc16}{supportsOption}(
      \hyperlink{classOkular_1_1SaveInterface_ada9624051ff917ec66ca12b6d6684399a595c02ea3ea3f3c841cdf3b7a0824d68}{Okular::SaveInterface::SaveChanges}) &&
3120          iface->\hyperlink{classOkular_1_1SaveInterface_a1fdb82695d9758e9e68ab0129bf16237}{annotationProxy}() && iface->\hyperlink{classOkular_1_1SaveInterface_a1fdb82695d9758e9e68ab0129bf16237}{annotationProxy}()->
      \hyperlink{classOkular_1_1AnnotationProxy_a4672c7ad39b464c0676e277cd9adbac7}{supports}(\hyperlink{classOkular_1_1AnnotationProxy_ae89e16435aa7e10ac4089e673f44e543ace001445896cb9742c5282e4fa127936}{AnnotationProxy::Removal}) )
3121         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
3122 
3123     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
3124 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a8490b106f8f873de76b7ca6dcb1320f0}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!cleanup\+Pixmap\+Memory@{cleanup\+Pixmap\+Memory}}
\index{cleanup\+Pixmap\+Memory@{cleanup\+Pixmap\+Memory}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{cleanup\+Pixmap\+Memory}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::cleanup\+Pixmap\+Memory (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a8490b106f8f873de76b7ca6dcb1320f0}


Definition at line 335 of file document.\+cpp.


\begin{DoxyCode}
336 \{
337     \hyperlink{classOkular_1_1DocumentPrivate_a8490b106f8f873de76b7ca6dcb1320f0}{cleanupPixmapMemory}( \hyperlink{classOkular_1_1DocumentPrivate_a91e5e2e26f829b1a08ab01c17fdecc2e}{calculateMemoryToFree}() );
338 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_af5fffaf34fc68cdec3eb850ad54c0c62}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!cleanup\+Pixmap\+Memory@{cleanup\+Pixmap\+Memory}}
\index{cleanup\+Pixmap\+Memory@{cleanup\+Pixmap\+Memory}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{cleanup\+Pixmap\+Memory}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::cleanup\+Pixmap\+Memory (
\begin{DoxyParamCaption}
\item[{qulonglong}]{memory\+To\+Free}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_af5fffaf34fc68cdec3eb850ad54c0c62}


Definition at line 340 of file document.\+cpp.


\begin{DoxyCode}
341 \{
342     \textcolor{keywordflow}{if} ( memoryToFree < 1 )
343         \textcolor{keywordflow}{return};
344 
345     \textcolor{keyword}{const} \textcolor{keywordtype}{int} currentViewportPage = (*m\_viewportIterator).pageNumber;
346 
347     \textcolor{comment}{// Create a QMap of visible rects, indexed by page number}
348     \hyperlink{classQMap}{QMap< int, VisiblePageRect * >} visibleRects;
349     QVector< Okular::VisiblePageRect * >::const\_iterator vIt = \hyperlink{classOkular_1_1DocumentPrivate_a2d167614d4dc602ada64ab925cee6dce}{m\_pageRects}.constBegin(), vEnd = 
      \hyperlink{classOkular_1_1DocumentPrivate_a2d167614d4dc602ada64ab925cee6dce}{m\_pageRects}.constEnd();
350     \textcolor{keywordflow}{for} ( ; vIt != vEnd; ++vIt )
351         visibleRects.insert( (*vIt)->pageNumber, (*vIt) );
352 
353     \textcolor{comment}{// Free memory starting from pages that are farthest from the current one}
354     \textcolor{keywordtype}{int} pagesFreed = 0;
355     \textcolor{keywordflow}{while} ( memoryToFree > 0 )
356     \{
357         \hyperlink{structAllocatedPixmap}{AllocatedPixmap} * p = \hyperlink{classOkular_1_1DocumentPrivate_a751cdd88fe8ba456a89f6c998a9ae35a}{searchLowestPriorityPixmap}( \textcolor{keyword}{true}, \textcolor{keyword}{
      true} );
358         \textcolor{keywordflow}{if} ( !p ) \textcolor{comment}{// No pixmap to remove}
359             \textcolor{keywordflow}{break};
360 
361         kDebug().nospace() << \textcolor{stringliteral}{"Evicting cache pixmap observer="} << p->\hyperlink{structAllocatedPixmap_a5ee1fe9a6b1a37583c0ea54045cc7800}{observer} << \textcolor{stringliteral}{" page="} << p->
      \hyperlink{structAllocatedPixmap_a197c0639216aa0819deb72fd8705d115}{page};
362 
363         \textcolor{comment}{// m\_allocatedPixmapsTotalMemory can't underflow because we always add or remove}
364         \textcolor{comment}{// the memory used by the AllocatedPixmap so at most it can reach zero}
365         \hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\_allocatedPixmapsTotalMemory} -= p->\hyperlink{structAllocatedPixmap_a8fdfc9d87d0ce0852716295895606be0}{memory};
366         \textcolor{comment}{// Make sure memoryToFree does not underflow}
367         \textcolor{keywordflow}{if} ( p->\hyperlink{structAllocatedPixmap_a8fdfc9d87d0ce0852716295895606be0}{memory} > memoryToFree )
368             memoryToFree = 0;
369         \textcolor{keywordflow}{else}
370             memoryToFree -= p->\hyperlink{structAllocatedPixmap_a8fdfc9d87d0ce0852716295895606be0}{memory};
371         pagesFreed++;
372         \textcolor{comment}{// delete pixmap}
373         \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.at( p->\hyperlink{structAllocatedPixmap_a197c0639216aa0819deb72fd8705d115}{page} )->deletePixmap( p->\hyperlink{structAllocatedPixmap_a5ee1fe9a6b1a37583c0ea54045cc7800}{observer} );
374         \textcolor{comment}{// delete allocation descriptor}
375         \textcolor{keyword}{delete} p;
376     \}
377 
378     \textcolor{comment}{// If we're still on low memory, try to free individual tiles}
379 
380     \textcolor{comment}{// Store pages that weren't completely removed}
381 
382     \hyperlink{classQLinkedList}{QLinkedList< AllocatedPixmap * >} pixmapsToKeep;
383     \textcolor{keywordflow}{while} (memoryToFree > 0)
384     \{
385         \textcolor{keywordtype}{int} clean\_hits = 0;
386         \textcolor{keywordflow}{foreach} (\hyperlink{classOkular_1_1DocumentObserver}{DocumentObserver} *observer, \hyperlink{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}{m\_observers})
387         \{
388             \hyperlink{structAllocatedPixmap}{AllocatedPixmap} * p = \hyperlink{classOkular_1_1DocumentPrivate_a751cdd88fe8ba456a89f6c998a9ae35a}{searchLowestPriorityPixmap}( \textcolor{keyword}{
      false}, \textcolor{keyword}{true}, observer );
389             \textcolor{keywordflow}{if} ( !p ) \textcolor{comment}{// No pixmap to remove}
390                 \textcolor{keywordflow}{continue};
391 
392             clean\_hits++;
393 
394             \hyperlink{classOkular_1_1TilesManager}{TilesManager} *tilesManager = \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.at( p->
      \hyperlink{structAllocatedPixmap_a197c0639216aa0819deb72fd8705d115}{page} )->d->tilesManager( observer );
395             \textcolor{keywordflow}{if} ( tilesManager && tilesManager->\hyperlink{classOkular_1_1TilesManager_a7baf6b1ce882f1fea1499fa956097c23}{totalMemory}() > 0 )
396             \{
397                 qulonglong memoryDiff = p->\hyperlink{structAllocatedPixmap_a8fdfc9d87d0ce0852716295895606be0}{memory};
398                 \hyperlink{classOkular_1_1NormalizedRect}{NormalizedRect} visibleRect;
399                 \textcolor{keywordflow}{if} ( visibleRects.contains( p->\hyperlink{structAllocatedPixmap_a197c0639216aa0819deb72fd8705d115}{page} ) )
400                     visibleRect = visibleRects[ p->\hyperlink{structAllocatedPixmap_a197c0639216aa0819deb72fd8705d115}{page} ]->rect;
401 
402                 \textcolor{comment}{// Free non visible tiles}
403                 tilesManager->\hyperlink{classOkular_1_1TilesManager_a68c693eb588798c65c6dc66c226cf789}{cleanupPixmapMemory}( memoryToFree, visibleRect, 
      currentViewportPage );
404 
405                 p->\hyperlink{structAllocatedPixmap_a8fdfc9d87d0ce0852716295895606be0}{memory} = tilesManager->\hyperlink{classOkular_1_1TilesManager_a7baf6b1ce882f1fea1499fa956097c23}{totalMemory}();
406                 memoryDiff -= p->\hyperlink{structAllocatedPixmap_a8fdfc9d87d0ce0852716295895606be0}{memory};
407                 memoryToFree = (memoryDiff < memoryToFree) ? (memoryToFree - memoryDiff) : 0;
408                 \hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\_allocatedPixmapsTotalMemory} -= memoryDiff;
409 
410                 \textcolor{keywordflow}{if} ( p->\hyperlink{structAllocatedPixmap_a8fdfc9d87d0ce0852716295895606be0}{memory} > 0 )
411                     pixmapsToKeep.append( p );
412                 \textcolor{keywordflow}{else}
413                     \textcolor{keyword}{delete} p;
414             \}
415             \textcolor{keywordflow}{else}
416                 pixmapsToKeep.append( p );
417         \}
418 
419         \textcolor{keywordflow}{if} (clean\_hits == 0) \textcolor{keywordflow}{break};
420     \}
421 
422     \hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps} += pixmapsToKeep;
423     \textcolor{comment}{//p--rintf("freeMemory A:[%d -%d = %d] \(\backslash\)n", m\_allocatedPixmaps.count() + pagesFreed, pagesFreed,
       m\_allocatedPixmaps.count() );}
424 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a3052bf6dc0f8656c15d7018229953757}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!do\+Continue\+All\+Document\+Search@{do\+Continue\+All\+Document\+Search}}
\index{do\+Continue\+All\+Document\+Search@{do\+Continue\+All\+Document\+Search}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{do\+Continue\+All\+Document\+Search}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::do\+Continue\+All\+Document\+Search (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{pages\+To\+Notify\+Set, }
\item[{void $\ast$}]{page\+Matches\+Map, }
\item[{int}]{current\+Page, }
\item[{int}]{search\+I\+D, }
\item[{const Q\+String \&}]{text, }
\item[{int}]{case\+Sensitivity, }
\item[{const Q\+Color \&}]{color}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a3052bf6dc0f8656c15d7018229953757}


Definition at line 1762 of file document.\+cpp.


\begin{DoxyCode}
1763 \{
1764     \hyperlink{classQMap}{QMap< Page *, QVector<RegularAreaRect *>} > *pageMatches = \textcolor{keyword}{
      static\_cast<} \hyperlink{classQMap}{QMap< Page *, QVector<RegularAreaRect *>} \textcolor{keyword}{>} * >(
      pageMatchesMap);
1765     Qt::CaseSensitivity caseSensitivity = \textcolor{keyword}{static\_cast<}Qt::CaseSensitivity\textcolor{keyword}{>}(theCaseSensitivity);
1766     QSet< int > *pagesToNotify = \textcolor{keyword}{static\_cast<} QSet< int > * \textcolor{keyword}{>}( pagesToNotifySet );
1767     \hyperlink{structRunningSearch}{RunningSearch} *search = \hyperlink{classOkular_1_1DocumentPrivate_a42420dd45075092b921a829b8e9f2214}{m\_searches}.value(searchID);
1768 
1769     \textcolor{keywordflow}{if} (\hyperlink{classOkular_1_1DocumentPrivate_ad852d630ad63f8fd4ce1b2cc93179c91}{m\_searchCancelled} || !search)
1770     \{
1771         \textcolor{keyword}{typedef} QVector<RegularAreaRect *> MatchesVector;
1772 
1773         QApplication::restoreOverrideCursor();
1774 
1775         \textcolor{keywordflow}{if} (search) search->isCurrentlySearching = \textcolor{keyword}{false};
1776 
1777         emit \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_ae938c994d20bdfef40caa3d37d28d92d}{searchFinished}( searchID, 
      \hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbbacc76ba5b7c23f4d24515076e946373b4}{Document::SearchCancelled} );
1778         \textcolor{keywordflow}{foreach}(\textcolor{keyword}{const} MatchesVector &mv, *pageMatches) qDeleteAll(mv);
1779         \textcolor{keyword}{delete} pageMatches;
1780         \textcolor{keyword}{delete} pagesToNotify;
1781         \textcolor{keywordflow}{return};
1782     \}
1783 
1784     \textcolor{keywordflow}{if} (currentPage < \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.count())
1785     \{
1786         \textcolor{comment}{// get page (from the first to the last)}
1787         \hyperlink{classOkular_1_1Page}{Page} *page = \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.at(currentPage);
1788         \textcolor{keywordtype}{int} pageNumber = page->\hyperlink{classOkular_1_1Page_a6eee5f157a130b47d81ddd63e501664b}{number}(); \textcolor{comment}{// redundant? is it == currentPage ?}
1789 
1790         \textcolor{comment}{// request search page if needed}
1791         \textcolor{keywordflow}{if} ( !page->\hyperlink{classOkular_1_1Page_a44163bc0e76204a9d9c42da442ee734a}{hasTextPage}() )
1792             \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_ad4909d8411d3ad8faf716f30a6e9f417}{requestTextPage}( pageNumber );
1793 
1794         \textcolor{comment}{// loop on a page adding highlights for all found items}
1795         \hyperlink{classOkular_1_1RegularAreaRect}{RegularAreaRect} * lastMatch = 0;
1796         \textcolor{keywordflow}{while} ( 1 )
1797         \{
1798             \textcolor{keywordflow}{if} ( lastMatch )
1799                 lastMatch = page->\hyperlink{classOkular_1_1Page_a02f1143ff5c69b04f4b514c04566864f}{findText}( searchID, text, \hyperlink{namespaceOkular_ad7ede3c5a1b1a8bfd83f133e7e3ed9d2ae206453ab991a0ffea7c198f8ef600c4}{NextResult}, caseSensitivity, 
      lastMatch );
1800             \textcolor{keywordflow}{else}
1801                 lastMatch = page->\hyperlink{classOkular_1_1Page_a02f1143ff5c69b04f4b514c04566864f}{findText}( searchID, text, \hyperlink{namespaceOkular_ad7ede3c5a1b1a8bfd83f133e7e3ed9d2a12e1e0d5fba44b6eb075863eb0992cf6}{FromTop}, caseSensitivity );
1802 
1803             \textcolor{keywordflow}{if} ( !lastMatch )
1804                 \textcolor{keywordflow}{break};
1805 
1806             \textcolor{comment}{// add highligh rect to the matches map}
1807             (*pageMatches)[page].append(lastMatch);
1808         \}
1809         \textcolor{keyword}{delete} lastMatch;
1810 
1811         QMetaObject::invokeMethod(\hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}, \textcolor{stringliteral}{"doContinueAllDocumentSearch"}, Qt::QueuedConnection, 
      Q\_ARG(\textcolor{keywordtype}{void} *, pagesToNotifySet), Q\_ARG(\textcolor{keywordtype}{void} *, pageMatches), Q\_ARG(\textcolor{keywordtype}{int}, currentPage + 1), Q\_ARG(\textcolor{keywordtype}{int}, searchID)
      , Q\_ARG(QString, text), Q\_ARG(\textcolor{keywordtype}{int}, caseSensitivity), Q\_ARG(QColor, color));
1812     \}
1813     \textcolor{keywordflow}{else}
1814     \{
1815         \textcolor{comment}{// reset cursor to previous shape}
1816         QApplication::restoreOverrideCursor();
1817 
1818         search->isCurrentlySearching = \textcolor{keyword}{false};
1819         \textcolor{keywordtype}{bool} foundAMatch = pageMatches->count() != 0;
1820         \hyperlink{classQMap}{QMap< Page *, QVector<RegularAreaRect *>} >::const\_iterator 
      it, itEnd;
1821         it = pageMatches->constBegin();
1822         itEnd = pageMatches->constEnd();
1823         \textcolor{keywordflow}{for} ( ; it != itEnd; ++it)
1824         \{
1825             \textcolor{keywordflow}{foreach}(\hyperlink{classOkular_1_1RegularAreaRect}{RegularAreaRect} *match, it.value())
1826             \{
1827                 it.key()->d->setHighlight( searchID, match, color );
1828                 \textcolor{keyword}{delete} match;
1829             \}
1830             search->highlightedPages.insert( it.key()->number() );
1831             pagesToNotify->insert( it.key()->number() );
1832         \}
1833 
1834         \textcolor{keywordflow}{foreach}(\hyperlink{classOkular_1_1DocumentObserver}{DocumentObserver} *observer, \hyperlink{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}{m\_observers})
1835             observer->\hyperlink{classOkular_1_1DocumentObserver_a7218049f827538efc044558f9346c50a}{notifySetup}( \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}, 0 );
1836 
1837         \textcolor{comment}{// notify observers about highlights changes}
1838         \textcolor{keywordflow}{foreach}(\textcolor{keywordtype}{int} pageNumber, *pagesToNotify)
1839             \textcolor{keywordflow}{foreach}(\hyperlink{classOkular_1_1DocumentObserver}{DocumentObserver} *observer, \hyperlink{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}{m\_observers})
1840                 observer->\hyperlink{classOkular_1_1DocumentObserver_abf7600dabd7d6c1e38c950d99f7be595}{notifyPageChanged}( pageNumber, 
      \hyperlink{classOkular_1_1DocumentObserver_af0e6b09d5fc7ecb673bd4895ef2710dcac6ac9d40408f28401cdde8b2e57c3afc}{DocumentObserver::Highlights} );
1841 
1842         \textcolor{keywordflow}{if} (foundAMatch) emit \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_ae938c994d20bdfef40caa3d37d28d92d}{searchFinished}(searchID, 
      \hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbbaee768cc03e09b4188b091b652e1556ab}{Document::MatchFound} );
1843         \textcolor{keywordflow}{else} emit \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_ae938c994d20bdfef40caa3d37d28d92d}{searchFinished}( searchID, 
      \hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbba6f1e44c2a23dde543d40770f949a2882}{Document::NoMatchFound} );
1844 
1845         \textcolor{keyword}{delete} pageMatches;
1846         \textcolor{keyword}{delete} pagesToNotify;
1847     \}
1848 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_aefac6c9801c005854ffe5c75e92bd05c}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!do\+Continue\+Direction\+Match\+Search@{do\+Continue\+Direction\+Match\+Search}}
\index{do\+Continue\+Direction\+Match\+Search@{do\+Continue\+Direction\+Match\+Search}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{do\+Continue\+Direction\+Match\+Search}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::do\+Continue\+Direction\+Match\+Search (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{do\+Continue\+Direction\+Match\+Search\+Struct}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_aefac6c9801c005854ffe5c75e92bd05c}


Definition at line 1635 of file document.\+cpp.


\begin{DoxyCode}
1636 \{
1637     \hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct}{DoContinueDirectionMatchSearchStruct} *searchStruct = \textcolor{keyword}{static\_cast<}
      \hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct}{DoContinueDirectionMatchSearchStruct} *\textcolor{keyword}{>}(
      doContinueDirectionMatchSearchStruct);
1638     \hyperlink{structRunningSearch}{RunningSearch} *search = \hyperlink{classOkular_1_1DocumentPrivate_a42420dd45075092b921a829b8e9f2214}{m\_searches}.value(searchStruct->
      \hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a311791184c19130a099f65f84384db6e}{searchID});
1639 
1640     \textcolor{keywordflow}{if} ((\hyperlink{classOkular_1_1DocumentPrivate_ad852d630ad63f8fd4ce1b2cc93179c91}{m\_searchCancelled} && !searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a549890917311bf7520a62da5c6bf0861}{match}) || !search)
1641     \{
1642         \textcolor{comment}{// if the user cancelled but he just got a match, give him the match!}
1643         QApplication::restoreOverrideCursor();
1644 
1645         \textcolor{keywordflow}{if} (search) search->\hyperlink{structRunningSearch_a2683a901cf457f541ca4662294e02cec}{isCurrentlySearching} = \textcolor{keyword}{false};
1646 
1647         emit \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_ae938c994d20bdfef40caa3d37d28d92d}{searchFinished}( searchStruct->
      \hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a311791184c19130a099f65f84384db6e}{searchID}, \hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbbacc76ba5b7c23f4d24515076e946373b4}{Document::SearchCancelled} );
1648         \textcolor{keyword}{delete} searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a27dfab7440a3e4889b39307626a6aa7a}{pagesToNotify};
1649         \textcolor{keyword}{delete} searchStruct;
1650         \textcolor{keywordflow}{return};
1651     \}
1652 
1653     \textcolor{keywordtype}{bool} doContinue = \textcolor{keyword}{false};
1654     \textcolor{comment}{// if no match found, loop through the whole doc, starting from currentPage}
1655     \textcolor{keywordflow}{if} ( !searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a549890917311bf7520a62da5c6bf0861}{match} )
1656     \{
1657         \textcolor{keyword}{const} \textcolor{keywordtype}{int} pageCount = \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.count();
1658         \textcolor{keywordflow}{if} (searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a0fe5f9b4cf4ef21a355f87a180fae56f}{pagesDone} < pageCount)
1659         \{
1660             doContinue = \textcolor{keyword}{true};
1661             \textcolor{keywordflow}{if} ( searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a52b83c7586463bfa968075de2d131250}{currentPage} >= pageCount || searchStruct->
      \hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a52b83c7586463bfa968075de2d131250}{currentPage} < 0 )
1662             \{
1663                 \textcolor{keyword}{const} QString question = searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_ac33cf94809ed8498fc706efacd1cc79e}{forward} ? i18n(\textcolor{stringliteral}{"End of document reached.\(\backslash\)n
      Continue from the beginning?"}) : i18n(\textcolor{stringliteral}{"Beginning of document reached.\(\backslash\)nContinue from the bottom?"});
1664                 \textcolor{keywordflow}{if} ( searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a3092dffdbf938354e545665e1d6b575d}{noDialogs} || KMessageBox::questionYesNo(
      \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_aef26598eca4c2fe772cc77d7730a9e8b}{widget}(), question, QString(), KStandardGuiItem::cont(), KStandardGuiItem::cancel()
      ) == KMessageBox::Yes )
1665                     searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a52b83c7586463bfa968075de2d131250}{currentPage} = searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_ac33cf94809ed8498fc706efacd1cc79e}{forward} ? 0 : pageCount - 1
      ;
1666                 \textcolor{keywordflow}{else}
1667                     doContinue = \textcolor{keyword}{false};
1668             \}
1669         \}
1670     \}
1671 
1672     \textcolor{keywordflow}{if} (doContinue)
1673     \{
1674         \textcolor{comment}{// get page}
1675         \hyperlink{classOkular_1_1Page}{Page} * page = \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}[ searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a52b83c7586463bfa968075de2d131250}{currentPage} ];
1676         \textcolor{comment}{// request search page if needed}
1677         \textcolor{keywordflow}{if} ( !page->\hyperlink{classOkular_1_1Page_a44163bc0e76204a9d9c42da442ee734a}{hasTextPage}() )
1678             \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_ad4909d8411d3ad8faf716f30a6e9f417}{requestTextPage}( page->\hyperlink{classOkular_1_1Page_a6eee5f157a130b47d81ddd63e501664b}{number}() );
1679 
1680         \textcolor{comment}{// if found a match on the current page, end the loop}
1681         searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a549890917311bf7520a62da5c6bf0861}{match} = page->\hyperlink{classOkular_1_1Page_a02f1143ff5c69b04f4b514c04566864f}{findText}( searchStruct->
      \hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a311791184c19130a099f65f84384db6e}{searchID}, searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a69c1b9beb5762d997a0dfeff5c714239}{text}, searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_ac33cf94809ed8498fc706efacd1cc79e}{forward} ? \hyperlink{namespaceOkular_ad7ede3c5a1b1a8bfd83f133e7e3ed9d2a12e1e0d5fba44b6eb075863eb0992cf6}{FromTop} : 
      \hyperlink{namespaceOkular_ad7ede3c5a1b1a8bfd83f133e7e3ed9d2a1a146d4130e3d6f0ad12fd5ee6fc3497}{FromBottom}, searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_afe83f59649cbdbac5029e6f37c6840f5}{caseSensitivity} );
1682 
1683         \textcolor{keywordflow}{if} ( !searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a549890917311bf7520a62da5c6bf0861}{match} )
1684         \{
1685             \textcolor{keywordflow}{if} (searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_ac33cf94809ed8498fc706efacd1cc79e}{forward}) searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a52b83c7586463bfa968075de2d131250}{currentPage}++;
1686             \textcolor{keywordflow}{else} searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a52b83c7586463bfa968075de2d131250}{currentPage}--;
1687             searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a0fe5f9b4cf4ef21a355f87a180fae56f}{pagesDone}++;
1688         \}
1689         \textcolor{keywordflow}{else}
1690         \{
1691             searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a0fe5f9b4cf4ef21a355f87a180fae56f}{pagesDone} = 1;
1692         \}
1693 
1694         \textcolor{comment}{// Both of the previous if branches need to call doContinueDirectionMatchSearch}
1695         QMetaObject::invokeMethod(\hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}, \textcolor{stringliteral}{"doContinueDirectionMatchSearch"}, Qt::QueuedConnection,
       Q\_ARG(\textcolor{keywordtype}{void} *, searchStruct));
1696     \}
1697     \textcolor{keywordflow}{else}
1698     \{
1699         \hyperlink{classOkular_1_1DocumentPrivate_a71aa923afef1d2816fe26ffae544f7ce}{doProcessSearchMatch}( searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a549890917311bf7520a62da5c6bf0861}{match}, search, searchStruct->
      \hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a27dfab7440a3e4889b39307626a6aa7a}{pagesToNotify}, searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a52b83c7586463bfa968075de2d131250}{currentPage}, searchStruct->
      \hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a311791184c19130a099f65f84384db6e}{searchID}, searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a071c07e92481fedb9f382ae2e8935be9}{moveViewport}, searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_ae80b5fde810c935ec5436acc3821a485}{color} );
1700         \textcolor{keyword}{delete} searchStruct;
1701     \}
1702 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_ab1004324d1cd74d10311e28dfb40c2fa}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!do\+Continue\+Googles\+Document\+Search@{do\+Continue\+Googles\+Document\+Search}}
\index{do\+Continue\+Googles\+Document\+Search@{do\+Continue\+Googles\+Document\+Search}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{do\+Continue\+Googles\+Document\+Search}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::do\+Continue\+Googles\+Document\+Search (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{pages\+To\+Notify\+Set, }
\item[{void $\ast$}]{page\+Matches\+Map, }
\item[{int}]{current\+Page, }
\item[{int}]{search\+I\+D, }
\item[{const Q\+String\+List \&}]{words, }
\item[{int}]{case\+Sensitivity, }
\item[{const Q\+Color \&}]{color, }
\item[{bool}]{match\+All}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_ab1004324d1cd74d10311e28dfb40c2fa}


Definition at line 1850 of file document.\+cpp.


\begin{DoxyCode}
1851 \{
1852     \textcolor{keyword}{typedef} \hyperlink{structQPair}{QPair<RegularAreaRect *, QColor>} MatchColor;
1853     \hyperlink{classQMap}{QMap< Page *, QVector<MatchColor>} > *pageMatches = \textcolor{keyword}{static\_cast<} 
      \hyperlink{classQMap}{QMap< Page *, QVector<MatchColor>} \textcolor{keyword}{>} * >(pageMatchesMap);
1854     Qt::CaseSensitivity caseSensitivity = \textcolor{keyword}{static\_cast<}Qt::CaseSensitivity\textcolor{keyword}{>}(theCaseSensitivity);
1855     QSet< int > *pagesToNotify = \textcolor{keyword}{static\_cast<} QSet< int > * \textcolor{keyword}{>}( pagesToNotifySet );
1856     \hyperlink{structRunningSearch}{RunningSearch} *search = \hyperlink{classOkular_1_1DocumentPrivate_a42420dd45075092b921a829b8e9f2214}{m\_searches}.value(searchID);
1857 
1858     \textcolor{keywordflow}{if} (\hyperlink{classOkular_1_1DocumentPrivate_ad852d630ad63f8fd4ce1b2cc93179c91}{m\_searchCancelled} || !search)
1859     \{
1860         \textcolor{keyword}{typedef} QVector<MatchColor> MatchesVector;
1861 
1862         QApplication::restoreOverrideCursor();
1863 
1864         \textcolor{keywordflow}{if} (search) search->isCurrentlySearching = \textcolor{keyword}{false};
1865 
1866         emit \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_ae938c994d20bdfef40caa3d37d28d92d}{searchFinished}( searchID, 
      \hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbbacc76ba5b7c23f4d24515076e946373b4}{Document::SearchCancelled} );
1867 
1868         \textcolor{keywordflow}{foreach}(\textcolor{keyword}{const} MatchesVector &mv, *pageMatches)
1869         \{
1870             \textcolor{keywordflow}{foreach}(\textcolor{keyword}{const} MatchColor &mc, mv) \textcolor{keyword}{delete} mc.first;
1871         \}
1872         \textcolor{keyword}{delete} pageMatches;
1873         \textcolor{keyword}{delete} pagesToNotify;
1874         \textcolor{keywordflow}{return};
1875     \}
1876 
1877     \textcolor{keyword}{const} \textcolor{keywordtype}{int} wordCount = words.count();
1878     \textcolor{keyword}{const} \textcolor{keywordtype}{int} hueStep = (wordCount > 1) ? (60 / (wordCount - 1)) : 60;
1879     \textcolor{keywordtype}{int} baseHue, baseSat, baseVal;
1880     color.getHsv( &baseHue, &baseSat, &baseVal );
1881 
1882     \textcolor{keywordflow}{if} (currentPage < \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.count())
1883     \{
1884         \textcolor{comment}{// get page (from the first to the last)}
1885         \hyperlink{classOkular_1_1Page}{Page} *page = \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.at(currentPage);
1886         \textcolor{keywordtype}{int} pageNumber = page->\hyperlink{classOkular_1_1Page_a6eee5f157a130b47d81ddd63e501664b}{number}(); \textcolor{comment}{// redundant? is it == currentPage ?}
1887 
1888         \textcolor{comment}{// request search page if needed}
1889         \textcolor{keywordflow}{if} ( !page->\hyperlink{classOkular_1_1Page_a44163bc0e76204a9d9c42da442ee734a}{hasTextPage}() )
1890             \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_ad4909d8411d3ad8faf716f30a6e9f417}{requestTextPage}( pageNumber );
1891 
1892         \textcolor{comment}{// loop on a page adding highlights for all found items}
1893         \textcolor{keywordtype}{bool} allMatched = wordCount > 0,
1894              anyMatched = \textcolor{keyword}{false};
1895         \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} w = 0; w < wordCount; w++ )
1896         \{
1897             \textcolor{keyword}{const} QString &word = words[ w ];
1898             \textcolor{keywordtype}{int} newHue = baseHue - w * hueStep;
1899             \textcolor{keywordflow}{if} ( newHue < 0 )
1900                 newHue += 360;
1901             QColor wordColor = QColor::fromHsv( newHue, baseSat, baseVal );
1902             \hyperlink{classOkular_1_1RegularAreaRect}{RegularAreaRect} * lastMatch = 0;
1903             \textcolor{comment}{// add all highlights for current word}
1904             \textcolor{keywordtype}{bool} wordMatched = \textcolor{keyword}{false};
1905             \textcolor{keywordflow}{while} ( 1 )
1906             \{
1907                 \textcolor{keywordflow}{if} ( lastMatch )
1908                     lastMatch = page->\hyperlink{classOkular_1_1Page_a02f1143ff5c69b04f4b514c04566864f}{findText}( searchID, word, 
      \hyperlink{namespaceOkular_ad7ede3c5a1b1a8bfd83f133e7e3ed9d2ae206453ab991a0ffea7c198f8ef600c4}{NextResult}, caseSensitivity, lastMatch );
1909                 \textcolor{keywordflow}{else}
1910                     lastMatch = page->\hyperlink{classOkular_1_1Page_a02f1143ff5c69b04f4b514c04566864f}{findText}( searchID, word, \hyperlink{namespaceOkular_ad7ede3c5a1b1a8bfd83f133e7e3ed9d2a12e1e0d5fba44b6eb075863eb0992cf6}{FromTop}, caseSensitivity);
1911 
1912                 \textcolor{keywordflow}{if} ( !lastMatch )
1913                     \textcolor{keywordflow}{break};
1914 
1915                 \textcolor{comment}{// add highligh rect to the matches map}
1916                 (*pageMatches)[page].append(MatchColor(lastMatch, wordColor));
1917                 wordMatched = \textcolor{keyword}{true};
1918             \}
1919             allMatched = allMatched && wordMatched;
1920             anyMatched = anyMatched || wordMatched;
1921         \}
1922 
1923         \textcolor{comment}{// if not all words are present in page, remove partial highlights}
1924         \textcolor{keywordflow}{if} ( !allMatched && matchAll )
1925         \{
1926             QVector<MatchColor> &matches = (*pageMatches)[page];
1927             \textcolor{keywordflow}{foreach}(\textcolor{keyword}{const} MatchColor &mc, matches) \textcolor{keyword}{delete} mc.first;
1928             pageMatches->remove(page);
1929         \}
1930 
1931         QMetaObject::invokeMethod(\hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}, \textcolor{stringliteral}{"doContinueGooglesDocumentSearch"}, Qt::QueuedConnection
      , Q\_ARG(\textcolor{keywordtype}{void} *, pagesToNotifySet), Q\_ARG(\textcolor{keywordtype}{void} *, pageMatches), Q\_ARG(\textcolor{keywordtype}{int}, currentPage + 1), Q\_ARG(\textcolor{keywordtype}{int}, 
      searchID), Q\_ARG(QStringList, words), Q\_ARG(\textcolor{keywordtype}{int}, caseSensitivity), Q\_ARG(QColor, color), Q\_ARG(\textcolor{keywordtype}{bool}, matchAll));
1932     \}
1933     \textcolor{keywordflow}{else}
1934     \{
1935         \textcolor{comment}{// reset cursor to previous shape}
1936         QApplication::restoreOverrideCursor();
1937 
1938         search->isCurrentlySearching = \textcolor{keyword}{false};
1939         \textcolor{keywordtype}{bool} foundAMatch = pageMatches->count() != 0;
1940         \hyperlink{classQMap}{QMap< Page *, QVector<MatchColor>} >::const\_iterator it, itEnd;
1941         it = pageMatches->constBegin();
1942         itEnd = pageMatches->constEnd();
1943         \textcolor{keywordflow}{for} ( ; it != itEnd; ++it)
1944         \{
1945             \textcolor{keywordflow}{foreach}(\textcolor{keyword}{const} MatchColor &mc, it.value())
1946             \{
1947                 it.key()->d->setHighlight( searchID, mc.first, mc.second );
1948                 \textcolor{keyword}{delete} mc.first;
1949             \}
1950             search->highlightedPages.insert( it.key()->number() );
1951             pagesToNotify->insert( it.key()->number() );
1952         \}
1953 
1954         \textcolor{comment}{// send page lists to update observers (since some filter on bookmarks)}
1955         \textcolor{keywordflow}{foreach}(\hyperlink{classOkular_1_1DocumentObserver}{DocumentObserver} *observer, \hyperlink{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}{m\_observers})
1956             observer->\hyperlink{classOkular_1_1DocumentObserver_a7218049f827538efc044558f9346c50a}{notifySetup}( \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}, 0 );
1957 
1958         \textcolor{comment}{// notify observers about highlights changes}
1959         \textcolor{keywordflow}{foreach}(\textcolor{keywordtype}{int} pageNumber, *pagesToNotify)
1960             \textcolor{keywordflow}{foreach}(\hyperlink{classOkular_1_1DocumentObserver}{DocumentObserver} *observer, \hyperlink{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}{m\_observers})
1961                 observer->\hyperlink{classOkular_1_1DocumentObserver_abf7600dabd7d6c1e38c950d99f7be595}{notifyPageChanged}( pageNumber, 
      \hyperlink{classOkular_1_1DocumentObserver_af0e6b09d5fc7ecb673bd4895ef2710dcac6ac9d40408f28401cdde8b2e57c3afc}{DocumentObserver::Highlights} );
1962 
1963         \textcolor{keywordflow}{if} (foundAMatch) emit \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_ae938c994d20bdfef40caa3d37d28d92d}{searchFinished}( searchID, 
      \hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbbaee768cc03e09b4188b091b652e1556ab}{Document::MatchFound} );
1964         \textcolor{keywordflow}{else} emit \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_ae938c994d20bdfef40caa3d37d28d92d}{searchFinished}( searchID, 
      \hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbba6f1e44c2a23dde543d40770f949a2882}{Document::NoMatchFound} );
1965 
1966         \textcolor{keyword}{delete} pageMatches;
1967         \textcolor{keyword}{delete} pagesToNotify;
1968     \}
1969 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a0e9f7fb7c06e95d62644eb693c6e2597}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!document\+Meta\+Data@{document\+Meta\+Data}}
\index{document\+Meta\+Data@{document\+Meta\+Data}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{document\+Meta\+Data}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Variant Document\+Private\+::document\+Meta\+Data (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{key, }
\item[{const Q\+Variant \&}]{option}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1DocumentPrivate_a0e9f7fb7c06e95d62644eb693c6e2597}
Request a particular metadata of the \hyperlink{classOkular_1_1Document}{Document} itself (ie, not something depending on the document type/backend). 

Definition at line 1971 of file document.\+cpp.


\begin{DoxyCode}
1972 \{
1973     \textcolor{keywordflow}{if} ( key == QLatin1String( \textcolor{stringliteral}{"PaperColor"} ) )
1974     \{
1975         \textcolor{keywordtype}{bool} giveDefault = option.toBool();
1976         \textcolor{comment}{// load paper color from Settings, or use the default color (white)}
1977         \textcolor{comment}{// if we were told to do so}
1978         QColor color;
1979         \textcolor{keywordflow}{if} ( ( \hyperlink{classOkular_1_1SettingsCore_a6fcb9ee5ad7a92b49ad31344771cca2d}{SettingsCore::renderMode}() == 
      \hyperlink{classOkular_1_1SettingsCore_1_1EnumRenderMode_aae172bdb345dda4d639e763709ea357aa58af23c7fbd8ea1998995a8eaffa125d}{SettingsCore::EnumRenderMode::Paper} )
1980              && \hyperlink{classOkular_1_1SettingsCore_af01449e331a4e973d5cb3879a3e76081}{SettingsCore::changeColors}() )
1981         \{
1982             color = \hyperlink{classOkular_1_1SettingsCore_ab59e5e75137763e3a97b545dcfd2bb30}{SettingsCore::paperColor}();
1983         \}
1984         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( giveDefault )
1985         \{
1986             color = Qt::white;
1987         \}
1988         \textcolor{keywordflow}{return} color;
1989     \}
1990     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( key == QLatin1String( \textcolor{stringliteral}{"TextAntialias"} ) )
1991     \{
1992         \textcolor{keywordflow}{switch} ( \hyperlink{classOkular_1_1SettingsCore_acfbe444f3d02896d1873772367a6debf}{SettingsCore::textAntialias}() )
1993         \{
1994             \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1SettingsCore_1_1EnumTextAntialias_a7609fd32c2acd57b5d3ce4ac3b01a9e4ab833e0a93d6d598e69c7fc84b5a134a1}{SettingsCore::EnumTextAntialias::Enabled}:
1995                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1996                 \textcolor{keywordflow}{break};
1997 \textcolor{preprocessor}{#if 0}
1998             \textcolor{keywordflow}{case} Settings::EnumTextAntialias::UseKDESettings:
1999                 \textcolor{comment}{// TODO: read the KDE configuration}
2000                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};
2001                 \textcolor{keywordflow}{break};
2002 \textcolor{preprocessor}{#endif}
2003             \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1SettingsCore_1_1EnumTextAntialias_a7609fd32c2acd57b5d3ce4ac3b01a9e4afd7c58c07865239fb469b1e0786810c2}{SettingsCore::EnumTextAntialias::Disabled}:
2004                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2005                 \textcolor{keywordflow}{break};
2006         \}
2007     \}
2008     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( key == QLatin1String( \textcolor{stringliteral}{"GraphicsAntialias"} ) )
2009     \{
2010         \textcolor{keywordflow}{switch} ( \hyperlink{classOkular_1_1SettingsCore_af8bee5068d82bead0102830766a19c2a}{SettingsCore::graphicsAntialias}() )
2011         \{
2012             \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1SettingsCore_1_1EnumGraphicsAntialias_a124c4398a0feb1b529fbae0accbc89cead7142b8fc6f562d888be519480612e7c}{SettingsCore::EnumGraphicsAntialias::Enabled}:
2013                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};
2014                 \textcolor{keywordflow}{break};
2015             \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1SettingsCore_1_1EnumGraphicsAntialias_a124c4398a0feb1b529fbae0accbc89cea7dd89822738b507cbbc1683ab9dfce48}{SettingsCore::EnumGraphicsAntialias::Disabled}
      :
2016                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2017                 \textcolor{keywordflow}{break};
2018         \}
2019     \}
2020     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( key == QLatin1String( \textcolor{stringliteral}{"TextHinting"} ) )
2021     \{
2022         \textcolor{keywordflow}{switch} ( \hyperlink{classOkular_1_1SettingsCore_a82e159d93aed4f7bab34b3be08b62886}{SettingsCore::textHinting}() )
2023         \{
2024             \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1SettingsCore_1_1EnumTextHinting_a8b32766d39fec9699e5133223463450fa86087d31ce91c09a308b4fc59be2e05a}{SettingsCore::EnumTextHinting::Enabled}:
2025                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};
2026                 \textcolor{keywordflow}{break};
2027             \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1SettingsCore_1_1EnumTextHinting_a8b32766d39fec9699e5133223463450fa7e7c27a245665e157178bd7a2ad96743}{SettingsCore::EnumTextHinting::Disabled}:
2028                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2029                 \textcolor{keywordflow}{break};
2030         \}
2031     \}
2032     \textcolor{keywordflow}{return} QVariant();
2033 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a71aa923afef1d2816fe26ffae544f7ce}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!do\+Process\+Search\+Match@{do\+Process\+Search\+Match}}
\index{do\+Process\+Search\+Match@{do\+Process\+Search\+Match}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{do\+Process\+Search\+Match}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::do\+Process\+Search\+Match (
\begin{DoxyParamCaption}
\item[{{\bf Regular\+Area\+Rect} $\ast$}]{match, }
\item[{{\bf Running\+Search} $\ast$}]{search, }
\item[{Q\+Set$<$ int $>$ $\ast$}]{pages\+To\+Notify, }
\item[{int}]{current\+Page, }
\item[{int}]{search\+I\+D, }
\item[{bool}]{move\+Viewport, }
\item[{const Q\+Color \&}]{color}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a71aa923afef1d2816fe26ffae544f7ce}


Definition at line 1704 of file document.\+cpp.


\begin{DoxyCode}
1705 \{
1706     \textcolor{comment}{// reset cursor to previous shape}
1707     QApplication::restoreOverrideCursor();
1708 
1709     \textcolor{keywordtype}{bool} foundAMatch = \textcolor{keyword}{false};
1710 
1711     search->\hyperlink{structRunningSearch_a2683a901cf457f541ca4662294e02cec}{isCurrentlySearching} = \textcolor{keyword}{false};
1712 
1713     \textcolor{comment}{// if a match has been found..}
1714     \textcolor{keywordflow}{if} ( match )
1715     \{
1716         \textcolor{comment}{// update the RunningSearch structure adding this match..}
1717         foundAMatch = \textcolor{keyword}{true};
1718         search->\hyperlink{structRunningSearch_a69213b1663cb154fee0cca4b877c4c05}{continueOnPage} = currentPage;
1719         search->\hyperlink{structRunningSearch_acd3938eb8c9ccc97de83af80d68e55bf}{continueOnMatch} = *match;
1720         search->\hyperlink{structRunningSearch_a5827c4228354199d0a4447dca7f19fb1}{highlightedPages}.insert( currentPage );
1721         \textcolor{comment}{// ..add highlight to the page..}
1722         \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}[ currentPage ]->d->setHighlight( searchID, match, color );
1723 
1724         \textcolor{comment}{// ..queue page for notifying changes..}
1725         pagesToNotify->insert( currentPage );
1726 
1727         \textcolor{comment}{// Create a normalized rectangle around the search match that includes a 5% buffer on all sides.}
1728         \textcolor{keyword}{const} \hyperlink{classOkular_1_1NormalizedRect}{Okular::NormalizedRect} matchRectWithBuffer = 
      \hyperlink{classOkular_1_1NormalizedRect}{Okular::NormalizedRect}( match->first().left - 0.05,
1729                                                                                    match->first().top - 0.0
      5,
1730                                                                                    match->first().right + 0
      .05,
1731                                                                                    match->first().bottom + 
      0.05 );
1732 
1733         \textcolor{keyword}{const} \textcolor{keywordtype}{bool} matchRectFullyVisible = \hyperlink{classOkular_1_1DocumentPrivate_a6a3aff2f64cb37c3c1f50a778e43abfa}{isNormalizedRectangleFullyVisible}
      ( matchRectWithBuffer, currentPage );
1734 
1735         \textcolor{comment}{// ..move the viewport to show the first of the searched word sequence centered}
1736         \textcolor{keywordflow}{if} ( moveViewport && !matchRectFullyVisible )
1737         \{
1738             \hyperlink{classOkular_1_1DocumentViewport}{DocumentViewport} searchViewport( currentPage );
1739             searchViewport.rePos.enabled = \textcolor{keyword}{true};
1740             searchViewport.rePos.normalizedX = (match->first().left + match->first().right) / 2.0;
1741             searchViewport.rePos.normalizedY = (match->first().top + match->first().bottom) / 2.0;
1742             \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_a1afaf8b8b5cb1e715949024fb75bb767}{setViewport}( searchViewport, 0, \textcolor{keyword}{true} );
1743         \}
1744         \textcolor{keyword}{delete} match;
1745     \}
1746 \textcolor{preprocessor}{#if 0}
1747     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( !noDialogs )
1748         KMessageBox::information( \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_aef26598eca4c2fe772cc77d7730a9e8b}{widget}(), i18n( \textcolor{stringliteral}{"No matches found for '%1'."}, 
      text ) );
1749 \textcolor{preprocessor}{#endif}
1750 
1751     \textcolor{comment}{// notify observers about highlights changes}
1752     \textcolor{keywordflow}{foreach}(\textcolor{keywordtype}{int} pageNumber, *pagesToNotify)
1753         \textcolor{keywordflow}{foreach}(\hyperlink{classOkular_1_1DocumentObserver}{DocumentObserver} *observer, \hyperlink{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}{m\_observers})
1754             observer->\hyperlink{classOkular_1_1DocumentObserver_abf7600dabd7d6c1e38c950d99f7be595}{notifyPageChanged}( pageNumber, 
      \hyperlink{classOkular_1_1DocumentObserver_af0e6b09d5fc7ecb673bd4895ef2710dcac6ac9d40408f28401cdde8b2e57c3afc}{DocumentObserver::Highlights} );
1755 
1756     \textcolor{keywordflow}{if} (foundAMatch) emit \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_ae938c994d20bdfef40caa3d37d28d92d}{searchFinished}( searchID, 
      \hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbbaee768cc03e09b4188b091b652e1556ab}{Document::MatchFound} );
1757     \textcolor{keywordflow}{else} emit \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_ae938c994d20bdfef40caa3d37d28d92d}{searchFinished}( searchID, 
      \hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbba6f1e44c2a23dde543d40770f949a2882}{Document::NoMatchFound} );
1758 
1759     \textcolor{keyword}{delete} pagesToNotify;
1760 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_ad04d51971658c391ab5a9dcd2f2e4f06}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!font\+Reading\+Got\+Font@{font\+Reading\+Got\+Font}}
\index{font\+Reading\+Got\+Font@{font\+Reading\+Got\+Font}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{font\+Reading\+Got\+Font}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::font\+Reading\+Got\+Font (
\begin{DoxyParamCaption}
\item[{const {\bf Okular\+::\+Font\+Info} \&}]{font}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_ad04d51971658c391ab5a9dcd2f2e4f06}


Definition at line 1518 of file document.\+cpp.


\begin{DoxyCode}
1519 \{
1520     \textcolor{comment}{// TODO try to avoid duplicate fonts}
1521     \hyperlink{classOkular_1_1DocumentPrivate_a9be70502279da0a275889e504409c7e5}{m\_fontsCache}.append( font );
1522 
1523     emit \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_a66902f0fbc6c9068568f8a1eb923583d}{gotFont}( font );
1524 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a37cc3c191fe7daa96390edb68e93c706}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!font\+Reading\+Progress@{font\+Reading\+Progress}}
\index{font\+Reading\+Progress@{font\+Reading\+Progress}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{font\+Reading\+Progress}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::font\+Reading\+Progress (
\begin{DoxyParamCaption}
\item[{int}]{page}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a37cc3c191fe7daa96390edb68e93c706}


Definition at line 1506 of file document.\+cpp.


\begin{DoxyCode}
1507 \{
1508     emit \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_aa264e97a1d3dd36aab35fd3a09511b5b}{fontReadingProgress}( page );
1509 
1510     \textcolor{keywordflow}{if} ( page >= (\textcolor{keywordtype}{int})\hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_aaf5d986758e25127946986abaa401bcd}{pages}() - 1 )
1511     \{
1512         emit \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_a098247701022e6c967299abd01ce3265}{fontReadingEnded}();
1513         \hyperlink{classOkular_1_1DocumentPrivate_a7d89f5349531b52b4109855269a6a4c4}{m\_fontThread} = 0;
1514         \hyperlink{classOkular_1_1DocumentPrivate_aa33ab887df80e7df7c9d7a5eecff000e}{m\_fontsCached} = \textcolor{keyword}{true};
1515     \}
1516 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_ac40c31099a6fd5d842ae94e5557b9700}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!generator\+Config@{generator\+Config}}
\index{generator\+Config@{generator\+Config}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{generator\+Config}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Config\+Interface} $\ast$ Document\+Private\+::generator\+Config (
\begin{DoxyParamCaption}
\item[{{\bf Generator\+Info} \&}]{info}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_ac40c31099a6fd5d842ae94e5557b9700}


Definition at line 886 of file document.\+cpp.


\begin{DoxyCode}
887 \{
888     \textcolor{keywordflow}{if} ( info.\hyperlink{structGeneratorInfo_a9143bfaf86f93f46fe719f7ec6c37ab5}{configChecked} )
889         \textcolor{keywordflow}{return} info.\hyperlink{structGeneratorInfo_adb5d606668bd3268c19f23e9c3183f98}{config};
890 
891     info.\hyperlink{structGeneratorInfo_adb5d606668bd3268c19f23e9c3183f98}{config} = qobject\_cast< \hyperlink{classOkular_1_1ConfigInterface}{Okular::ConfigInterface} * >( info.
      \hyperlink{structGeneratorInfo_ac8796e620ca4a6f3fb08f610c14a6ec2}{generator} );
892     info.\hyperlink{structGeneratorInfo_a9143bfaf86f93f46fe719f7ec6c37ab5}{configChecked} = \textcolor{keyword}{true};
893     \textcolor{keywordflow}{return} info.\hyperlink{structGeneratorInfo_adb5d606668bd3268c19f23e9c3183f98}{config};
894 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a5f41002e3d3c2951033ae41e3443675b}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!generator\+Save@{generator\+Save}}
\index{generator\+Save@{generator\+Save}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{generator\+Save}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Save\+Interface} $\ast$ Document\+Private\+::generator\+Save (
\begin{DoxyParamCaption}
\item[{{\bf Generator\+Info} \&}]{info}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a5f41002e3d3c2951033ae41e3443675b}


Definition at line 896 of file document.\+cpp.


\begin{DoxyCode}
897 \{
898     \textcolor{keywordflow}{if} ( info.\hyperlink{structGeneratorInfo_a01a979aa72570fde20d2efd8a442a7bc}{saveChecked} )
899         \textcolor{keywordflow}{return} info.\hyperlink{structGeneratorInfo_a9c449e96a994af33db9fb1ef723b15e2}{save};
900 
901     info.\hyperlink{structGeneratorInfo_a9c449e96a994af33db9fb1ef723b15e2}{save} = qobject\_cast< \hyperlink{classOkular_1_1SaveInterface}{Okular::SaveInterface} * >( info.
      \hyperlink{structGeneratorInfo_ac8796e620ca4a6f3fb08f610c14a6ec2}{generator} );
902     info.\hyperlink{structGeneratorInfo_a01a979aa72570fde20d2efd8a442a7bc}{saveChecked} = \textcolor{keyword}{true};
903     \textcolor{keywordflow}{return} info.\hyperlink{structGeneratorInfo_a9c449e96a994af33db9fb1ef723b15e2}{save};
904 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a2657e5871ed6792f7061f29fb14b54bf}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!get\+Free\+Memory@{get\+Free\+Memory}}
\index{get\+Free\+Memory@{get\+Free\+Memory}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{get\+Free\+Memory}]{\setlength{\rightskip}{0pt plus 5cm}qulonglong Document\+Private\+::get\+Free\+Memory (
\begin{DoxyParamCaption}
\item[{qulonglong $\ast$}]{free\+Swap = {\ttfamily 0}}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a2657e5871ed6792f7061f29fb14b54bf}


Definition at line 502 of file document.\+cpp.


\begin{DoxyCode}
503 \{
504     \textcolor{keyword}{static} QTime lastUpdate = QTime::currentTime().addSecs(-3);
505     \textcolor{keyword}{static} qulonglong cachedValue = 0;
506     \textcolor{keyword}{static} qulonglong cachedFreeSwap = 0;
507 
508     \textcolor{keywordflow}{if} ( qAbs( lastUpdate.secsTo( QTime::currentTime() ) ) <= 2 )
509     \{
510         \textcolor{keywordflow}{if} (freeSwap)
511             *freeSwap = cachedFreeSwap;
512         \textcolor{keywordflow}{return} cachedValue;
513     \}
514 
515     \textcolor{comment}{/* Initialize the returned free swap value to 0. It is overwritten if the}
516 \textcolor{comment}{     * actual value is available */}
517     \textcolor{keywordflow}{if} (freeSwap)
518         *freeSwap = 0;
519 
520 \textcolor{preprocessor}{#if defined(Q\_OS\_LINUX)}
521     \textcolor{comment}{// if /proc/meminfo doesn't exist, return MEMORY FULL}
522     QFile memFile( \textcolor{stringliteral}{"/proc/meminfo"} );
523     \textcolor{keywordflow}{if} ( !memFile.open( QIODevice::ReadOnly ) )
524         \textcolor{keywordflow}{return} 0;
525 
526     \textcolor{comment}{// read /proc/meminfo and sum up the contents of 'MemFree', 'Buffers'}
527     \textcolor{comment}{// and 'Cached' fields. consider swapped memory as used memory.}
528     qulonglong memoryFree = 0;
529     QString entry;
530     QTextStream readStream( &memFile );
531     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} nElems = 5;
532     QString names[nElems] = \{ \textcolor{stringliteral}{"MemFree:"}, \textcolor{stringliteral}{"Buffers:"}, \textcolor{stringliteral}{"Cached:"}, \textcolor{stringliteral}{"SwapFree:"}, \textcolor{stringliteral}{"SwapTotal:"} \};
533     qulonglong values[nElems] = \{ 0, 0, 0, 0, 0 \};
534     \textcolor{keywordtype}{bool} foundValues[nElems] = \{ \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false}, \textcolor{keyword}{false} \};
535     \textcolor{keywordflow}{while} ( \textcolor{keyword}{true} )
536     \{
537         entry = readStream.readLine();
538         \textcolor{keywordflow}{if} ( entry.isNull() ) \textcolor{keywordflow}{break};
539         \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} i = 0; i < nElems; ++i )
540         \{
541             \textcolor{keywordflow}{if} ( entry.startsWith( names[i] ) )
542             \{
543                 values[i] = entry.section( \textcolor{charliteral}{' '}, -2, -2 ).toULongLong( &foundValues[i] );
544             \}
545         \}
546     \}
547     memFile.close();
548     \textcolor{keywordtype}{bool} found = \textcolor{keyword}{true};
549     \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} i = 0; found && i < nElems; ++i )
550         found = found && foundValues[i];
551     \textcolor{keywordflow}{if} ( found )
552     \{
553         \textcolor{comment}{/* MemFree + Buffers + Cached - SwapUsed =}
554 \textcolor{comment}{         * = MemFree + Buffers + Cached - (SwapTotal - SwapFree) =}
555 \textcolor{comment}{         * = MemFree + Buffers + Cached + SwapFree - SwapTotal */}
556         memoryFree = values[0] + values[1] + values[2] + values[3];
557         \textcolor{keywordflow}{if} ( values[4] > memoryFree )
558             memoryFree = 0;
559         \textcolor{keywordflow}{else}
560             memoryFree -= values[4];
561     \}
562     \textcolor{keywordflow}{else}
563     \{
564         \textcolor{keywordflow}{return} 0;
565     \}
566 
567     lastUpdate = QTime::currentTime();
568 
569     \textcolor{keywordflow}{if} (freeSwap)
570         *freeSwap = ( cachedFreeSwap = (Q\_UINT64\_C(1024) * values[3]) );
571     \textcolor{keywordflow}{return} ( cachedValue = (Q\_UINT64\_C(1024) * memoryFree) );
572 \textcolor{preprocessor}{#elif defined(Q\_OS\_FREEBSD)}
573     qulonglong cache, inact, free, psize;
574     \textcolor{keywordtype}{size\_t} cachelen, inactlen, freelen, psizelen;
575     cachelen = \textcolor{keyword}{sizeof}( cache );
576     inactlen = \textcolor{keyword}{sizeof}( inact );
577     freelen = \textcolor{keyword}{sizeof}( free );
578     psizelen = \textcolor{keyword}{sizeof}( psize );
579     \textcolor{comment}{// sum up inactive, cached and free memory}
580     \textcolor{keywordflow}{if} ( sysctlbyname( \textcolor{stringliteral}{"vm.stats.vm.v\_cache\_count"}, &cache, &cachelen, NULL, 0 ) == 0 &&
581             sysctlbyname( \textcolor{stringliteral}{"vm.stats.vm.v\_inactive\_count"}, &inact, &inactlen, NULL, 0 ) == 0 &&
582             sysctlbyname( \textcolor{stringliteral}{"vm.stats.vm.v\_free\_count"}, &free, &freelen, NULL, 0 ) == 0 &&
583             sysctlbyname( \textcolor{stringliteral}{"vm.stats.vm.v\_page\_size"}, &psize, &psizelen, NULL, 0 ) == 0 )
584     \{
585         lastUpdate = QTime::currentTime();
586         \textcolor{keywordflow}{return} (cachedValue = (cache + inact + free) * psize);
587     \}
588     \textcolor{keywordflow}{else}
589     \{
590         \textcolor{keywordflow}{return} 0;
591     \}
592 \textcolor{preprocessor}{#elif defined(Q\_OS\_WIN)}
593     MEMORYSTATUSEX stat;
594     stat.dwLength = \textcolor{keyword}{sizeof}(stat);
595     GlobalMemoryStatusEx (&stat);
596 
597     lastUpdate = QTime::currentTime();
598 
599     \textcolor{keywordflow}{if} (freeSwap)
600         *freeSwap = ( cachedFreeSwap = stat.ullAvailPageFile );
601     \textcolor{keywordflow}{return} ( cachedValue = stat.ullAvailPhys );
602 \textcolor{preprocessor}{#else}
603     \textcolor{comment}{// tell the memory is full.. will act as in LOW profile}
604     \textcolor{keywordflow}{return} 0;
605 \textcolor{preprocessor}{#endif}
606 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a612b0f725408b5949bb5856d18e62ba8}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!get\+Total\+Memory@{get\+Total\+Memory}}
\index{get\+Total\+Memory@{get\+Total\+Memory}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{get\+Total\+Memory}]{\setlength{\rightskip}{0pt plus 5cm}qulonglong Document\+Private\+::get\+Total\+Memory (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a612b0f725408b5949bb5856d18e62ba8}


Definition at line 466 of file document.\+cpp.


\begin{DoxyCode}
467 \{
468     \textcolor{keyword}{static} qulonglong cachedValue = 0;
469     \textcolor{keywordflow}{if} ( cachedValue )
470         \textcolor{keywordflow}{return} cachedValue;
471 
472 \textcolor{preprocessor}{#if defined(Q\_OS\_LINUX)}
473     \textcolor{comment}{// if /proc/meminfo doesn't exist, return 128MB}
474     QFile memFile( \textcolor{stringliteral}{"/proc/meminfo"} );
475     \textcolor{keywordflow}{if} ( !memFile.open( QIODevice::ReadOnly ) )
476         \textcolor{keywordflow}{return} (cachedValue = 134217728);
477 
478     QTextStream readStream( &memFile );
479     \textcolor{keywordflow}{while} ( \textcolor{keyword}{true} )
480     \{
481         QString entry = readStream.readLine();
482         \textcolor{keywordflow}{if} ( entry.isNull() ) \textcolor{keywordflow}{break};
483         \textcolor{keywordflow}{if} ( entry.startsWith( \textcolor{stringliteral}{"MemTotal:"} ) )
484             \textcolor{keywordflow}{return} (cachedValue = (Q\_UINT64\_C(1024) * entry.section( \textcolor{charliteral}{' '}, -2, -2 ).toULongLong()));
485     \}
486 \textcolor{preprocessor}{#elif defined(Q\_OS\_FREEBSD)}
487     qulonglong physmem;
488     \textcolor{keywordtype}{int} mib[] = \{CTL\_HW, HW\_PHYSMEM\};
489     \textcolor{keywordtype}{size\_t} len = \textcolor{keyword}{sizeof}( physmem );
490     \textcolor{keywordflow}{if} ( sysctl( mib, 2, &physmem, &len, NULL, 0 ) == 0 )
491         \textcolor{keywordflow}{return} (cachedValue = physmem);
492 \textcolor{preprocessor}{#elif defined(Q\_OS\_WIN)}
493     MEMORYSTATUSEX stat;
494     stat.dwLength = \textcolor{keyword}{sizeof}(stat);
495     GlobalMemoryStatusEx (&stat);
496 
497     \textcolor{keywordflow}{return} ( cachedValue = stat.ullTotalPhys );
498 \textcolor{preprocessor}{#endif}
499     \textcolor{keywordflow}{return} (cachedValue = 134217728);
500 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a1c665a65d08f7b032bba757b298e26a6}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!give\+Absolute\+Path@{give\+Absolute\+Path}}
\index{give\+Absolute\+Path@{give\+Absolute\+Path}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{give\+Absolute\+Path}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String Document\+Private\+::give\+Absolute\+Path (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{file\+Name}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1DocumentPrivate_a1c665a65d08f7b032bba757b298e26a6}


Definition at line 793 of file document.\+cpp.


\begin{DoxyCode}
794 \{
795     \textcolor{keywordflow}{if} ( !QDir::isRelativePath( fileName ) )
796         \textcolor{keywordflow}{return} fileName;
797 
798     \textcolor{keywordflow}{if} ( !\hyperlink{classOkular_1_1DocumentPrivate_a1a0145bbb16d15c016000a83d0d2ab2b}{m\_url}.isValid() )
799         \textcolor{keywordflow}{return} QString();
800 
801     \textcolor{keywordflow}{return} \hyperlink{classOkular_1_1DocumentPrivate_a1a0145bbb16d15c016000a83d0d2ab2b}{m\_url}.upUrl().url() + fileName;
802 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a6a3aff2f64cb37c3c1f50a778e43abfa}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!is\+Normalized\+Rectangle\+Fully\+Visible@{is\+Normalized\+Rectangle\+Fully\+Visible}}
\index{is\+Normalized\+Rectangle\+Fully\+Visible@{is\+Normalized\+Rectangle\+Fully\+Visible}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{is\+Normalized\+Rectangle\+Fully\+Visible}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+Private\+::is\+Normalized\+Rectangle\+Fully\+Visible (
\begin{DoxyParamCaption}
\item[{const {\bf Okular\+::\+Normalized\+Rect} \&}]{rect\+Of\+Interest, }
\item[{int}]{rect\+Page}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a6a3aff2f64cb37c3c1f50a778e43abfa}
Return whether the normalized rectangle {\ttfamily rect\+Of\+Interest} on page number {\ttfamily rect\+Page} is fully visible. 

Definition at line 2035 of file document.\+cpp.


\begin{DoxyCode}
2036 \{
2037     \textcolor{keywordtype}{bool} rectFullyVisible = \textcolor{keyword}{false};
2038     \textcolor{keyword}{const} QVector<Okular::VisiblePageRect *> & visibleRects = \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->
      \hyperlink{classOkular_1_1Document_a2ba56fa52cfacc10267896938a2ac37b}{visiblePageRects}();
2039     QVector<Okular::VisiblePageRect *>::const\_iterator vEnd = visibleRects.end();
2040     QVector<Okular::VisiblePageRect *>::const\_iterator vIt = visibleRects.begin();
2041 
2042     \textcolor{keywordflow}{for} ( ; ( vIt != vEnd ) && !rectFullyVisible; ++vIt )
2043     \{
2044         \textcolor{keywordflow}{if} ( (*vIt)->pageNumber == rectPage &&
2045             (*vIt)->rect.contains( rectOfInterest.\hyperlink{classOkular_1_1NormalizedRect_a76336fe9d733f2b559cf8df3ef48f9e7}{left}, rectOfInterest.\hyperlink{classOkular_1_1NormalizedRect_acfb70f6417c993508d50090b512cb954}{top} ) &&
2046             (*vIt)->rect.contains( rectOfInterest.\hyperlink{classOkular_1_1NormalizedRect_a12bbdbb865e6282c9a325b61638553f4}{right}, rectOfInterest.
      \hyperlink{classOkular_1_1NormalizedRect_a06fddfff238371f6f584360c0678741a}{bottom} ) )
2047         \{
2048             rectFullyVisible = \textcolor{keyword}{true};
2049         \}
2050     \}
2051     \textcolor{keywordflow}{return} rectFullyVisible;
2052 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a28aafc3875578bfd4065d465e1c96cc4}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!load\+All\+Generator\+Libraries@{load\+All\+Generator\+Libraries}}
\index{load\+All\+Generator\+Libraries@{load\+All\+Generator\+Libraries}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{load\+All\+Generator\+Libraries}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::load\+All\+Generator\+Libraries (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a28aafc3875578bfd4065d465e1c96cc4}


Definition at line 833 of file document.\+cpp.


\begin{DoxyCode}
834 \{
835     \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1DocumentPrivate_a443010c7211e13e1589b1124a9147dd0}{m\_generatorsLoaded} )
836         \textcolor{keywordflow}{return};
837 
838     \hyperlink{classOkular_1_1DocumentPrivate_a443010c7211e13e1589b1124a9147dd0}{m\_generatorsLoaded} = \textcolor{keyword}{true};
839 
840     QString constraint(\textcolor{stringliteral}{"([X-KDE-Priority] > 0) and (exist Library)"}) ;
841     KService::List offers = KServiceTypeTrader::self()->query( \textcolor{stringliteral}{"okular/Generator"}, constraint );
842     \hyperlink{classOkular_1_1DocumentPrivate_aff87ea26b538d2653644a394c3909271}{loadServiceList}( offers );
843 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_ab3b82ad8d5fbe55c02af3b21a9e2459e}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!load\+Document\+Info@{load\+Document\+Info}}
\index{load\+Document\+Info@{load\+Document\+Info}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{load\+Document\+Info}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::load\+Document\+Info (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_ab3b82ad8d5fbe55c02af3b21a9e2459e}


Definition at line 608 of file document.\+cpp.


\begin{DoxyCode}
611 \{
612     \textcolor{comment}{//kDebug(OkularDebug).nospace() << "Using '" << d->m\_xmlFileName << "' as document info file.";}
613     \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1DocumentPrivate_aae08e3c4d234247bf3d52608649e7c64}{m\_xmlFileName}.isEmpty() )
614         \textcolor{keywordflow}{return};
615 
616     \hyperlink{classOkular_1_1DocumentPrivate_ab3b82ad8d5fbe55c02af3b21a9e2459e}{loadDocumentInfo}( \hyperlink{classOkular_1_1DocumentPrivate_aae08e3c4d234247bf3d52608649e7c64}{m\_xmlFileName} );
617 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_ad3a13740550ff7c32077f909b8184ed0}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!load\+Document\+Info@{load\+Document\+Info}}
\index{load\+Document\+Info@{load\+Document\+Info}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{load\+Document\+Info}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::load\+Document\+Info (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{file\+Name}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_ad3a13740550ff7c32077f909b8184ed0}


Definition at line 619 of file document.\+cpp.


\begin{DoxyCode}
620 \{
621     QFile infoFile( fileName );
622     \textcolor{keywordflow}{if} ( !infoFile.exists() || !infoFile.open( QIODevice::ReadOnly ) )
623         \textcolor{keywordflow}{return};
624 
625     \textcolor{comment}{// Load DOM from XML file}
626     QDomDocument doc( \textcolor{stringliteral}{"documentInfo"} );
627     \textcolor{keywordflow}{if} ( !doc.setContent( &infoFile ) )
628     \{
629         kDebug(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}) << \textcolor{stringliteral}{"Can't load XML pair! Check for broken xml."};
630         infoFile.close();
631         \textcolor{keywordflow}{return};
632     \}
633     infoFile.close();
634 
635     QDomElement root = doc.documentElement();
636     \textcolor{keywordflow}{if} ( root.tagName() != \textcolor{stringliteral}{"documentInfo"} )
637         \textcolor{keywordflow}{return};
638 
639     KUrl documentUrl( root.attribute( \textcolor{stringliteral}{"url"} ) );
640 
641     \textcolor{comment}{// Parse the DOM tree}
642     QDomNode topLevelNode = root.firstChild();
643     \textcolor{keywordflow}{while} ( topLevelNode.isElement() )
644     \{
645         QString catName = topLevelNode.toElement().tagName();
646 
647         \textcolor{comment}{// Restore page attributes (bookmark, annotations, ...) from the DOM}
648         \textcolor{keywordflow}{if} ( catName == \textcolor{stringliteral}{"pageList"} )
649         \{
650             QDomNode pageNode = topLevelNode.firstChild();
651             \textcolor{keywordflow}{while} ( pageNode.isElement() )
652             \{
653                 QDomElement pageElement = pageNode.toElement();
654                 \textcolor{keywordflow}{if} ( pageElement.hasAttribute( \textcolor{stringliteral}{"number"} ) )
655                 \{
656                     \textcolor{comment}{// get page number (node's attribute)}
657                     \textcolor{keywordtype}{bool} ok;
658                     \textcolor{keywordtype}{int} pageNumber = pageElement.attribute( \textcolor{stringliteral}{"number"} ).toInt( &ok );
659 
660                     \textcolor{comment}{// pass the domElement to the right page, to read config data from}
661                     \textcolor{keywordflow}{if} ( ok && pageNumber >= 0 && pageNumber < (\textcolor{keywordtype}{int})
      \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.count() )
662                         \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}[ pageNumber ]->d->restoreLocalContents( pageElement );
663                 \}
664                 pageNode = pageNode.nextSibling();
665             \}
666         \}
667 
668         \textcolor{comment}{// Restore 'general info' from the DOM}
669         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( catName == \textcolor{stringliteral}{"generalInfo"} )
670         \{
671             QDomNode infoNode = topLevelNode.firstChild();
672             \textcolor{keywordflow}{while} ( infoNode.isElement() )
673             \{
674                 QDomElement infoElement = infoNode.toElement();
675 
676                 \textcolor{comment}{// restore viewports history}
677                 \textcolor{keywordflow}{if} ( infoElement.tagName() == \textcolor{stringliteral}{"history"} )
678                 \{
679                     \textcolor{comment}{// clear history}
680                     \hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.clear();
681                     \textcolor{comment}{// append old viewports}
682                     QDomNode historyNode = infoNode.firstChild();
683                     \textcolor{keywordflow}{while} ( historyNode.isElement() )
684                     \{
685                         QDomElement historyElement = historyNode.toElement();
686                         \textcolor{keywordflow}{if} ( historyElement.hasAttribute( \textcolor{stringliteral}{"viewport"} ) )
687                         \{
688                             QString vpString = historyElement.attribute( \textcolor{stringliteral}{"viewport"} );
689                             \hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator} = 
      \hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.insert( \hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.end(),
690                                     \hyperlink{classOkular_1_1DocumentViewport}{DocumentViewport}( vpString ) );
691                         \}
692                         historyNode = historyNode.nextSibling();
693                     \}
694                     \textcolor{comment}{// consistancy check}
695                     \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.isEmpty() )
696                         \hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator} = \hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.insert( 
      \hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.end(), \hyperlink{classOkular_1_1DocumentViewport}{DocumentViewport}() );
697                 \}
698                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( infoElement.tagName() == \textcolor{stringliteral}{"rotation"} )
699                 \{
700                     QString str = infoElement.text();
701                     \textcolor{keywordtype}{bool} ok = \textcolor{keyword}{true};
702                     \textcolor{keywordtype}{int} newrotation = !str.isEmpty() ? ( str.toInt( &ok ) % 4 ) : 0;
703                     \textcolor{keywordflow}{if} ( ok && newrotation != 0 )
704                     \{
705                         \hyperlink{classOkular_1_1DocumentPrivate_aceccc21fbf3022c439eb011a452a06fa}{setRotationInternal}( newrotation, \textcolor{keyword}{false} );
706                     \}
707                 \}
708                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( infoElement.tagName() == \textcolor{stringliteral}{"views"} )
709                 \{
710                     QDomNode viewNode = infoNode.firstChild();
711                     \textcolor{keywordflow}{while} ( viewNode.isElement() )
712                     \{
713                         QDomElement viewElement = viewNode.toElement();
714                         \textcolor{keywordflow}{if} ( viewElement.tagName() == \textcolor{stringliteral}{"view"} )
715                         \{
716                             \textcolor{keyword}{const} QString viewName = viewElement.attribute( \textcolor{stringliteral}{"name"} );
717                             Q\_FOREACH ( \hyperlink{classOkular_1_1View}{View} * view, \hyperlink{classOkular_1_1DocumentPrivate_aae4139cb4cb2f63fd7c7c88f26199976}{m\_views} )
718                             \{
719                                 \textcolor{keywordflow}{if} ( view->\hyperlink{classOkular_1_1View_aac1d4ae8bad44a4a845de118892cfa1e}{name}() == viewName )
720                                 \{
721                                     \hyperlink{classOkular_1_1DocumentPrivate_a3cd7a844dbd51a7da80f93ea2aa9cf22}{loadViewsInfo}( view, viewElement );
722                                     \textcolor{keywordflow}{break};
723                                 \}
724                             \}
725                         \}
726                         viewNode = viewNode.nextSibling();
727                     \}
728                 \}
729                 infoNode = infoNode.nextSibling();
730             \}
731         \}
732 
733         topLevelNode = topLevelNode.nextSibling();
734     \} \textcolor{comment}{// </documentInfo>}
735 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_ac7c902ff8d869394318ffe7b28ff1336}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!load\+Generator\+Library@{load\+Generator\+Library}}
\index{load\+Generator\+Library@{load\+Generator\+Library}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{load\+Generator\+Library}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Generator} $\ast$ Document\+Private\+::load\+Generator\+Library (
\begin{DoxyParamCaption}
\item[{const K\+Service\+::\+Ptr \&}]{service}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_ac7c902ff8d869394318ffe7b28ff1336}


Definition at line 816 of file document.\+cpp.


\begin{DoxyCode}
817 \{
818     KPluginFactory *factory = KPluginLoader( service->library() ).factory();
819     \textcolor{keywordflow}{if} ( !factory )
820     \{
821         kWarning(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}).nospace() << \textcolor{stringliteral}{"Invalid plugin factory for "} << service->library() <
      < \textcolor{stringliteral}{"!"};
822         \textcolor{keywordflow}{return} 0;
823     \}
824     \hyperlink{classOkular_1_1Generator}{Generator} * generator = factory->create< \hyperlink{classOkular_1_1Generator}{Okular::Generator} >( service->
      pluginKeyword(), 0 );
825     \hyperlink{structGeneratorInfo}{GeneratorInfo} info( factory->componentData() );
826     info.\hyperlink{structGeneratorInfo_ac8796e620ca4a6f3fb08f610c14a6ec2}{generator} = generator;
827     \textcolor{keywordflow}{if} ( info.data.isValid() && info.data.aboutData() )
828         info.catalogName = info.data.aboutData()->catalogName();
829     \hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.insert( service->name(), info );
830     \textcolor{keywordflow}{return} generator;
831 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_aff87ea26b538d2653644a394c3909271}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!load\+Service\+List@{load\+Service\+List}}
\index{load\+Service\+List@{load\+Service\+List}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{load\+Service\+List}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::load\+Service\+List (
\begin{DoxyParamCaption}
\item[{const K\+Service\+::\+List \&}]{offers}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_aff87ea26b538d2653644a394c3909271}


Definition at line 845 of file document.\+cpp.


\begin{DoxyCode}
846 \{
847     \textcolor{keywordtype}{int} count = offers.count();
848     \textcolor{keywordflow}{if} ( count <= 0 )
849         \textcolor{keywordflow}{return};
850 
851     \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} i = 0; i < count; ++i )
852     \{
853         QString propName = offers.at(i)->name();
854         \textcolor{comment}{// don't load already loaded generators}
855         QHash< QString, GeneratorInfo >::const\_iterator genIt = 
      \hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.constFind( propName );
856         \textcolor{keywordflow}{if} ( !\hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.isEmpty() && genIt != 
      \hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.constEnd() )
857             \textcolor{keywordflow}{continue};
858 
859         \hyperlink{classOkular_1_1Generator}{Generator} * g = \hyperlink{classOkular_1_1DocumentPrivate_ac7c902ff8d869394318ffe7b28ff1336}{loadGeneratorLibrary}( offers.at(i) );
860         (void)g;
861     \}
862 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a3cd7a844dbd51a7da80f93ea2aa9cf22}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!load\+Views\+Info@{load\+Views\+Info}}
\index{load\+Views\+Info@{load\+Views\+Info}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{load\+Views\+Info}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::load\+Views\+Info (
\begin{DoxyParamCaption}
\item[{{\bf View} $\ast$}]{view, }
\item[{const Q\+Dom\+Element \&}]{e}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a3cd7a844dbd51a7da80f93ea2aa9cf22}


Definition at line 737 of file document.\+cpp.


\begin{DoxyCode}
738 \{
739     QDomNode viewNode = e.firstChild();
740     \textcolor{keywordflow}{while} ( viewNode.isElement() )
741     \{
742         QDomElement viewElement = viewNode.toElement();
743 
744         \textcolor{keywordflow}{if} ( viewElement.tagName() == \textcolor{stringliteral}{"zoom"} )
745         \{
746             \textcolor{keyword}{const} QString valueString = viewElement.attribute( \textcolor{stringliteral}{"value"} );
747             \textcolor{keywordtype}{bool} newzoom\_ok = \textcolor{keyword}{true};
748             \textcolor{keyword}{const} \textcolor{keywordtype}{double} newzoom = !valueString.isEmpty() ? valueString.toDouble( &newzoom\_ok ) : 1.0;
749             \textcolor{keywordflow}{if} ( newzoom\_ok && newzoom != 0
750                  && view->\hyperlink{classOkular_1_1View_a65d4511363fe5a1fb836a26688bea50c}{supportsCapability}( \hyperlink{classOkular_1_1View_ad95d365554715eb1eabb79350f51b294a3fa37aa9737e4a0f9753aa398c30f667}{View::Zoom} )
751                  && ( view->\hyperlink{classOkular_1_1View_abad9d21eaeb248a4b6712aa5cd0ab6fc}{capabilityFlags}( \hyperlink{classOkular_1_1View_ad95d365554715eb1eabb79350f51b294a3fa37aa9737e4a0f9753aa398c30f667}{View::Zoom} ) & ( 
      \hyperlink{classOkular_1_1View_a8552668497a612628f53b5010df7a45ea129d96c4ba7ee8cc9bf91a544d07bcd3}{View::CapabilityRead} | \hyperlink{classOkular_1_1View_a8552668497a612628f53b5010df7a45eac0b7ffc919ca2416425d9b81b7fef5d9}{View::CapabilitySerializable} ) ) )
752             \{
753                 view->\hyperlink{classOkular_1_1View_a8a6fa965fa025331f2653c529a60eafe}{setCapability}( \hyperlink{classOkular_1_1View_ad95d365554715eb1eabb79350f51b294a3fa37aa9737e4a0f9753aa398c30f667}{View::Zoom}, newzoom );
754             \}
755             \textcolor{keyword}{const} QString modeString = viewElement.attribute( \textcolor{stringliteral}{"mode"} );
756             \textcolor{keywordtype}{bool} newmode\_ok = \textcolor{keyword}{true};
757             \textcolor{keyword}{const} \textcolor{keywordtype}{int} newmode = !modeString.isEmpty() ? modeString.toInt( &newmode\_ok ) : 2;
758             \textcolor{keywordflow}{if} ( newmode\_ok
759                  && view->\hyperlink{classOkular_1_1View_a65d4511363fe5a1fb836a26688bea50c}{supportsCapability}( 
      \hyperlink{classOkular_1_1View_ad95d365554715eb1eabb79350f51b294a2621c21053805b1e2f71fdeb069f9c35}{View::ZoomModality} )
760                  && ( view->\hyperlink{classOkular_1_1View_abad9d21eaeb248a4b6712aa5cd0ab6fc}{capabilityFlags}( \hyperlink{classOkular_1_1View_ad95d365554715eb1eabb79350f51b294a2621c21053805b1e2f71fdeb069f9c35}{View::ZoomModality} ) & ( 
      \hyperlink{classOkular_1_1View_a8552668497a612628f53b5010df7a45ea129d96c4ba7ee8cc9bf91a544d07bcd3}{View::CapabilityRead} | \hyperlink{classOkular_1_1View_a8552668497a612628f53b5010df7a45eac0b7ffc919ca2416425d9b81b7fef5d9}{View::CapabilitySerializable} ) ) )
761             \{
762                 view->\hyperlink{classOkular_1_1View_a8a6fa965fa025331f2653c529a60eafe}{setCapability}( \hyperlink{classOkular_1_1View_ad95d365554715eb1eabb79350f51b294a2621c21053805b1e2f71fdeb069f9c35}{View::ZoomModality}, newmode );
763             \}
764         \}
765 
766         viewNode = viewNode.nextSibling();
767     \}
768 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a7cac2460a84aaba0b164f8e757df381a}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!localized\+Size@{localized\+Size}}
\index{localized\+Size@{localized\+Size}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{localized\+Size}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String Document\+Private\+::localized\+Size (
\begin{DoxyParamCaption}
\item[{const Q\+Size\+F \&}]{size}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1DocumentPrivate_a7cac2460a84aaba0b164f8e757df381a}


Definition at line 261 of file document.\+cpp.


\begin{DoxyCode}
262 \{
263     \textcolor{keywordtype}{double} inchesWidth = 0, inchesHeight = 0;
264     \textcolor{keywordflow}{switch} (\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_add5b37f6ed7b6ce0b3bc72f72d26ec26}{pagesSizeMetric}())
265     \{
266         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Generator_aa09b8aeb5398ea5f07644f35bd5934f3a76c25cfed4201f4ea3deafdad5da9670}{Generator::Points}:
267             inchesWidth = \hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size}.width() / 72.0;
268             inchesHeight = \hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size}.height() / 72.0;
269         \textcolor{keywordflow}{break};
270 
271         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Generator_aa09b8aeb5398ea5f07644f35bd5934f3aabd551c49993c46e37a9b5772144ce7d}{Generator::Pixels}:
272         \{
273             \textcolor{keyword}{const} QSizeF dpi = \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_ad3dd14822e3f5c9d1785008a207f34fb}{dpi}();
274             inchesWidth = \hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size}.width() / dpi.width();
275             inchesHeight = \hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size}.height() / dpi.height();
276         \}
277         \textcolor{keywordflow}{break};
278 
279         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Generator_aa09b8aeb5398ea5f07644f35bd5934f3af29abc1614145cb6d332f22f8e1131d6}{Generator::None}:
280         \textcolor{keywordflow}{break};
281     \}
282     \textcolor{keywordflow}{if} (KGlobal::locale()->measureSystem() == KLocale::Imperial)
283     \{
284         \textcolor{keywordflow}{return} i18nc(\textcolor{stringliteral}{"%1 is width, %2 is height, %3 is paper size name"}, \textcolor{stringliteral}{"%1 x %2 in (%3)"}, inchesWidth, 
      inchesHeight, \hyperlink{classOkular_1_1DocumentPrivate_ad714bf38c42e467d71a93494957e1cf8}{namePaperSize}(inchesWidth, inchesHeight));
285     \}
286     \textcolor{keywordflow}{else}
287     \{
288         \textcolor{keywordflow}{return} i18nc(\textcolor{stringliteral}{"%1 is width, %2 is height, %3 is paper size name"}, \textcolor{stringliteral}{"%1 x %2 mm (%3)"}, QString::number
      (inchesWidth * 25.4, \textcolor{charliteral}{'d'}, 0), QString::number(inchesHeight * 25.4, \textcolor{charliteral}{'d'}, 0), 
      \hyperlink{classOkular_1_1DocumentPrivate_ad714bf38c42e467d71a93494957e1cf8}{namePaperSize}(inchesWidth, inchesHeight));
289     \}
290 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_ad714bf38c42e467d71a93494957e1cf8}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!name\+Paper\+Size@{name\+Paper\+Size}}
\index{name\+Paper\+Size@{name\+Paper\+Size}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{name\+Paper\+Size}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String Document\+Private\+::name\+Paper\+Size (
\begin{DoxyParamCaption}
\item[{double}]{inches\+Width, }
\item[{double}]{inches\+Height}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1DocumentPrivate_ad714bf38c42e467d71a93494957e1cf8}
Ledger and Tabloid are the same, just rotated by 90 degrees 

Definition at line 160 of file document.\+cpp.


\begin{DoxyCode}
161 \{
162     \textcolor{comment}{// Account for small deviations in paper sizes}
163     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{double} marginFactor = 0.03;
164     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{double} lowerBoundFactor = 1.0 - marginFactor;
165     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{double} upperBoundFactor = 1.0 + marginFactor;
166 
167     \textcolor{keyword}{const} QPrinter::Orientation orientation = inchesWidth > inchesHeight ? QPrinter::Landscape : 
      QPrinter::Portrait;
168     \textcolor{comment}{// enforce portrait mode for further tests}
169     \textcolor{keywordflow}{if} (inchesWidth > inchesHeight)
170         \hyperlink{htmlextension_8h_a6aa0d61b42274f15f4a693b0c7bea484}{qSwap}(inchesWidth, inchesHeight);
171 
172     \textcolor{comment}{// Use QPrinter to find which of the predefined paper sizes}
173     \textcolor{comment}{// matches best the given paper width and height}
174     QPrinter dummyPrinter;
175     QPrinter::PaperSize paperSize = QPrinter::Custom;
176     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < (int)QPrinter::NPaperSize; ++i)
177     \{
178         \textcolor{keyword}{const} QPrinter::PaperSize ps = (QPrinter::PaperSize)i;
179         dummyPrinter.setPaperSize(ps);
180         \textcolor{keyword}{const} QSizeF definedPaperSize = dummyPrinter.paperSize(QPrinter::Inch);
181 
182         \textcolor{keywordflow}{if} (inchesWidth > definedPaperSize.width() * lowerBoundFactor && inchesWidth < definedPaperSize.
      width() * upperBoundFactor
183             && inchesHeight > definedPaperSize.height() * lowerBoundFactor && inchesHeight < 
      definedPaperSize.height() * upperBoundFactor)
184         \{
185             paperSize = ps;
186             \textcolor{keywordflow}{break};
187         \}
188     \}
189 
190     \textcolor{comment}{// Handle all paper sizes defined in QPrinter,}
191     \textcolor{comment}{// return string depending if paper's orientation is landscape or portrait}
192     \textcolor{keywordflow}{switch} (paperSize) \{
193         \textcolor{keywordflow}{case} QPrinter::A0:
194             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO A0"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO A0"});
195         \textcolor{keywordflow}{case} QPrinter::A1:
196             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO A1"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO A1"});
197         \textcolor{keywordflow}{case} QPrinter::A2:
198             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO A2"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO A2"});
199         \textcolor{keywordflow}{case} QPrinter::A3:
200             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO A3"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO A3"});
201         \textcolor{keywordflow}{case} QPrinter::A4:
202             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO A4"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO A4"});
203         \textcolor{keywordflow}{case} QPrinter::A5:
204             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO A5"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO A5"});
205         \textcolor{keywordflow}{case} QPrinter::A6:
206             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO A6"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO A6"});
207         \textcolor{keywordflow}{case} QPrinter::A7:
208             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO A7"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO A7"});
209         \textcolor{keywordflow}{case} QPrinter::A8:
210             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO A8"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO A8"});
211         \textcolor{keywordflow}{case} QPrinter::A9:
212             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO A9"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO A9"});
213         \textcolor{keywordflow}{case} QPrinter::B0:
214             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO B0"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO B0"});
215         \textcolor{keywordflow}{case} QPrinter::B1:
216             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO B1"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO B1"});
217         \textcolor{keywordflow}{case} QPrinter::B2:
218             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO B2"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO B2"});
219         \textcolor{keywordflow}{case} QPrinter::B3:
220             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO B3"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO B3"});
221         \textcolor{keywordflow}{case} QPrinter::B4:
222             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO B4"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO B4"});
223         \textcolor{keywordflow}{case} QPrinter::B5:
224             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO B5"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO B5"});
225         \textcolor{keywordflow}{case} QPrinter::B6:
226             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO B6"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO B6"});
227         \textcolor{keywordflow}{case} QPrinter::B7:
228             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO B7"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO B7"});
229         \textcolor{keywordflow}{case} QPrinter::B8:
230             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO B8"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO B8"});
231         \textcolor{keywordflow}{case} QPrinter::B9:
232             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO B9"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO B9"});
233         \textcolor{keywordflow}{case} QPrinter::B10:
234             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DIN/ISO B10"}) : 
      i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait DIN/ISO B10"});
235         \textcolor{keywordflow}{case} QPrinter::Letter:
236             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape letter"}) : i18nc(\textcolor{stringliteral}{"
      paper size"}, \textcolor{stringliteral}{"portrait letter"});
237         \textcolor{keywordflow}{case} QPrinter::Legal:
238             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape legal"}) : i18nc(\textcolor{stringliteral}{"
      paper size"}, \textcolor{stringliteral}{"portrait legal"});
239         \textcolor{keywordflow}{case} QPrinter::Executive:
240             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape executive"}) : i18nc
      (\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"portrait executive"});
241         \textcolor{keywordflow}{case} QPrinter::C5E:
242             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape C5E"}) : i18nc(\textcolor{stringliteral}{"
      paper size"}, \textcolor{stringliteral}{"portrait C5E"});
243         \textcolor{keywordflow}{case} QPrinter::Comm10E:
244             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape Comm10E"}) : i18nc(\textcolor{stringliteral}{"
      paper size"}, \textcolor{stringliteral}{"portrait Comm10E"});
245         \textcolor{keywordflow}{case} QPrinter::DLE:
246             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape DLE"}) : i18nc(\textcolor{stringliteral}{"
      paper size"}, \textcolor{stringliteral}{"portrait DLE"});
247         \textcolor{keywordflow}{case} QPrinter::Folio:
248             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"landscape folio"}) : i18nc(\textcolor{stringliteral}{"
      paper size"}, \textcolor{stringliteral}{"portrait folio"});
249         \textcolor{keywordflow}{case} QPrinter::Tabloid:
250         \textcolor{keywordflow}{case} QPrinter::Ledger:
252             \textcolor{keywordflow}{return}  orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"ledger"}) : i18nc(\textcolor{stringliteral}{"paper size"}
      , \textcolor{stringliteral}{"tabloid"});
253         \textcolor{keywordflow}{case} QPrinter::Custom:
254             \textcolor{keywordflow}{return} orientation == QPrinter::Landscape ? i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"unknown landscape paper size"})
       : i18nc(\textcolor{stringliteral}{"paper size"}, \textcolor{stringliteral}{"unknown portrait paper size"});
255     \}
256 
257     kWarning() << \textcolor{stringliteral}{"PaperSize"} << paperSize << \textcolor{stringliteral}{"has not been covered"};
258     \textcolor{keywordflow}{return} QString();
259 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a53d9d28d2ad9555b577ab0c9b1a1c142}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!next\+Document\+Viewport@{next\+Document\+Viewport}}
\index{next\+Document\+Viewport@{next\+Document\+Viewport}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{next\+Document\+Viewport}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Document\+Viewport} Document\+Private\+::next\+Document\+Viewport (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1DocumentPrivate_a53d9d28d2ad9555b577ab0c9b1a1c142}


Definition at line 1023 of file document.\+cpp.


\begin{DoxyCode}
1024 \{
1025     \hyperlink{classOkular_1_1DocumentViewport}{DocumentViewport} ret = \hyperlink{classOkular_1_1DocumentPrivate_af6aae2128fb788ae1693699506a86c0d}{m\_nextDocumentViewport};
1026     \textcolor{keywordflow}{if} ( !\hyperlink{classOkular_1_1DocumentPrivate_a0c531a03865395da325584dbae6e1efe}{m\_nextDocumentDestination}.isEmpty() && 
      \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
1027     \{
1028         \hyperlink{classOkular_1_1DocumentViewport}{DocumentViewport} vp( \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_a74f6b91e31ead5b572ffb9fb6b06c188}{metaData}( \textcolor{stringliteral}{"NamedViewport"}, 
      \hyperlink{classOkular_1_1DocumentPrivate_a0c531a03865395da325584dbae6e1efe}{m\_nextDocumentDestination} ).toString() );
1029         \textcolor{keywordflow}{if} ( vp.isValid() )
1030         \{
1031             ret = vp;
1032         \}
1033     \}
1034     \textcolor{keywordflow}{return} ret;
1035 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a1ca2b2788a81ae1bf852d5eab1de541c}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!notify\+Annotation\+Changes@{notify\+Annotation\+Changes}}
\index{notify\+Annotation\+Changes@{notify\+Annotation\+Changes}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{notify\+Annotation\+Changes}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::notify\+Annotation\+Changes (
\begin{DoxyParamCaption}
\item[{int}]{page}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a1ca2b2788a81ae1bf852d5eab1de541c}


Definition at line 2960 of file document.\+cpp.


\begin{DoxyCode}
2961 \{
2962     \textcolor{keywordtype}{int} flags = \hyperlink{classOkular_1_1DocumentObserver_af0e6b09d5fc7ecb673bd4895ef2710dca05bd23206e8303026c0b598095d8552e}{DocumentObserver::Annotations};
2963 
2964     \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1DocumentPrivate_a44f722aa34fee888929abd92fe54ad82}{m\_annotationsNeedSaveAs} )
2965         flags |= \hyperlink{classOkular_1_1DocumentObserver_af0e6b09d5fc7ecb673bd4895ef2710dca298f0e033e3f38626f037f2183853415}{DocumentObserver::NeedSaveAs};
2966 
2967     \hyperlink{core_2document_8cpp_a213572010703f4fcbc3229b09d665d3c}{foreachObserverD}( notifyPageChanged( page, flags ) );
2968 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a446649f974127476851f6a1d55e49d4d}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!open\+Document\+Internal@{open\+Document\+Internal}}
\index{open\+Document\+Internal@{open\+Document\+Internal}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{open\+Document\+Internal}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+Private\+::open\+Document\+Internal (
\begin{DoxyParamCaption}
\item[{const K\+Service\+::\+Ptr \&}]{offer, }
\item[{bool}]{isstdin, }
\item[{const Q\+String \&}]{doc\+File, }
\item[{const Q\+Byte\+Array \&}]{filedata}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a446649f974127476851f6a1d55e49d4d}


Definition at line 906 of file document.\+cpp.


\begin{DoxyCode}
907 \{
908     QString propName = offer->name();
909     QHash< QString, GeneratorInfo >::const\_iterator genIt = \hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.constFind(
       propName );
910     QString catalogName;
911     \textcolor{keywordflow}{if} ( genIt != \hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.constEnd() )
912     \{
913         \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} = genIt.value().generator;
914         catalogName = genIt.value().catalogName;
915     \}
916     \textcolor{keywordflow}{else}
917     \{
918         \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} = \hyperlink{classOkular_1_1DocumentPrivate_ac7c902ff8d869394318ffe7b28ff1336}{loadGeneratorLibrary}( offer );
919         \textcolor{keywordflow}{if} ( !\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
920             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
921         genIt = \hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.constFind( propName );
922         Q\_ASSERT( genIt != \hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.constEnd() );
923         catalogName = genIt.value().catalogName;
924     \}
925     Q\_ASSERT\_X( \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}, \textcolor{stringliteral}{"Document::load()"}, \textcolor{stringliteral}{"null generator?!"} );
926 
927     \textcolor{keywordflow}{if} ( !catalogName.isEmpty() )
928         KGlobal::locale()->insertCatalog( catalogName );
929 
930     \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->d\_func()->m\_document = \textcolor{keyword}{this};
931 
932     \textcolor{comment}{// connect error reporting signals}
933     QObject::connect( \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}, SIGNAL(error(QString,\textcolor{keywordtype}{int})), 
      \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}, SIGNAL(error(QString,\textcolor{keywordtype}{int})) );
934     QObject::connect( \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}, SIGNAL(warning(QString,\textcolor{keywordtype}{int})), 
      \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}, SIGNAL(warning(QString,\textcolor{keywordtype}{int})) );
935     QObject::connect( \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}, SIGNAL(notice(QString,\textcolor{keywordtype}{int})), 
      \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}, SIGNAL(notice(QString,\textcolor{keywordtype}{int})) );
936 
937     QApplication::setOverrideCursor( Qt::WaitCursor );
938 
939     \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_af7d384aa3ef522873900c5169896b517}{setDPI}(\hyperlink{classOkular_1_1Utils_a503c8cbc3fa6623139daa4abd5dfe52a}{Utils::realDpi}(\hyperlink{classOkular_1_1DocumentPrivate_a1cc02176f3cd9d24eb4f7968ef893de2}{m\_widget}));
940 
941     \textcolor{keywordtype}{bool} openOk = \textcolor{keyword}{false};
942     \textcolor{keywordflow}{if} ( !isstdin )
943     \{
944         openOk = \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_a388b47328a5297d53cdbdc6fcf074ee3}{loadDocument}( docFile, 
      \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector} );
945     \}
946     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( !filedata.isEmpty() )
947     \{
948         \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_aacad530ef4f0c31a4addc89eb85ec8da}{hasFeature}( 
      \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a1a4bb4a7fe37342df79c702b4b2aab8a}{Generator::ReadRawData} ) )
949         \{
950             openOk = \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_ad65d9a0e78c500475bb403ab0ffd640c}{loadDocumentFromData}( filedata, 
      \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector} );
951         \}
952         \textcolor{keywordflow}{else}
953         \{
954             \hyperlink{classOkular_1_1DocumentPrivate_a09a610ec7c029dd3b73580abfc65059d}{m\_tempFile} = \textcolor{keyword}{new} KTemporaryFile();
955             \textcolor{keywordflow}{if} ( !\hyperlink{classOkular_1_1DocumentPrivate_a09a610ec7c029dd3b73580abfc65059d}{m\_tempFile}->open() )
956             \{
957                 \textcolor{keyword}{delete} \hyperlink{classOkular_1_1DocumentPrivate_a09a610ec7c029dd3b73580abfc65059d}{m\_tempFile};
958                 \hyperlink{classOkular_1_1DocumentPrivate_a09a610ec7c029dd3b73580abfc65059d}{m\_tempFile} = 0;
959             \}
960             \textcolor{keywordflow}{else}
961             \{
962                 \hyperlink{classOkular_1_1DocumentPrivate_a09a610ec7c029dd3b73580abfc65059d}{m\_tempFile}->write( filedata );
963                 QString tmpFileName = \hyperlink{classOkular_1_1DocumentPrivate_a09a610ec7c029dd3b73580abfc65059d}{m\_tempFile}->fileName();
964                 \hyperlink{classOkular_1_1DocumentPrivate_a09a610ec7c029dd3b73580abfc65059d}{m\_tempFile}->close();
965                 openOk = \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_a388b47328a5297d53cdbdc6fcf074ee3}{loadDocument}( tmpFileName, 
      \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector} );
966             \}
967         \}
968     \}
969 
970     QApplication::restoreOverrideCursor();
971     \textcolor{keywordflow}{if} ( !openOk || \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.size() <= 0 )
972     \{
973         \textcolor{keywordflow}{if} ( !catalogName.isEmpty() )
974             KGlobal::locale()->removeCatalog( catalogName );
975 
976         \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->d\_func()->m\_document = 0;
977         QObject::disconnect( \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}, 0, \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}, 0 );
978         \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} = 0;
979 
980         qDeleteAll( \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector} );
981         \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.clear();
982         \textcolor{keyword}{delete} \hyperlink{classOkular_1_1DocumentPrivate_a09a610ec7c029dd3b73580abfc65059d}{m\_tempFile};
983         \hyperlink{classOkular_1_1DocumentPrivate_a09a610ec7c029dd3b73580abfc65059d}{m\_tempFile} = 0;
984 
985         \textcolor{comment}{// TODO: emit a message telling the document is empty}
986 
987         openOk = \textcolor{keyword}{false};
988     \}
989 
990     \textcolor{keywordflow}{return} openOk;
991 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a4853d128c2eb810795bf2cd4ca3665e2}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!open\+Relative\+File@{open\+Relative\+File}}
\index{open\+Relative\+File@{open\+Relative\+File}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{open\+Relative\+File}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+Private\+::open\+Relative\+File (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{file\+Name}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a4853d128c2eb810795bf2cd4ca3665e2}


Definition at line 804 of file document.\+cpp.


\begin{DoxyCode}
805 \{
806     QString absFileName = \hyperlink{classOkular_1_1DocumentPrivate_a1c665a65d08f7b032bba757b298e26a6}{giveAbsolutePath}( fileName );
807     \textcolor{keywordflow}{if} ( absFileName.isEmpty() )
808         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
809 
810     kDebug(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}).nospace() << \textcolor{stringliteral}{"openDocument: '"} << absFileName << \textcolor{stringliteral}{"'"};
811 
812     emit \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_a02ced6263d4d216ba2e38d8ab9cc96b7}{openUrl}( absFileName );
813     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
814 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_af0885d765ba194642c64d56de66fc96c}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!pages\+Size\+String@{pages\+Size\+String}}
\index{pages\+Size\+String@{pages\+Size\+String}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{pages\+Size\+String}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String Document\+Private\+::pages\+Size\+String (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1DocumentPrivate_af0885d765ba194642c64d56de66fc96c}


Definition at line 145 of file document.\+cpp.


\begin{DoxyCode}
146 \{
147     \textcolor{keywordflow}{if} (\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator})
148     \{
149         \textcolor{keywordflow}{if} (\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_add5b37f6ed7b6ce0b3bc72f72d26ec26}{pagesSizeMetric}() != 
      \hyperlink{classOkular_1_1Generator_aa09b8aeb5398ea5f07644f35bd5934f3af29abc1614145cb6d332f22f8e1131d6}{Generator::None})
150         \{
151             QSizeF \hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size} = \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_a9a1f670222f9e036d11e11ac6876c086}{allPagesSize}();
152             \textcolor{keywordflow}{if} (size.isValid()) \textcolor{keywordflow}{return} \hyperlink{classOkular_1_1DocumentPrivate_a7cac2460a84aaba0b164f8e757df381a}{localizedSize}(size);
153             \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} QString();
154         \}
155         \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} QString();
156     \}
157     \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} QString();
158 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a374e55b575f2386536cd438bd2338b33}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!perform\+Add\+Page\+Annotation@{perform\+Add\+Page\+Annotation}}
\index{perform\+Add\+Page\+Annotation@{perform\+Add\+Page\+Annotation}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{perform\+Add\+Page\+Annotation}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::perform\+Add\+Page\+Annotation (
\begin{DoxyParamCaption}
\item[{int}]{page, }
\item[{{\bf Annotation} $\ast$}]{annotation}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a374e55b575f2386536cd438bd2338b33}


Definition at line 1056 of file document.\+cpp.


\begin{DoxyCode}
1057 \{
1058     \hyperlink{classOkular_1_1SaveInterface}{Okular::SaveInterface} * iface = qobject\_cast< 
      \hyperlink{classOkular_1_1SaveInterface}{Okular::SaveInterface} * >( \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} );
1059     \hyperlink{classOkular_1_1AnnotationProxy}{AnnotationProxy} *proxy = iface ? iface->\hyperlink{classOkular_1_1SaveInterface_a1fdb82695d9758e9e68ab0129bf16237}{annotationProxy}() : 0;
1060 
1061     \textcolor{comment}{// find out the page to attach annotation}
1062     \hyperlink{classOkular_1_1Page}{Page} * kp = \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}[ page ];
1063     \textcolor{keywordflow}{if} ( !\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} || !kp )
1064         \textcolor{keywordflow}{return};
1065 
1066     \textcolor{comment}{// the annotation belongs already to a page}
1067     \textcolor{keywordflow}{if} ( annotation->d\_ptr->m\_page )
1068         \textcolor{keywordflow}{return};
1069 
1070     \textcolor{comment}{// add annotation to the page}
1071     kp->\hyperlink{classOkular_1_1Page_a8730d8d4d0072467dc9407c7fc177b8a}{addAnnotation}( annotation );
1072 
1073     \textcolor{comment}{// tell the annotation proxy}
1074     \textcolor{keywordflow}{if} ( proxy && proxy->supports(\hyperlink{classOkular_1_1AnnotationProxy_ae89e16435aa7e10ac4089e673f44e543afd5f00fa1edfb9d2043f90f9938cee3a}{AnnotationProxy::Addition}) )
1075         proxy->notifyAddition( annotation, page );
1076 
1077     \textcolor{comment}{// notify observers about the change}
1078     \hyperlink{classOkular_1_1DocumentPrivate_a1ca2b2788a81ae1bf852d5eab1de541c}{notifyAnnotationChanges}( page );
1079 
1080     \textcolor{keywordflow}{if} ( annotation->\hyperlink{classOkular_1_1Annotation_a3d6f7ee5057155b90e76c24768880947}{flags}() & \hyperlink{classOkular_1_1Annotation_a8a214541446745761efeda70b3a4302ea75f088f5533ace9d9d47a506b707f5a1}{Annotation::ExternallyDrawn} )
1081     \{
1082         \textcolor{comment}{// Redraw everything, including ExternallyDrawn annotations}
1083         \hyperlink{classOkular_1_1DocumentPrivate_a2de4027c4556e563bb24d465aa6ce5a6}{refreshPixmaps}( page );
1084     \}
1085 
1086     \hyperlink{classOkular_1_1DocumentPrivate_abfb2abf66a3eb0536063c818a8e793e9}{warnLimitedAnnotSupport}();
1087 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_ac6a83ec146be14eee48aa70ac02f7350}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!perform\+Modify\+Page\+Annotation@{perform\+Modify\+Page\+Annotation}}
\index{perform\+Modify\+Page\+Annotation@{perform\+Modify\+Page\+Annotation}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{perform\+Modify\+Page\+Annotation}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::perform\+Modify\+Page\+Annotation (
\begin{DoxyParamCaption}
\item[{int}]{page, }
\item[{{\bf Annotation} $\ast$}]{annotation, }
\item[{bool}]{appearance\+Changed}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_ac6a83ec146be14eee48aa70ac02f7350}


Definition at line 1127 of file document.\+cpp.


\begin{DoxyCode}
1128 \{
1129     \hyperlink{classOkular_1_1SaveInterface}{Okular::SaveInterface} * iface = qobject\_cast< 
      \hyperlink{classOkular_1_1SaveInterface}{Okular::SaveInterface} * >( \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} );
1130     \hyperlink{classOkular_1_1AnnotationProxy}{AnnotationProxy} *proxy = iface ? iface->\hyperlink{classOkular_1_1SaveInterface_a1fdb82695d9758e9e68ab0129bf16237}{annotationProxy}() : 0;
1131 
1132     \textcolor{comment}{// find out the page}
1133     \hyperlink{classOkular_1_1Page}{Page} * kp = \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}[ page ];
1134     \textcolor{keywordflow}{if} ( !\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} || !kp )
1135         \textcolor{keywordflow}{return};
1136 
1137     \textcolor{comment}{// tell the annotation proxy}
1138     \textcolor{keywordflow}{if} ( proxy && proxy->supports(\hyperlink{classOkular_1_1AnnotationProxy_ae89e16435aa7e10ac4089e673f44e543ac0cea5683bbb000686ad820c6cd885bf}{AnnotationProxy::Modification}) )
1139     \{
1140         proxy->notifyModification( annotation, page, appearanceChanged );
1141     \}
1142 
1143     \textcolor{comment}{// notify observers about the change}
1144     \hyperlink{classOkular_1_1DocumentPrivate_a1ca2b2788a81ae1bf852d5eab1de541c}{notifyAnnotationChanges}( page );
1145     \textcolor{keywordflow}{if} ( appearanceChanged && (annotation->\hyperlink{classOkular_1_1Annotation_a3d6f7ee5057155b90e76c24768880947}{flags}() & 
      \hyperlink{classOkular_1_1Annotation_a8a214541446745761efeda70b3a4302ea75f088f5533ace9d9d47a506b707f5a1}{Annotation::ExternallyDrawn}) )
1146     \{
1147         \textcolor{comment}{/* When an annotation is being moved, the generator will not render it.}
1148 \textcolor{comment}{         * Therefore there's no need to refresh pixmaps after the first time */}
1149         \textcolor{keywordflow}{if} ( annotation->\hyperlink{classOkular_1_1Annotation_a3d6f7ee5057155b90e76c24768880947}{flags}() & \hyperlink{classOkular_1_1Annotation_a8a214541446745761efeda70b3a4302ea9cd51e0fe53aac93798a205e7fb5c04a}{Annotation::BeingMoved} )
1150         \{
1151             \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1DocumentPrivate_a57c1dee8543960398669cb927fab17cc}{m\_annotationBeingMoved} )
1152                 \textcolor{keywordflow}{return};
1153             \textcolor{keywordflow}{else} \textcolor{comment}{// First time: take note}
1154                 \hyperlink{classOkular_1_1DocumentPrivate_a57c1dee8543960398669cb927fab17cc}{m\_annotationBeingMoved} = \textcolor{keyword}{true};
1155         \}
1156         \textcolor{keywordflow}{else}
1157         \{
1158             \hyperlink{classOkular_1_1DocumentPrivate_a57c1dee8543960398669cb927fab17cc}{m\_annotationBeingMoved} = \textcolor{keyword}{false};
1159         \}
1160 
1161         \textcolor{comment}{// Redraw everything, including ExternallyDrawn annotations}
1162         kDebug(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}) << \textcolor{stringliteral}{"Refreshing Pixmaps"};
1163         \hyperlink{classOkular_1_1DocumentPrivate_a2de4027c4556e563bb24d465aa6ce5a6}{refreshPixmaps}( page );
1164     \}
1165 
1166     \textcolor{comment}{// If the user is moving the annotation, don't steal the focus}
1167     \textcolor{keywordflow}{if} ( (annotation->\hyperlink{classOkular_1_1Annotation_a3d6f7ee5057155b90e76c24768880947}{flags}() & \hyperlink{classOkular_1_1Annotation_a8a214541446745761efeda70b3a4302ea9cd51e0fe53aac93798a205e7fb5c04a}{Annotation::BeingMoved}) == 0 )
1168         \hyperlink{classOkular_1_1DocumentPrivate_abfb2abf66a3eb0536063c818a8e793e9}{warnLimitedAnnotSupport}();
1169 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a52fc440677b41a7717bff1cec9593d33}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!perform\+Remove\+Page\+Annotation@{perform\+Remove\+Page\+Annotation}}
\index{perform\+Remove\+Page\+Annotation@{perform\+Remove\+Page\+Annotation}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{perform\+Remove\+Page\+Annotation}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::perform\+Remove\+Page\+Annotation (
\begin{DoxyParamCaption}
\item[{int}]{page, }
\item[{{\bf Annotation} $\ast$}]{annotation}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a52fc440677b41a7717bff1cec9593d33}


Definition at line 1089 of file document.\+cpp.


\begin{DoxyCode}
1090 \{
1091     \hyperlink{classOkular_1_1SaveInterface}{Okular::SaveInterface} * iface = qobject\_cast< 
      \hyperlink{classOkular_1_1SaveInterface}{Okular::SaveInterface} * >( \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} );
1092     \hyperlink{classOkular_1_1AnnotationProxy}{AnnotationProxy} *proxy = iface ? iface->\hyperlink{classOkular_1_1SaveInterface_a1fdb82695d9758e9e68ab0129bf16237}{annotationProxy}() : 0;
1093     \textcolor{keywordtype}{bool} isExternallyDrawn;
1094 
1095     \textcolor{comment}{// find out the page}
1096     \hyperlink{classOkular_1_1Page}{Page} * kp = \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}[ page ];
1097     \textcolor{keywordflow}{if} ( !\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} || !kp )
1098         \textcolor{keywordflow}{return};
1099 
1100     \textcolor{keywordflow}{if} ( annotation->\hyperlink{classOkular_1_1Annotation_a3d6f7ee5057155b90e76c24768880947}{flags}() & \hyperlink{classOkular_1_1Annotation_a8a214541446745761efeda70b3a4302ea75f088f5533ace9d9d47a506b707f5a1}{Annotation::ExternallyDrawn} )
1101         isExternallyDrawn = \textcolor{keyword}{true};
1102     \textcolor{keywordflow}{else}
1103         isExternallyDrawn = \textcolor{keyword}{false};
1104 
1105     \textcolor{comment}{// try to remove the annotation}
1106     \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_a77f5c38224da847413dbe51c5e24ed08}{canRemovePageAnnotation}( annotation ) )
1107     \{
1108         \textcolor{comment}{// tell the annotation proxy}
1109         \textcolor{keywordflow}{if} ( proxy && proxy->supports(\hyperlink{classOkular_1_1AnnotationProxy_ae89e16435aa7e10ac4089e673f44e543ace001445896cb9742c5282e4fa127936}{AnnotationProxy::Removal}) )
1110             proxy->notifyRemoval( annotation, page );
1111 
1112         kp->\hyperlink{classOkular_1_1Page_a4f0217cfbc8986acb9bb398550cd5bc7}{removeAnnotation}( annotation ); \textcolor{comment}{// Also destroys the object}
1113 
1114         \textcolor{comment}{// in case of success, notify observers about the change}
1115         \hyperlink{classOkular_1_1DocumentPrivate_a1ca2b2788a81ae1bf852d5eab1de541c}{notifyAnnotationChanges}( page );
1116 
1117         \textcolor{keywordflow}{if} ( isExternallyDrawn )
1118         \{
1119             \textcolor{comment}{// Redraw everything, including ExternallyDrawn annotations}
1120             \hyperlink{classOkular_1_1DocumentPrivate_a2de4027c4556e563bb24d465aa6ce5a6}{refreshPixmaps}( page );
1121         \}
1122     \}
1123 
1124     \hyperlink{classOkular_1_1DocumentPrivate_abfb2abf66a3eb0536063c818a8e793e9}{warnLimitedAnnotSupport}();
1125 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a0336653af57e45c3f8cade651bb2fc1a}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!perform\+Set\+Annotation\+Contents@{perform\+Set\+Annotation\+Contents}}
\index{perform\+Set\+Annotation\+Contents@{perform\+Set\+Annotation\+Contents}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{perform\+Set\+Annotation\+Contents}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::perform\+Set\+Annotation\+Contents (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{new\+Contents, }
\item[{{\bf Annotation} $\ast$}]{annot, }
\item[{int}]{page\+Number}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a0336653af57e45c3f8cade651bb2fc1a}


Definition at line 1171 of file document.\+cpp.


\begin{DoxyCode}
1172 \{
1173     \textcolor{keywordtype}{bool} appearanceChanged = \textcolor{keyword}{false};
1174 
1175     \textcolor{comment}{// Check if appearanceChanged should be true}
1176     \textcolor{keywordflow}{switch} ( annot->\hyperlink{classOkular_1_1Annotation_af9833449767eacd740f377e69a1fdd48}{subType}() )
1177     \{
1178         \textcolor{comment}{// If it's an in-place TextAnnotation, set the inplace text}
1179         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Annotation_af71b46e37d5f850b97d5c4de3be9aac0a48f93d5a9352abc4e38a45f69075e504}{Okular::Annotation::AText}:
1180         \{
1181             \hyperlink{classOkular_1_1TextAnnotation}{Okular::TextAnnotation} * txtann = \textcolor{keyword}{static\_cast<} 
      \hyperlink{classOkular_1_1TextAnnotation}{Okular::TextAnnotation} * \textcolor{keyword}{>}( annot );
1182             \textcolor{keywordflow}{if} ( txtann->\hyperlink{classOkular_1_1TextAnnotation_acf75a9a22542d3008a486298972e6dcf}{textType}() == \hyperlink{classOkular_1_1TextAnnotation_af560204454bf812797bc95bea730b06ea2a746e9125e8cf53627335a8af01b998}{Okular::TextAnnotation::InPlace}
       )
1183             \{
1184                 appearanceChanged = \textcolor{keyword}{true};
1185             \}
1186             \textcolor{keywordflow}{break};
1187         \}
1188         \textcolor{comment}{// If it's a LineAnnotation, check if caption text is visible}
1189         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Annotation_af71b46e37d5f850b97d5c4de3be9aac0a7035dc978d8b79958f34e3d164838726}{Okular::Annotation::ALine}:
1190         \{
1191             \hyperlink{classOkular_1_1LineAnnotation}{Okular::LineAnnotation} * lineann = \textcolor{keyword}{static\_cast<} 
      \hyperlink{classOkular_1_1LineAnnotation}{Okular::LineAnnotation} * \textcolor{keyword}{>}( annot );
1192             \textcolor{keywordflow}{if} ( lineann->\hyperlink{classOkular_1_1LineAnnotation_a29a1ebda3306c7a928c6f94e160cb9de}{showCaption}() )
1193                 appearanceChanged = \textcolor{keyword}{true};
1194             \textcolor{keywordflow}{break};
1195         \}
1196         \textcolor{keywordflow}{default}:
1197             \textcolor{keywordflow}{break};
1198     \}
1199 
1200     \textcolor{comment}{// Set contents}
1201     annot->\hyperlink{classOkular_1_1Annotation_a65a7316062031c6fdf578835245ddbd1}{setContents}( newContents );
1202 
1203     \textcolor{comment}{// Tell the document the annotation has been modified}
1204     \hyperlink{classOkular_1_1DocumentPrivate_ac6a83ec146be14eee48aa70ac02f7350}{performModifyPageAnnotation}( pageNumber,  annot, appearanceChanged );
1205 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a2de4027c4556e563bb24d465aa6ce5a6}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!refresh\+Pixmaps@{refresh\+Pixmaps}}
\index{refresh\+Pixmaps@{refresh\+Pixmaps}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{refresh\+Pixmaps}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::refresh\+Pixmaps (
\begin{DoxyParamCaption}
\item[{int}]{page\+Number}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a2de4027c4556e563bb24d465aa6ce5a6}


Definition at line 1567 of file document.\+cpp.


\begin{DoxyCode}
1568 \{
1569     \hyperlink{classOkular_1_1Page}{Page}* page = \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.value( pageNumber, 0 );
1570     \textcolor{keywordflow}{if} ( !page )
1571         \textcolor{keywordflow}{return};
1572 
1573     \hyperlink{classQLinkedList}{QLinkedList< Okular::PixmapRequest * >} requestedPixmaps;
1574     \hyperlink{classQMap}{QMap< DocumentObserver*, PagePrivate::PixmapObject >::ConstIterator}
       it = page->d->\hyperlink{classOkular_1_1PagePrivate_aa24cb69b4eb47c8798c1b06a88f93b6c}{m\_pixmaps}.constBegin(), itEnd = page->d->\hyperlink{classOkular_1_1PagePrivate_aa24cb69b4eb47c8798c1b06a88f93b6c}{m\_pixmaps}.constEnd();
1575     \textcolor{keywordflow}{for} ( ; it != itEnd; ++it )
1576     \{
1577         QSize \hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size} = (*it).m\_pixmap->size();
1578         \hyperlink{classOkular_1_1PixmapRequest}{PixmapRequest} * p = \textcolor{keyword}{new} \hyperlink{classOkular_1_1PixmapRequest}{PixmapRequest}( it.key(), pageNumber, size.width()
      , size.height(), 1, \hyperlink{classOkular_1_1PixmapRequest_a34c6774277612c3af3743fdd44ab0cbaa1c086a3111f9332b7a0b6d8ff0ab967f}{PixmapRequest::Asynchronous} );
1579         p->d->\hyperlink{classOkular_1_1PixmapRequestPrivate_acf386d17b15b2fbbeac1046a87cc487f}{mForce} = \textcolor{keyword}{true};
1580         requestedPixmaps.push\_back( p );
1581     \}
1582 
1583     \textcolor{keywordflow}{foreach} (\hyperlink{classOkular_1_1DocumentObserver}{DocumentObserver} *observer, \hyperlink{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}{m\_observers})
1584     \{
1585         \hyperlink{classOkular_1_1TilesManager}{TilesManager} *tilesManager = page->d->\hyperlink{classOkular_1_1PagePrivate_a8eec394b8e7492196e204812d82e89c6}{tilesManager}( observer );
1586         \textcolor{keywordflow}{if} ( tilesManager )
1587         \{
1588             tilesManager->\hyperlink{classOkular_1_1TilesManager_a53e88f49cd72c8a42e3c4688cce45225}{markDirty}();
1589 
1590             \hyperlink{classOkular_1_1PixmapRequest}{PixmapRequest} * p = \textcolor{keyword}{new} \hyperlink{classOkular_1_1PixmapRequest}{PixmapRequest}( observer, pageNumber, 
      tilesManager->\hyperlink{classOkular_1_1TilesManager_a88a40f389b20ca54314754aff2392889}{width}(), tilesManager->\hyperlink{classOkular_1_1TilesManager_a4a2fc0597872d6cd291630c2e4bf6986}{height}(), 1, \hyperlink{classOkular_1_1PixmapRequest_a34c6774277612c3af3743fdd44ab0cbaa1c086a3111f9332b7a0b6d8ff0ab967f}{PixmapRequest::Asynchronous} 
      );
1591 
1592             \hyperlink{classOkular_1_1NormalizedRect}{NormalizedRect} tilesRect;
1593 
1594             \textcolor{comment}{// Get the visible page rect}
1595             \hyperlink{classOkular_1_1NormalizedRect}{NormalizedRect} visibleRect;
1596             QVector< Okular::VisiblePageRect * >::const\_iterator vIt = 
      \hyperlink{classOkular_1_1DocumentPrivate_a2d167614d4dc602ada64ab925cee6dce}{m\_pageRects}.constBegin(), vEnd = \hyperlink{classOkular_1_1DocumentPrivate_a2d167614d4dc602ada64ab925cee6dce}{m\_pageRects}.constEnd();
1597             \textcolor{keywordflow}{for} ( ; vIt != vEnd; ++vIt )
1598             \{
1599                 \textcolor{keywordflow}{if} ( (*vIt)->pageNumber == pageNumber )
1600                 \{
1601                     visibleRect = (*vIt)->rect;
1602                     \textcolor{keywordflow}{break};
1603                 \}
1604             \}
1605 
1606             \textcolor{keywordflow}{if} ( !visibleRect.\hyperlink{classOkular_1_1NormalizedRect_a8f9a332a6247f4716d23513af00ac045}{isNull}() )
1607             \{
1608                 p->\hyperlink{classOkular_1_1PixmapRequest_ada39238e8f4748b0c65dd97a3abcda77}{setNormalizedRect}( visibleRect );
1609                 p->\hyperlink{classOkular_1_1PixmapRequest_a386e7798833195f24d9598f696de8f73}{setTile}( \textcolor{keyword}{true} );
1610                 p->d->\hyperlink{classOkular_1_1PixmapRequestPrivate_acf386d17b15b2fbbeac1046a87cc487f}{mForce} = \textcolor{keyword}{true};
1611                 requestedPixmaps.push\_back( p );
1612             \}
1613             \textcolor{keywordflow}{else}
1614             \{
1615                 \textcolor{keyword}{delete} p;
1616             \}
1617         \}
1618     \}
1619 
1620     \textcolor{keywordflow}{if} ( !requestedPixmaps.isEmpty() )
1621         \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_a05f652fba2651b2602a2a71f474d008d}{requestPixmaps}( requestedPixmaps, 
      \hyperlink{classOkular_1_1Document_a34c1f67c024cfbdd46379c5fac3674d7a87c3cee454d9bacfd7e9642eb697abb0}{Okular::Document::NoOption} );
1622 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a26d26e6f52b4b6173ca55f264b855336}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!request\+Done@{request\+Done}}
\index{request\+Done@{request\+Done}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{request\+Done}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::request\+Done (
\begin{DoxyParamCaption}
\item[{{\bf Pixmap\+Request} $\ast$}]{request}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a26d26e6f52b4b6173ca55f264b855336}
This method is used by the generators to signal the finish of the pixmap generation {\ttfamily request}. 

Definition at line 4347 of file document.\+cpp.


\begin{DoxyCode}
4348 \{
4349     \textcolor{keywordflow}{if} ( !req )
4350         \textcolor{keywordflow}{return};
4351 
4352     \textcolor{keywordflow}{if} ( !\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} || \hyperlink{classOkular_1_1DocumentPrivate_a836cb1b614d8d25bad8403dfd746ef00}{m\_closingLoop} )
4353     \{
4354         \hyperlink{classOkular_1_1DocumentPrivate_a5c0e919d575a7a3c19a42c64a672fce4}{m\_pixmapRequestsMutex}.lock();
4355         \hyperlink{classOkular_1_1DocumentPrivate_adc84c2f8f76e7880b41e155edabf69e7}{m\_executingPixmapRequests}.removeAll( req );
4356         \hyperlink{classOkular_1_1DocumentPrivate_a5c0e919d575a7a3c19a42c64a672fce4}{m\_pixmapRequestsMutex}.unlock();
4357         \textcolor{keyword}{delete} req;
4358         \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1DocumentPrivate_a836cb1b614d8d25bad8403dfd746ef00}{m\_closingLoop} )
4359             \hyperlink{classOkular_1_1DocumentPrivate_a836cb1b614d8d25bad8403dfd746ef00}{m\_closingLoop}->exit();
4360         \textcolor{keywordflow}{return};
4361     \}
4362 
4363 \textcolor{preprocessor}{#ifndef NDEBUG}
4364     \textcolor{keywordflow}{if} ( !\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_abbf00927221e2d2b2b71101f2b7f5732}{canGeneratePixmap}() )
4365         kDebug(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}) << \textcolor{stringliteral}{"requestDone with generator not in READY state."};
4366 \textcolor{preprocessor}{#endif}
4367 
4368     \textcolor{comment}{// [MEM] 1.1 find and remove a previous entry for the same page and id}
4369     \hyperlink{classQLinkedList}{QLinkedList< AllocatedPixmap * >::iterator} aIt = 
      \hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps}.begin();
4370     \hyperlink{classQLinkedList}{QLinkedList< AllocatedPixmap * >::iterator} aEnd = 
      \hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps}.end();
4371     \textcolor{keywordflow}{for} ( ; aIt != aEnd; ++aIt )
4372         \textcolor{keywordflow}{if} ( (*aIt)->page == req->pageNumber() && (*aIt)->observer == req->observer() )
4373         \{
4374             \hyperlink{structAllocatedPixmap}{AllocatedPixmap} * p = *aIt;
4375             \hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps}.erase( aIt );
4376             \hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\_allocatedPixmapsTotalMemory} -= p->
      \hyperlink{structAllocatedPixmap_a8fdfc9d87d0ce0852716295895606be0}{memory};
4377             \textcolor{keyword}{delete} p;
4378             \textcolor{keywordflow}{break};
4379         \}
4380 
4381     \hyperlink{classOkular_1_1DocumentObserver}{DocumentObserver} *observer = req->observer();
4382     \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}{m\_observers}.contains(observer) )
4383     \{
4384         \textcolor{comment}{// [MEM] 1.2 append memory allocation descriptor to the FIFO}
4385         qulonglong memoryBytes = 0;
4386         \textcolor{keyword}{const} \hyperlink{classOkular_1_1TilesManager}{TilesManager} *tm = req->d->tilesManager();
4387         \textcolor{keywordflow}{if} ( tm )
4388             memoryBytes = tm->\hyperlink{classOkular_1_1TilesManager_a7baf6b1ce882f1fea1499fa956097c23}{totalMemory}();
4389         \textcolor{keywordflow}{else}
4390             memoryBytes = 4 * req->width() * req->height();
4391 
4392         \hyperlink{structAllocatedPixmap}{AllocatedPixmap} * memoryPage = \textcolor{keyword}{new} \hyperlink{structAllocatedPixmap}{AllocatedPixmap}( req->observer(), 
      req->pageNumber(), memoryBytes );
4393         \hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps}.append( memoryPage );
4394         \hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\_allocatedPixmapsTotalMemory} += memoryBytes;
4395 
4396         \textcolor{comment}{// 2. notify an observer that its pixmap changed}
4397         observer->\hyperlink{classOkular_1_1DocumentObserver_abf7600dabd7d6c1e38c950d99f7be595}{notifyPageChanged}( req->pageNumber(), 
      \hyperlink{classOkular_1_1DocumentObserver_af0e6b09d5fc7ecb673bd4895ef2710dca3263576701c6ec7dc0a8e8945054db56}{DocumentObserver::Pixmap} );
4398     \}
4399 \textcolor{preprocessor}{#ifndef NDEBUG}
4400     \textcolor{keywordflow}{else}
4401         kWarning(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}) << \textcolor{stringliteral}{"Receiving a done request for the defunct observer"} << observer
      ;
4402 \textcolor{preprocessor}{#endif}
4403 
4404     \textcolor{comment}{// 3. delete request}
4405     \hyperlink{classOkular_1_1DocumentPrivate_a5c0e919d575a7a3c19a42c64a672fce4}{m\_pixmapRequestsMutex}.lock();
4406     \hyperlink{classOkular_1_1DocumentPrivate_adc84c2f8f76e7880b41e155edabf69e7}{m\_executingPixmapRequests}.removeAll( req );
4407     \hyperlink{classOkular_1_1DocumentPrivate_a5c0e919d575a7a3c19a42c64a672fce4}{m\_pixmapRequestsMutex}.unlock();
4408     \textcolor{keyword}{delete} req;
4409 
4410     \textcolor{comment}{// 4. start a new generation if some is pending}
4411     \hyperlink{classOkular_1_1DocumentPrivate_a5c0e919d575a7a3c19a42c64a672fce4}{m\_pixmapRequestsMutex}.lock();
4412     \textcolor{keywordtype}{bool} hasPixmaps = !\hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.isEmpty();
4413     \hyperlink{classOkular_1_1DocumentPrivate_a5c0e919d575a7a3c19a42c64a672fce4}{m\_pixmapRequestsMutex}.unlock();
4414     \textcolor{keywordflow}{if} ( hasPixmaps )
4415         \hyperlink{classOkular_1_1DocumentPrivate_a0b3b0924831ddf8b6b68bd74a9d6f162}{sendGeneratorPixmapRequest}();
4416 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a627170672257bcc215dbb5534f385f60}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!rotation\+Finished@{rotation\+Finished}}
\index{rotation\+Finished@{rotation\+Finished}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{rotation\+Finished}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::rotation\+Finished (
\begin{DoxyParamCaption}
\item[{int}]{page, }
\item[{{\bf Okular\+::\+Page} $\ast$}]{okular\+Page}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a627170672257bcc215dbb5534f385f60}


Definition at line 1496 of file document.\+cpp.


\begin{DoxyCode}
1497 \{
1498     \hyperlink{classOkular_1_1Page}{Okular::Page} *wantedPage = \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.value( page, 0 );
1499     \textcolor{keywordflow}{if} ( !wantedPage || wantedPage != okularPage )
1500         \textcolor{keywordflow}{return};
1501 
1502     \textcolor{keywordflow}{foreach}(\hyperlink{classOkular_1_1DocumentObserver}{DocumentObserver} *o, \hyperlink{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}{m\_observers})
1503         o->\hyperlink{classOkular_1_1DocumentObserver_abf7600dabd7d6c1e38c950d99f7be595}{notifyPageChanged}( page, \hyperlink{classOkular_1_1DocumentObserver_af0e6b09d5fc7ecb673bd4895ef2710dca3263576701c6ec7dc0a8e8945054db56}{DocumentObserver::Pixmap} | 
      \hyperlink{classOkular_1_1DocumentObserver_af0e6b09d5fc7ecb673bd4895ef2710dca05bd23206e8303026c0b598095d8552e}{DocumentObserver::Annotations} );
1504 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a902754eb52a42389fe3abc3fa10b6b46}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!save\+Document\+Info@{save\+Document\+Info}}
\index{save\+Document\+Info@{save\+Document\+Info}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{save\+Document\+Info}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::save\+Document\+Info (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1DocumentPrivate_a902754eb52a42389fe3abc3fa10b6b46}


Definition at line 1207 of file document.\+cpp.


\begin{DoxyCode}
1208 \{
1209     \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1DocumentPrivate_aae08e3c4d234247bf3d52608649e7c64}{m\_xmlFileName}.isEmpty() )
1210         \textcolor{keywordflow}{return};
1211 
1212     QFile infoFile( \hyperlink{classOkular_1_1DocumentPrivate_aae08e3c4d234247bf3d52608649e7c64}{m\_xmlFileName} );
1213     \textcolor{keywordflow}{if} (infoFile.open( QIODevice::WriteOnly | QIODevice::Truncate) )
1214     \{
1215         \textcolor{comment}{// 1. Create DOM}
1216         QDomDocument doc( \textcolor{stringliteral}{"documentInfo"} );
1217         QDomProcessingInstruction xmlPi = doc.createProcessingInstruction(
1218                 QString::fromLatin1( \textcolor{stringliteral}{"xml"} ), QString::fromLatin1( \textcolor{stringliteral}{"version=\(\backslash\)"1.0\(\backslash\)" encoding=\(\backslash\)"utf-8\(\backslash\)""} ) )
      ;
1219         doc.appendChild( xmlPi );
1220         QDomElement root = doc.createElement( \textcolor{stringliteral}{"documentInfo"} );
1221         root.setAttribute( \textcolor{stringliteral}{"url"}, \hyperlink{classOkular_1_1DocumentPrivate_a1a0145bbb16d15c016000a83d0d2ab2b}{m\_url}.pathOrUrl() );
1222         doc.appendChild( root );
1223 
1224         \textcolor{comment}{// 2.1. Save page attributes (bookmark state, annotations, ... ) to DOM}
1225         QDomElement pageList = doc.createElement( \textcolor{stringliteral}{"pageList"} );
1226         root.appendChild( pageList );
1227         PageItems saveWhat = \hyperlink{namespaceOkular_ad8955fd515cc3f63a14cdff6723e6c1bad157628664d884c59d2cc11bcdddb76a}{AllPageItems};
1228         \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1DocumentPrivate_a44f722aa34fee888929abd92fe54ad82}{m\_annotationsNeedSaveAs} )
1229         \{
1230             \textcolor{comment}{/* In this case, if the user makes a modification, he's requested to}
1231 \textcolor{comment}{             * save to a new document. Therefore, if there are existing local}
1232 \textcolor{comment}{             * annotations, we save them back unmodified in the original}
1233 \textcolor{comment}{             * document's metadata, so that it appears that it was not changed */}
1234             saveWhat |= \hyperlink{namespaceOkular_ad8955fd515cc3f63a14cdff6723e6c1ba1feb4fde97e57698f97d64a2a3b824bb}{OriginalAnnotationPageItems};
1235         \}
1236         \textcolor{comment}{// <page list><page number='x'>.... </page> save pages that hold data}
1237         QVector< Page * >::const\_iterator pIt = \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.constBegin(), pEnd = 
      \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.constEnd();
1238         \textcolor{keywordflow}{for} ( ; pIt != pEnd; ++pIt )
1239             (*pIt)->d->saveLocalContents( pageList, doc, saveWhat );
1240 
1241         \textcolor{comment}{// 2.2. Save document info (current viewport, history, ... ) to DOM}
1242         QDomElement generalInfo = doc.createElement( \textcolor{stringliteral}{"generalInfo"} );
1243         root.appendChild( generalInfo );
1244         \textcolor{comment}{// create rotation node}
1245         \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1DocumentPrivate_a5b7f4c2b5937d311b277c2e90826ee1b}{m\_rotation} != \hyperlink{namespaceOkular_a8556d00465f61ef533c6b027669e7da6aa4df8fc3dd09e30520c264c8d23d89c2}{Rotation0} )
1246         \{
1247             QDomElement rotationNode = doc.createElement( \textcolor{stringliteral}{"rotation"} );
1248             generalInfo.appendChild( rotationNode );
1249             rotationNode.appendChild( doc.createTextNode( QString::number( (\textcolor{keywordtype}{int})
      \hyperlink{classOkular_1_1DocumentPrivate_a5b7f4c2b5937d311b277c2e90826ee1b}{m\_rotation} ) ) );
1250         \}
1251         \textcolor{comment}{// <general info><history> ... </history> save history up to OKULAR\_HISTORY\_SAVEDSTEPS viewports}
1252         \hyperlink{classQLinkedList}{QLinkedList< DocumentViewport >::const\_iterator} 
      backIterator = \hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator};
1253         \textcolor{keywordflow}{if} ( backIterator != \hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.constEnd() )
1254         \{
1255             \textcolor{comment}{// go back up to OKULAR\_HISTORY\_SAVEDSTEPS steps from the current viewportIterator}
1256             \textcolor{keywordtype}{int} backSteps = \hyperlink{core_2document_8cpp_a9f7bf9ff3d480e38ff210bcf92f53353}{OKULAR\_HISTORY\_SAVEDSTEPS};
1257             \textcolor{keywordflow}{while} ( backSteps-- && backIterator != \hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.constBegin() )
1258                 --backIterator;
1259 
1260             \textcolor{comment}{// create history root node}
1261             QDomElement historyNode = doc.createElement( \textcolor{stringliteral}{"history"} );
1262             generalInfo.appendChild( historyNode );
1263 
1264             \textcolor{comment}{// add old[backIterator] and present[viewportIterator] items}
1265             \hyperlink{classQLinkedList}{QLinkedList< DocumentViewport >::const\_iterator} 
      endIt = \hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator};
1266             ++endIt;
1267             \textcolor{keywordflow}{while} ( backIterator != endIt )
1268             \{
1269                 QString name = (backIterator == \hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator}) ? \textcolor{stringliteral}{"current"} : \textcolor{stringliteral}{"
      oldPage"};
1270                 QDomElement historyEntry = doc.createElement( name );
1271                 historyEntry.setAttribute( \textcolor{stringliteral}{"viewport"}, (*backIterator).toString() );
1272                 historyNode.appendChild( historyEntry );
1273                 ++backIterator;
1274             \}
1275         \}
1276         \textcolor{comment}{// create views root node}
1277         QDomElement viewsNode = doc.createElement( \textcolor{stringliteral}{"views"} );
1278         generalInfo.appendChild( viewsNode );
1279         Q\_FOREACH ( \hyperlink{classOkular_1_1View}{View} * view, \hyperlink{classOkular_1_1DocumentPrivate_aae4139cb4cb2f63fd7c7c88f26199976}{m\_views} )
1280         \{
1281             QDomElement viewEntry = doc.createElement( \textcolor{stringliteral}{"view"} );
1282             viewEntry.setAttribute( \textcolor{stringliteral}{"name"}, view->\hyperlink{classOkular_1_1View_aac1d4ae8bad44a4a845de118892cfa1e}{name}() );
1283             viewsNode.appendChild( viewEntry );
1284             \hyperlink{classOkular_1_1DocumentPrivate_a26f0a9bd5feee1f235eca1defee29482}{saveViewsInfo}( view, viewEntry );
1285         \}
1286 
1287         \textcolor{comment}{// 3. Save DOM to XML file}
1288         QString xml = doc.toString();
1289         QTextStream os( &infoFile );
1290         os.setCodec( \textcolor{stringliteral}{"UTF-8"} );
1291         os << xml;
1292     \}
1293     infoFile.close();
1294 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a7d06a43560a005a4a4a98ab1dafda83f}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!save\+Page\+Document\+Info@{save\+Page\+Document\+Info}}
\index{save\+Page\+Document\+Info@{save\+Page\+Document\+Info}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{save\+Page\+Document\+Info}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+Private\+::save\+Page\+Document\+Info (
\begin{DoxyParamCaption}
\item[{K\+Temporary\+File $\ast$}]{info\+File, }
\item[{int}]{what}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1DocumentPrivate_a7d06a43560a005a4a4a98ab1dafda83f}


Definition at line 993 of file document.\+cpp.


\begin{DoxyCode}
994 \{
995     \textcolor{keywordflow}{if} ( infoFile->open() )
996     \{
997         \textcolor{comment}{// 1. Create DOM}
998         QDomDocument doc( \textcolor{stringliteral}{"documentInfo"} );
999         QDomProcessingInstruction xmlPi = doc.createProcessingInstruction(
1000                 QString::fromLatin1( \textcolor{stringliteral}{"xml"} ), QString::fromLatin1( \textcolor{stringliteral}{"version=\(\backslash\)"1.0\(\backslash\)" encoding=\(\backslash\)"utf-8\(\backslash\)""} ) )
      ;
1001         doc.appendChild( xmlPi );
1002         QDomElement root = doc.createElement( \textcolor{stringliteral}{"documentInfo"} );
1003         doc.appendChild( root );
1004 
1005         \textcolor{comment}{// 2.1. Save page attributes (bookmark state, annotations, ... ) to DOM}
1006         QDomElement pageList = doc.createElement( \textcolor{stringliteral}{"pageList"} );
1007         root.appendChild( pageList );
1008         \textcolor{comment}{// <page list><page number='x'>.... </page> save pages that hold data}
1009         QVector< Page * >::const\_iterator pIt = \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.constBegin(), pEnd = 
      \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.constEnd();
1010         \textcolor{keywordflow}{for} ( ; pIt != pEnd; ++pIt )
1011             (*pIt)->d->saveLocalContents( pageList, doc, PageItems( what ) );
1012 
1013         \textcolor{comment}{// 3. Save DOM to XML file}
1014         QString xml = doc.toString();
1015         QTextStream os( infoFile );
1016         os.setCodec( \textcolor{stringliteral}{"UTF-8"} );
1017         os << xml;
1018         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1019     \}
1020     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1021 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a26f0a9bd5feee1f235eca1defee29482}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!save\+Views\+Info@{save\+Views\+Info}}
\index{save\+Views\+Info@{save\+Views\+Info}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{save\+Views\+Info}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::save\+Views\+Info (
\begin{DoxyParamCaption}
\item[{{\bf View} $\ast$}]{view, }
\item[{Q\+Dom\+Element \&}]{e}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1DocumentPrivate_a26f0a9bd5feee1f235eca1defee29482}


Definition at line 770 of file document.\+cpp.


\begin{DoxyCode}
771 \{
772     \textcolor{keywordflow}{if} ( view->\hyperlink{classOkular_1_1View_a65d4511363fe5a1fb836a26688bea50c}{supportsCapability}( \hyperlink{classOkular_1_1View_ad95d365554715eb1eabb79350f51b294a3fa37aa9737e4a0f9753aa398c30f667}{View::Zoom} )
773          && ( view->\hyperlink{classOkular_1_1View_abad9d21eaeb248a4b6712aa5cd0ab6fc}{capabilityFlags}( \hyperlink{classOkular_1_1View_ad95d365554715eb1eabb79350f51b294a3fa37aa9737e4a0f9753aa398c30f667}{View::Zoom} ) & ( 
      \hyperlink{classOkular_1_1View_a8552668497a612628f53b5010df7a45ea129d96c4ba7ee8cc9bf91a544d07bcd3}{View::CapabilityRead} | \hyperlink{classOkular_1_1View_a8552668497a612628f53b5010df7a45eac0b7ffc919ca2416425d9b81b7fef5d9}{View::CapabilitySerializable} ) )
774          && view->\hyperlink{classOkular_1_1View_a65d4511363fe5a1fb836a26688bea50c}{supportsCapability}( \hyperlink{classOkular_1_1View_ad95d365554715eb1eabb79350f51b294a2621c21053805b1e2f71fdeb069f9c35}{View::ZoomModality} )
775          && ( view->\hyperlink{classOkular_1_1View_abad9d21eaeb248a4b6712aa5cd0ab6fc}{capabilityFlags}( \hyperlink{classOkular_1_1View_ad95d365554715eb1eabb79350f51b294a2621c21053805b1e2f71fdeb069f9c35}{View::ZoomModality} ) & ( 
      \hyperlink{classOkular_1_1View_a8552668497a612628f53b5010df7a45ea129d96c4ba7ee8cc9bf91a544d07bcd3}{View::CapabilityRead} | \hyperlink{classOkular_1_1View_a8552668497a612628f53b5010df7a45eac0b7ffc919ca2416425d9b81b7fef5d9}{View::CapabilitySerializable} ) ) )
776     \{
777         QDomElement zoomEl = e.ownerDocument().createElement( \textcolor{stringliteral}{"zoom"} );
778         e.appendChild( zoomEl );
779         \textcolor{keywordtype}{bool} ok = \textcolor{keyword}{true};
780         \textcolor{keyword}{const} \textcolor{keywordtype}{double} zoom = view->\hyperlink{classOkular_1_1View_a32763d9566680b0ae37650a894245322}{capability}( \hyperlink{classOkular_1_1View_ad95d365554715eb1eabb79350f51b294a3fa37aa9737e4a0f9753aa398c30f667}{View::Zoom} ).toDouble( &ok );
781         \textcolor{keywordflow}{if} ( ok && zoom != 0 )
782         \{
783             zoomEl.setAttribute( \textcolor{stringliteral}{"value"}, QString::number(zoom) );
784         \}
785         \textcolor{keyword}{const} \textcolor{keywordtype}{int} mode = view->\hyperlink{classOkular_1_1View_a32763d9566680b0ae37650a894245322}{capability}( \hyperlink{classOkular_1_1View_ad95d365554715eb1eabb79350f51b294a2621c21053805b1e2f71fdeb069f9c35}{View::ZoomModality} ).toInt( &ok );
786         \textcolor{keywordflow}{if} ( ok )
787         \{
788             zoomEl.setAttribute( \textcolor{stringliteral}{"mode"}, mode );
789         \}
790     \}
791 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a751cdd88fe8ba456a89f6c998a9ae35a}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!search\+Lowest\+Priority\+Pixmap@{search\+Lowest\+Priority\+Pixmap}}
\index{search\+Lowest\+Priority\+Pixmap@{search\+Lowest\+Priority\+Pixmap}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{search\+Lowest\+Priority\+Pixmap}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Allocated\+Pixmap} $\ast$ Document\+Private\+::search\+Lowest\+Priority\+Pixmap (
\begin{DoxyParamCaption}
\item[{bool}]{unloadable\+Only = {\ttfamily false}, }
\item[{bool}]{then\+Remove\+It = {\ttfamily false}, }
\item[{{\bf Document\+Observer} $\ast$}]{observer = {\ttfamily 0}}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a751cdd88fe8ba456a89f6c998a9ae35a}


Definition at line 431 of file document.\+cpp.


\begin{DoxyCode}
432 \{
433     \hyperlink{classQLinkedList}{QLinkedList< AllocatedPixmap * >::iterator} pIt = 
      \hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps}.begin();
434     \hyperlink{classQLinkedList}{QLinkedList< AllocatedPixmap * >::iterator} pEnd = 
      \hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps}.end();
435     \hyperlink{classQLinkedList}{QLinkedList< AllocatedPixmap * >::iterator} farthestPixmap = 
      pEnd;
436     \textcolor{keyword}{const} \textcolor{keywordtype}{int} currentViewportPage = (*m\_viewportIterator).pageNumber;
437 
438     \textcolor{comment}{/* Find the pixmap that is farthest from the current viewport */}
439     \textcolor{keywordtype}{int} maxDistance = -1;
440     \textcolor{keywordflow}{while} ( pIt != pEnd )
441     \{
442         \textcolor{keyword}{const} \hyperlink{structAllocatedPixmap}{AllocatedPixmap} * p = *pIt;
443         \textcolor{comment}{// Filter by observer}
444         \textcolor{keywordflow}{if} ( observer == 0 || p->\hyperlink{structAllocatedPixmap_a5ee1fe9a6b1a37583c0ea54045cc7800}{observer} == observer )
445         \{
446             \textcolor{keyword}{const} \textcolor{keywordtype}{int} distance = qAbs( p->\hyperlink{structAllocatedPixmap_a197c0639216aa0819deb72fd8705d115}{page} - currentViewportPage );
447             \textcolor{keywordflow}{if} ( maxDistance < distance && ( !unloadableOnly || p->\hyperlink{structAllocatedPixmap_a5ee1fe9a6b1a37583c0ea54045cc7800}{observer}->
      \hyperlink{classOkular_1_1DocumentObserver_a6b294d9207a1546eb9fcb7b878d94f20}{canUnloadPixmap}( p->\hyperlink{structAllocatedPixmap_a197c0639216aa0819deb72fd8705d115}{page} ) ) )
448             \{
449                 maxDistance = distance;
450                 farthestPixmap = pIt;
451             \}
452         \}
453         ++pIt;
454     \}
455 
456     \textcolor{comment}{/* No pixmap to remove */}
457     \textcolor{keywordflow}{if} ( farthestPixmap == pEnd )
458         \textcolor{keywordflow}{return} 0;
459 
460     \hyperlink{structAllocatedPixmap}{AllocatedPixmap} * selectedPixmap = *farthestPixmap;
461     \textcolor{keywordflow}{if} ( thenRemoveIt )
462         \hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps}.erase( farthestPixmap );
463     \textcolor{keywordflow}{return} selectedPixmap;
464 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a0b3b0924831ddf8b6b68bd74a9d6f162}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!send\+Generator\+Pixmap\+Request@{send\+Generator\+Pixmap\+Request}}
\index{send\+Generator\+Pixmap\+Request@{send\+Generator\+Pixmap\+Request}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{send\+Generator\+Pixmap\+Request}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::send\+Generator\+Pixmap\+Request (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a0b3b0924831ddf8b6b68bd74a9d6f162}


Definition at line 1304 of file document.\+cpp.


\begin{DoxyCode}
1305 \{
1306     \textcolor{comment}{/* If the pixmap cache will have to be cleaned in order to make room for the}
1307 \textcolor{comment}{     * next request, get the distance from the current viewport of the page}
1308 \textcolor{comment}{     * whose pixmap will be removed. We will ignore preload requests for pages}
1309 \textcolor{comment}{     * that are at the same distance or farther */}
1310     \textcolor{keyword}{const} qulonglong memoryToFree = \hyperlink{classOkular_1_1DocumentPrivate_a91e5e2e26f829b1a08ab01c17fdecc2e}{calculateMemoryToFree}();
1311     \textcolor{keyword}{const} \textcolor{keywordtype}{int} currentViewportPage = (*m\_viewportIterator).pageNumber;
1312     \textcolor{keywordtype}{int} maxDistance = INT\_MAX; \textcolor{comment}{// Default: No maximum}
1313     \textcolor{keywordflow}{if} ( memoryToFree )
1314     \{
1315         \hyperlink{structAllocatedPixmap}{AllocatedPixmap} *pixmapToReplace = 
      \hyperlink{classOkular_1_1DocumentPrivate_a751cdd88fe8ba456a89f6c998a9ae35a}{searchLowestPriorityPixmap}( \textcolor{keyword}{true} );
1316         \textcolor{keywordflow}{if} ( pixmapToReplace )
1317             maxDistance = qAbs( pixmapToReplace->\hyperlink{structAllocatedPixmap_a197c0639216aa0819deb72fd8705d115}{page} - currentViewportPage );
1318     \}
1319 
1320     \textcolor{comment}{// find a request}
1321     \hyperlink{classOkular_1_1PixmapRequest}{PixmapRequest} * request = 0;
1322     \hyperlink{classOkular_1_1DocumentPrivate_a5c0e919d575a7a3c19a42c64a672fce4}{m\_pixmapRequestsMutex}.lock();
1323     \textcolor{keywordflow}{while} ( !\hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.isEmpty() && !request )
1324     \{
1325         \hyperlink{classOkular_1_1PixmapRequest}{PixmapRequest} * r = \hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.last();
1326         \textcolor{keywordflow}{if} (!r)
1327         \{
1328             \hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.pop\_back();
1329             \textcolor{keywordflow}{continue};
1330         \}
1331 
1332         QRect requestRect = r->\hyperlink{classOkular_1_1PixmapRequest_a7e50105623628d53dc9d82c45d7863bd}{isTile}() ? r->\hyperlink{classOkular_1_1PixmapRequest_ab867bc095f18ece11fb14ac0201a227d}{normalizedRect}().
      \hyperlink{classOkular_1_1NormalizedRect_a006897c5fcff2c3a97b4141f1a967513}{geometry}( r->\hyperlink{classOkular_1_1PixmapRequest_a3e82f09b91a52efed7435eeb9903e5fc}{width}(), r->\hyperlink{classOkular_1_1PixmapRequest_a782392a2efc6303994c7e0158c76ee06}{height}() ) : QRect( 0, 0, r->\hyperlink{classOkular_1_1PixmapRequest_a3e82f09b91a52efed7435eeb9903e5fc}{width}(), r->
      \hyperlink{classOkular_1_1PixmapRequest_a782392a2efc6303994c7e0158c76ee06}{height}() );
1333         \hyperlink{classOkular_1_1TilesManager}{TilesManager} *tilesManager = r->d->\hyperlink{classOkular_1_1PixmapRequestPrivate_a1765ff434c6bd718628d02bbca3cb271}{tilesManager}();
1334 
1335         \textcolor{comment}{// If it's a preload but the generator is not threaded no point in trying to preload}
1336         \textcolor{keywordflow}{if} ( r->\hyperlink{classOkular_1_1PixmapRequest_a9401ac40032a7ca0e018687bf7000a74}{preload}() && !\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_aacad530ef4f0c31a4addc89eb85ec8da}{hasFeature}( 
      \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a0764a910b194896e72da084c3c51a2d0}{Generator::Threaded} ) )
1337         \{
1338             \hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.pop\_back();
1339             \textcolor{keyword}{delete} r;
1340         \}
1341         \textcolor{comment}{// request only if page isn't already present and request has valid id}
1342         \textcolor{comment}{// request only if page isn't already present and request has valid id}
1343         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( ( !r->d->\hyperlink{classOkular_1_1PixmapRequestPrivate_acf386d17b15b2fbbeac1046a87cc487f}{mForce} && r->\hyperlink{classOkular_1_1PixmapRequest_a83b5e81f2e908e70f3c19a0a3c07fab3}{page}()->\hyperlink{classOkular_1_1Page_a4c14959c8283b76513d4ba4139634575}{hasPixmap}( r->
      \hyperlink{classOkular_1_1PixmapRequest_af7abb325ca484ded40c556cf0ad5b793}{observer}(), r->\hyperlink{classOkular_1_1PixmapRequest_a3e82f09b91a52efed7435eeb9903e5fc}{width}(), r->\hyperlink{classOkular_1_1PixmapRequest_a782392a2efc6303994c7e0158c76ee06}{height}(), r->\hyperlink{classOkular_1_1PixmapRequest_ab867bc095f18ece11fb14ac0201a227d}{normalizedRect}() ) ) || !
      \hyperlink{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}{m\_observers}.contains(r->\hyperlink{classOkular_1_1PixmapRequest_af7abb325ca484ded40c556cf0ad5b793}{observer}()) )
1344         \{
1345             \hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.pop\_back();
1346             \textcolor{keyword}{delete} r;
1347         \}
1348         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( !r->d->\hyperlink{classOkular_1_1PixmapRequestPrivate_acf386d17b15b2fbbeac1046a87cc487f}{mForce} && r->\hyperlink{classOkular_1_1PixmapRequest_a9401ac40032a7ca0e018687bf7000a74}{preload}() && qAbs( r->
      \hyperlink{classOkular_1_1PixmapRequest_a50f959175182137dbb9e2dbd6ddd71aa}{pageNumber}() - currentViewportPage ) >= maxDistance )
1349         \{
1350             \hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.pop\_back();
1351             \textcolor{comment}{//kDebug() << "Ignoring request that doesn't fit in cache";}
1352             \textcolor{keyword}{delete} r;
1353         \}
1354         \textcolor{comment}{// Ignore requests for pixmaps that are already being generated}
1355         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( tilesManager && tilesManager->\hyperlink{classOkular_1_1TilesManager_a9ae541417a9a6ef69d405442aa5271be}{isRequesting}( r->
      \hyperlink{classOkular_1_1PixmapRequest_ab867bc095f18ece11fb14ac0201a227d}{normalizedRect}(), r->\hyperlink{classOkular_1_1PixmapRequest_a3e82f09b91a52efed7435eeb9903e5fc}{width}(), r->\hyperlink{classOkular_1_1PixmapRequest_a782392a2efc6303994c7e0158c76ee06}{height}() ) )
1356         \{
1357             \hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.pop\_back();
1358             \textcolor{keyword}{delete} r;
1359         \}
1360         \textcolor{comment}{// If the requested area is above 8000000 pixels, switch on the tile manager}
1361         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( !tilesManager && \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_aacad530ef4f0c31a4addc89eb85ec8da}{hasFeature}( 
      \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a5ab094fe848056a0687d8a3c31c7fd4a}{Generator::TiledRendering} ) && (long)r->\hyperlink{classOkular_1_1PixmapRequest_a3e82f09b91a52efed7435eeb9903e5fc}{width}() * (long)r->
      \hyperlink{classOkular_1_1PixmapRequest_a782392a2efc6303994c7e0158c76ee06}{height}() > 8000000L )
1362         \{
1363             \textcolor{comment}{// if the image is too big. start using tiles}
1364             kDebug(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}).nospace() << \textcolor{stringliteral}{"Start using tiles on page "} << r->
      \hyperlink{classOkular_1_1PixmapRequest_a50f959175182137dbb9e2dbd6ddd71aa}{pageNumber}()
1365                 << \textcolor{stringliteral}{" ("} << r->\hyperlink{classOkular_1_1PixmapRequest_a3e82f09b91a52efed7435eeb9903e5fc}{width}() << \textcolor{stringliteral}{"x"} << r->\hyperlink{classOkular_1_1PixmapRequest_a782392a2efc6303994c7e0158c76ee06}{height}() << \textcolor{stringliteral}{" px);"};
1366 
1367             \textcolor{comment}{// fill the tiles manager with the last rendered pixmap}
1368             \textcolor{keyword}{const} QPixmap *pixmap = r->\hyperlink{classOkular_1_1PixmapRequest_a83b5e81f2e908e70f3c19a0a3c07fab3}{page}()->\_o\_nearestPixmap( r->\hyperlink{classOkular_1_1PixmapRequest_af7abb325ca484ded40c556cf0ad5b793}{observer}(), r->
      \hyperlink{classOkular_1_1PixmapRequest_a3e82f09b91a52efed7435eeb9903e5fc}{width}(), r->\hyperlink{classOkular_1_1PixmapRequest_a782392a2efc6303994c7e0158c76ee06}{height}() );
1369             \textcolor{keywordflow}{if} ( pixmap )
1370             \{
1371                 tilesManager = \textcolor{keyword}{new} \hyperlink{classOkular_1_1TilesManager}{TilesManager}( r->\hyperlink{classOkular_1_1PixmapRequest_a50f959175182137dbb9e2dbd6ddd71aa}{pageNumber}(), pixmap->width(), 
      pixmap->height(), r->\hyperlink{classOkular_1_1PixmapRequest_a83b5e81f2e908e70f3c19a0a3c07fab3}{page}()->\hyperlink{classOkular_1_1Page_a731947e32744bdcda791d22a2dc88726}{rotation}() );
1372                 tilesManager->\hyperlink{classOkular_1_1TilesManager_ad7d59e5d6f4a9744ecd98f052b260b79}{setPixmap}( pixmap, \hyperlink{classOkular_1_1NormalizedRect}{NormalizedRect}( 0, 0, 1, 1 ) );
1373                 tilesManager->\hyperlink{classOkular_1_1TilesManager_a166c51b55c3a95bd3595be62d986d744}{setSize}( r->\hyperlink{classOkular_1_1PixmapRequest_a3e82f09b91a52efed7435eeb9903e5fc}{width}(), r->\hyperlink{classOkular_1_1PixmapRequest_a782392a2efc6303994c7e0158c76ee06}{height}() );
1374             \}
1375             \textcolor{keywordflow}{else}
1376             \{
1377                 \textcolor{comment}{// create new tiles manager}
1378                 tilesManager = \textcolor{keyword}{new} \hyperlink{classOkular_1_1TilesManager}{TilesManager}( r->\hyperlink{classOkular_1_1PixmapRequest_a50f959175182137dbb9e2dbd6ddd71aa}{pageNumber}(), r->
      \hyperlink{classOkular_1_1PixmapRequest_a3e82f09b91a52efed7435eeb9903e5fc}{width}(), r->\hyperlink{classOkular_1_1PixmapRequest_a782392a2efc6303994c7e0158c76ee06}{height}(), r->\hyperlink{classOkular_1_1PixmapRequest_a83b5e81f2e908e70f3c19a0a3c07fab3}{page}()->\hyperlink{classOkular_1_1Page_a731947e32744bdcda791d22a2dc88726}{rotation}() );
1379             \}
1380             tilesManager->\hyperlink{classOkular_1_1TilesManager_aa5ebf86d4e4b08313047d64bdd0a8005}{setRequest}( r->\hyperlink{classOkular_1_1PixmapRequest_ab867bc095f18ece11fb14ac0201a227d}{normalizedRect}(), r->
      \hyperlink{classOkular_1_1PixmapRequest_a3e82f09b91a52efed7435eeb9903e5fc}{width}(), r->\hyperlink{classOkular_1_1PixmapRequest_a782392a2efc6303994c7e0158c76ee06}{height}() );
1381             r->\hyperlink{classOkular_1_1PixmapRequest_a83b5e81f2e908e70f3c19a0a3c07fab3}{page}()->\hyperlink{classOkular_1_1Page_a173c54714b3edd09a96175fabd8f756d}{deletePixmap}( r->\hyperlink{classOkular_1_1PixmapRequest_af7abb325ca484ded40c556cf0ad5b793}{observer}() );
1382             r->\hyperlink{classOkular_1_1PixmapRequest_a83b5e81f2e908e70f3c19a0a3c07fab3}{page}()->d->\hyperlink{classOkular_1_1PagePrivate_ad1fe37fce8a6217b9a975efcd91e7210}{setTilesManager}( r->\hyperlink{classOkular_1_1PixmapRequest_af7abb325ca484ded40c556cf0ad5b793}{observer}(), tilesManager );
1383             r->\hyperlink{classOkular_1_1PixmapRequest_a386e7798833195f24d9598f696de8f73}{setTile}( \textcolor{keyword}{true} );
1384 
1385             \textcolor{comment}{// Change normalizedRect to the smallest rect that contains all}
1386             \textcolor{comment}{// visible tiles.}
1387             \textcolor{keywordflow}{if} ( !r->\hyperlink{classOkular_1_1PixmapRequest_ab867bc095f18ece11fb14ac0201a227d}{normalizedRect}().\hyperlink{classOkular_1_1NormalizedRect_a8f9a332a6247f4716d23513af00ac045}{isNull}() )
1388             \{
1389                 \hyperlink{classOkular_1_1NormalizedRect}{NormalizedRect} tilesRect;
1390                 \textcolor{keyword}{const} \hyperlink{classQList}{QList<Tile>} tiles = tilesManager->\hyperlink{classOkular_1_1TilesManager_a11cc64225aa62df9d25e294ce71e4dcf}{tilesAt}( r->
      \hyperlink{classOkular_1_1PixmapRequest_ab867bc095f18ece11fb14ac0201a227d}{normalizedRect}(), \hyperlink{classOkular_1_1TilesManager_a89f92ae8fdfb530b5625343876f63e29a24b2eb2966bd8c2768047de2d1048d2d}{TilesManager::TerminalTile} );
1391                 \hyperlink{classQList}{QList<Tile>::const\_iterator} tIt = tiles.constBegin(), tEnd = 
      tiles.constEnd();
1392                 \textcolor{keywordflow}{while} ( tIt != tEnd )
1393                 \{
1394                     \hyperlink{classOkular_1_1Tile}{Tile} tile = *tIt;
1395                     \textcolor{keywordflow}{if} ( tilesRect.\hyperlink{classOkular_1_1NormalizedRect_a8f9a332a6247f4716d23513af00ac045}{isNull}() )
1396                         tilesRect = tile.\hyperlink{classOkular_1_1Tile_af98992ebbaa390a12a942bff6c246fca}{rect}();
1397                     \textcolor{keywordflow}{else}
1398                         tilesRect |= tile.\hyperlink{classOkular_1_1Tile_af98992ebbaa390a12a942bff6c246fca}{rect}();
1399 
1400                     ++tIt;
1401                 \}
1402 
1403                 r->\hyperlink{classOkular_1_1PixmapRequest_ada39238e8f4748b0c65dd97a3abcda77}{setNormalizedRect}( tilesRect );
1404                 request = r;
1405             \}
1406             \textcolor{keywordflow}{else}
1407             \{
1408                 \textcolor{comment}{// Discard request if normalizedRect is null. This happens in}
1409                 \textcolor{comment}{// preload requests issued by PageView if the requested page is}
1410                 \textcolor{comment}{// not visible and the user has just switched from a non-tiled}
1411                 \textcolor{comment}{// zoom level to a tiled one}
1412                 \hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.pop\_back();
1413                 \textcolor{keyword}{delete} r;
1414             \}
1415         \}
1416         \textcolor{comment}{// If the requested area is below 6000000 pixels, switch off the tile manager}
1417         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( tilesManager && (\textcolor{keywordtype}{long})r->\hyperlink{classOkular_1_1PixmapRequest_a3e82f09b91a52efed7435eeb9903e5fc}{width}() * (long)r->\hyperlink{classOkular_1_1PixmapRequest_a782392a2efc6303994c7e0158c76ee06}{height}() < 6000000L )
1418         \{
1419             kDebug(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}).nospace() << \textcolor{stringliteral}{"Stop using tiles on page "} << r->
      \hyperlink{classOkular_1_1PixmapRequest_a50f959175182137dbb9e2dbd6ddd71aa}{pageNumber}()
1420                 << \textcolor{stringliteral}{" ("} << r->\hyperlink{classOkular_1_1PixmapRequest_a3e82f09b91a52efed7435eeb9903e5fc}{width}() << \textcolor{stringliteral}{"x"} << r->\hyperlink{classOkular_1_1PixmapRequest_a782392a2efc6303994c7e0158c76ee06}{height}() << \textcolor{stringliteral}{" px);"};
1421 
1422             \textcolor{comment}{// page is too small. stop using tiles.}
1423             r->\hyperlink{classOkular_1_1PixmapRequest_a83b5e81f2e908e70f3c19a0a3c07fab3}{page}()->\hyperlink{classOkular_1_1Page_a173c54714b3edd09a96175fabd8f756d}{deletePixmap}( r->\hyperlink{classOkular_1_1PixmapRequest_af7abb325ca484ded40c556cf0ad5b793}{observer}() );
1424             r->\hyperlink{classOkular_1_1PixmapRequest_a386e7798833195f24d9598f696de8f73}{setTile}( \textcolor{keyword}{false} );
1425 
1426             request = r;
1427         \}
1428         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( (\textcolor{keywordtype}{long})requestRect.width() * (long)requestRect.height() > 20000000L )
1429         \{
1430             \hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.pop\_back();
1431             \textcolor{keywordflow}{if} ( !\hyperlink{classOkular_1_1DocumentPrivate_a0d88f3c05c3c5b7645c6a12fde948759}{m\_warnedOutOfMemory} )
1432             \{
1433                 kWarning(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}).nospace() << \textcolor{stringliteral}{"Running out of memory on page "} << r->
      \hyperlink{classOkular_1_1PixmapRequest_a50f959175182137dbb9e2dbd6ddd71aa}{pageNumber}()
1434                     << \textcolor{stringliteral}{" ("} << r->\hyperlink{classOkular_1_1PixmapRequest_a3e82f09b91a52efed7435eeb9903e5fc}{width}() << \textcolor{stringliteral}{"x"} << r->\hyperlink{classOkular_1_1PixmapRequest_a782392a2efc6303994c7e0158c76ee06}{height}() << \textcolor{stringliteral}{" px);"};
1435                 kWarning(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}) << \textcolor{stringliteral}{"this message will be reported only once."};
1436                 \hyperlink{classOkular_1_1DocumentPrivate_a0d88f3c05c3c5b7645c6a12fde948759}{m\_warnedOutOfMemory} = \textcolor{keyword}{true};
1437             \}
1438             \textcolor{keyword}{delete} r;
1439         \}
1440         \textcolor{keywordflow}{else}
1441         \{
1442             request = r;
1443         \}
1444     \}
1445 
1446     \textcolor{comment}{// if no request found (or already generated), return}
1447     \textcolor{keywordflow}{if} ( !request )
1448     \{
1449         \hyperlink{classOkular_1_1DocumentPrivate_a5c0e919d575a7a3c19a42c64a672fce4}{m\_pixmapRequestsMutex}.unlock();
1450         \textcolor{keywordflow}{return};
1451     \}
1452 
1453     \textcolor{comment}{// [MEM] preventive memory freeing}
1454     qulonglong pixmapBytes = 0;
1455     \hyperlink{classOkular_1_1TilesManager}{TilesManager} * tm = request->d->\hyperlink{classOkular_1_1PixmapRequestPrivate_a1765ff434c6bd718628d02bbca3cb271}{tilesManager}();
1456     \textcolor{keywordflow}{if} ( tm )
1457         pixmapBytes = tm->\hyperlink{classOkular_1_1TilesManager_a7baf6b1ce882f1fea1499fa956097c23}{totalMemory}();
1458     \textcolor{keywordflow}{else}
1459         pixmapBytes = 4 * request->\hyperlink{classOkular_1_1PixmapRequest_a3e82f09b91a52efed7435eeb9903e5fc}{width}() * request->\hyperlink{classOkular_1_1PixmapRequest_a782392a2efc6303994c7e0158c76ee06}{height}();
1460 
1461     \textcolor{keywordflow}{if} ( pixmapBytes > (1024 * 1024) )
1462         \hyperlink{classOkular_1_1DocumentPrivate_a8490b106f8f873de76b7ca6dcb1320f0}{cleanupPixmapMemory}( memoryToFree \textcolor{comment}{/* previously calculated value */} );
1463 
1464     \textcolor{comment}{// submit the request to the generator}
1465     \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_abbf00927221e2d2b2b71101f2b7f5732}{canGeneratePixmap}() )
1466     \{
1467         QRect requestRect = !request->\hyperlink{classOkular_1_1PixmapRequest_a7e50105623628d53dc9d82c45d7863bd}{isTile}() ? QRect(0, 0, request->
      \hyperlink{classOkular_1_1PixmapRequest_a3e82f09b91a52efed7435eeb9903e5fc}{width}(), request->\hyperlink{classOkular_1_1PixmapRequest_a782392a2efc6303994c7e0158c76ee06}{height}() ) : request->\hyperlink{classOkular_1_1PixmapRequest_ab867bc095f18ece11fb14ac0201a227d}{normalizedRect}().
      \hyperlink{classOkular_1_1NormalizedRect_a006897c5fcff2c3a97b4141f1a967513}{geometry}( request->\hyperlink{classOkular_1_1PixmapRequest_a3e82f09b91a52efed7435eeb9903e5fc}{width}(), request->\hyperlink{classOkular_1_1PixmapRequest_a782392a2efc6303994c7e0158c76ee06}{height}() );
1468         kDebug(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}).nospace() << \textcolor{stringliteral}{"sending request observer="} << request->
      \hyperlink{classOkular_1_1PixmapRequest_af7abb325ca484ded40c556cf0ad5b793}{observer}() << \textcolor{stringliteral}{" "} <<requestRect.width() << \textcolor{stringliteral}{"x"} << requestRect.height() << \textcolor{stringliteral}{"@"} << request->
      \hyperlink{classOkular_1_1PixmapRequest_a50f959175182137dbb9e2dbd6ddd71aa}{pageNumber}() << \textcolor{stringliteral}{" async == "} << request->\hyperlink{classOkular_1_1PixmapRequest_a11fee76ef3da1589a28d455519c946a7}{asynchronous}() << \textcolor{stringliteral}{" isTile == "} << request->
      \hyperlink{classOkular_1_1PixmapRequest_a7e50105623628d53dc9d82c45d7863bd}{isTile}();
1469         \hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.removeAll ( request );
1470 
1471         \textcolor{keywordflow}{if} ( tm )
1472             tm->\hyperlink{classOkular_1_1TilesManager_aa5ebf86d4e4b08313047d64bdd0a8005}{setRequest}( request->\hyperlink{classOkular_1_1PixmapRequest_ab867bc095f18ece11fb14ac0201a227d}{normalizedRect}(), request->
      \hyperlink{classOkular_1_1PixmapRequest_a3e82f09b91a52efed7435eeb9903e5fc}{width}(), request->\hyperlink{classOkular_1_1PixmapRequest_a782392a2efc6303994c7e0158c76ee06}{height}() );
1473 
1474         \textcolor{keywordflow}{if} ( (\textcolor{keywordtype}{int})\hyperlink{classOkular_1_1DocumentPrivate_a5b7f4c2b5937d311b277c2e90826ee1b}{m\_rotation} % 2 )
1475             request->d->\hyperlink{classOkular_1_1PixmapRequestPrivate_af6ce453365b841797d1c4db52f62f15e}{swap}();
1476 
1477         \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1DocumentPrivate_a5b7f4c2b5937d311b277c2e90826ee1b}{m\_rotation} != \hyperlink{namespaceOkular_a8556d00465f61ef533c6b027669e7da6aa4df8fc3dd09e30520c264c8d23d89c2}{Rotation0} && !request->
      \hyperlink{classOkular_1_1PixmapRequest_ab867bc095f18ece11fb14ac0201a227d}{normalizedRect}().\hyperlink{classOkular_1_1NormalizedRect_a8f9a332a6247f4716d23513af00ac045}{isNull}() )
1478             request->\hyperlink{classOkular_1_1PixmapRequest_ada39238e8f4748b0c65dd97a3abcda77}{setNormalizedRect}( 
      \hyperlink{classOkular_1_1TilesManager_a3471602199e2194087e90a3970d07c6c}{TilesManager::fromRotatedRect}(
1479                         request->\hyperlink{classOkular_1_1PixmapRequest_ab867bc095f18ece11fb14ac0201a227d}{normalizedRect}(), \hyperlink{classOkular_1_1DocumentPrivate_a5b7f4c2b5937d311b277c2e90826ee1b}{m\_rotation} ) );
1480 
1481         \textcolor{comment}{// we always have to unlock \_before\_ the generatePixmap() because}
1482         \textcolor{comment}{// a sync generation would end with requestDone() -> deadlock, and}
1483         \textcolor{comment}{// we can not really know if the generator can do async requests}
1484         \hyperlink{classOkular_1_1DocumentPrivate_adc84c2f8f76e7880b41e155edabf69e7}{m\_executingPixmapRequests}.push\_back( request );
1485         \hyperlink{classOkular_1_1DocumentPrivate_a5c0e919d575a7a3c19a42c64a672fce4}{m\_pixmapRequestsMutex}.unlock();
1486         \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_a198cdcd9c27b179562c935342fd457b6}{generatePixmap}( request );
1487     \}
1488     \textcolor{keywordflow}{else}
1489     \{
1490         \hyperlink{classOkular_1_1DocumentPrivate_a5c0e919d575a7a3c19a42c64a672fce4}{m\_pixmapRequestsMutex}.unlock();
1491         \textcolor{comment}{// pino (7/4/2006): set the polling interval from 10 to 30}
1492         QTimer::singleShot( 30, \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}, SLOT(
      \hyperlink{classOkular_1_1DocumentPrivate_a0b3b0924831ddf8b6b68bd74a9d6f162}{sendGeneratorPixmapRequest}()) );
1493     \}
1494 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_afb6d3e039a27008d1c01cbd7e7c53251}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!set\+Page\+Bounding\+Box@{set\+Page\+Bounding\+Box}}
\index{set\+Page\+Bounding\+Box@{set\+Page\+Bounding\+Box}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{set\+Page\+Bounding\+Box}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::set\+Page\+Bounding\+Box (
\begin{DoxyParamCaption}
\item[{int}]{page, }
\item[{const {\bf Normalized\+Rect} \&}]{bounding\+Box}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_afb6d3e039a27008d1c01cbd7e7c53251}
Sets the bounding box of the given {\ttfamily page} (in terms of upright orientation, i.\+e., Rotation0). 

Definition at line 4418 of file document.\+cpp.


\begin{DoxyCode}
4419 \{
4420     \hyperlink{classOkular_1_1Page}{Page} * kp = \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}[ page ];
4421     \textcolor{keywordflow}{if} ( !\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} || !kp )
4422         \textcolor{keywordflow}{return};
4423 
4424     \textcolor{keywordflow}{if} ( kp->\hyperlink{classOkular_1_1Page_abaa4dd95f6281d3a7773cf1e3a5ae39a}{boundingBox}() == boundingBox )
4425         \textcolor{keywordflow}{return};
4426     kp->\hyperlink{classOkular_1_1Page_aba284480da607c079dc105f38ffe91ed}{setBoundingBox}( boundingBox );
4427 
4428     \textcolor{comment}{// notify observers about the change}
4429     \hyperlink{core_2document_8cpp_a213572010703f4fcbc3229b09d665d3c}{foreachObserverD}( notifyPageChanged( page, 
      \hyperlink{classOkular_1_1DocumentObserver_af0e6b09d5fc7ecb673bd4895ef2710dca55dd38c482d00976565314a6b353e948}{DocumentObserver::BoundingBox} ) );
4430 
4431     \textcolor{comment}{// TODO: For generators that generate the bbox by pixmap scanning, if the first generated pixmap is
       very small, the bounding box will forever be inaccurate.}
4432     \textcolor{comment}{// TODO: Crop computation should also consider annotations, actions, etc. to make sure they're not
       cropped away.}
4433     \textcolor{comment}{// TODO: Help compute bounding box for generators that create a QPixmap without a QImage, like text and
       plucker.}
4434     \textcolor{comment}{// TODO: Don't compute the bounding box if no one needs it (e.g., Trim Borders is off).}
4435 
4436 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_aceccc21fbf3022c439eb011a452a06fa}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!set\+Rotation\+Internal@{set\+Rotation\+Internal}}
\index{set\+Rotation\+Internal@{set\+Rotation\+Internal}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{set\+Rotation\+Internal}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::set\+Rotation\+Internal (
\begin{DoxyParamCaption}
\item[{int}]{r, }
\item[{bool}]{notify}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_aceccc21fbf3022c439eb011a452a06fa}


Definition at line 4484 of file document.\+cpp.


\begin{DoxyCode}
4485 \{
4486     \hyperlink{namespaceOkular_a8556d00465f61ef533c6b027669e7da6}{Rotation} rotation = (\hyperlink{namespaceOkular_a8556d00465f61ef533c6b027669e7da6}{Rotation})r;
4487     \textcolor{keywordflow}{if} ( !\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} || ( \hyperlink{classOkular_1_1DocumentPrivate_a5b7f4c2b5937d311b277c2e90826ee1b}{m\_rotation} == rotation ) )
4488     \textcolor{keywordflow}{return};
4489 
4490     \textcolor{comment}{// tell the pages to rotate}
4491     QVector< Okular::Page * >::const\_iterator pIt = \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.constBegin();
4492     QVector< Okular::Page * >::const\_iterator pEnd = \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.constEnd();
4493     \textcolor{keywordflow}{for} ( ; pIt != pEnd; ++pIt )
4494         (*pIt)->d->rotateAt( rotation );
4495     \textcolor{keywordflow}{if} ( notify )
4496     \{
4497         \textcolor{comment}{// notify the generator that the current rotation has changed}
4498         \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_a46e155b74cccf91f48ad58eafcc7a716}{rotationChanged}( rotation, 
      \hyperlink{classOkular_1_1DocumentPrivate_a5b7f4c2b5937d311b277c2e90826ee1b}{m\_rotation} );
4499     \}
4500     \textcolor{comment}{// set the new rotation}
4501     \hyperlink{classOkular_1_1DocumentPrivate_a5b7f4c2b5937d311b277c2e90826ee1b}{m\_rotation} = rotation;
4502 
4503     \textcolor{keywordflow}{if} ( notify )
4504     \{
4505         \hyperlink{core_2document_8cpp_a213572010703f4fcbc3229b09d665d3c}{foreachObserverD}( notifySetup( \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}, 
      \hyperlink{classOkular_1_1DocumentObserver_aba00584af99894f95a9650e91f109d40a053812331fcd35ccec8538c45d209799}{DocumentObserver::NewLayoutForPages} ) );
4506         \hyperlink{core_2document_8cpp_a213572010703f4fcbc3229b09d665d3c}{foreachObserverD}( notifyContentsCleared( 
      \hyperlink{classOkular_1_1DocumentObserver_af0e6b09d5fc7ecb673bd4895ef2710dca3263576701c6ec7dc0a8e8945054db56}{DocumentObserver::Pixmap} | \hyperlink{classOkular_1_1DocumentObserver_af0e6b09d5fc7ecb673bd4895ef2710dcac6ac9d40408f28401cdde8b2e57c3afc}{DocumentObserver::Highlights}
       | \hyperlink{classOkular_1_1DocumentObserver_af0e6b09d5fc7ecb673bd4895ef2710dca05bd23206e8303026c0b598095d8552e}{DocumentObserver::Annotations} ) );
4507     \}
4508     kDebug(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}) << \textcolor{stringliteral}{"Rotated:"} << r;
4509 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_ac0b99c380600e6bfaa812b6dff144ac5}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!slot\+Generator\+Config\+Changed@{slot\+Generator\+Config\+Changed}}
\index{slot\+Generator\+Config\+Changed@{slot\+Generator\+Config\+Changed}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{slot\+Generator\+Config\+Changed}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::slot\+Generator\+Config\+Changed (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_ac0b99c380600e6bfaa812b6dff144ac5}


Definition at line 1526 of file document.\+cpp.


\begin{DoxyCode}
1527 \{
1528     \textcolor{keywordflow}{if} ( !\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
1529         \textcolor{keywordflow}{return};
1530 
1531     \textcolor{comment}{// reparse generator config and if something changed clear Pages}
1532     \textcolor{keywordtype}{bool} configchanged = \textcolor{keyword}{false};
1533     QHash< QString, GeneratorInfo >::iterator it = \hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.begin(), itEnd = 
      \hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.end();
1534     \textcolor{keywordflow}{for} ( ; it != itEnd; ++it )
1535     \{
1536         \hyperlink{classOkular_1_1ConfigInterface}{Okular::ConfigInterface} * iface = \hyperlink{classOkular_1_1DocumentPrivate_ac40c31099a6fd5d842ae94e5557b9700}{generatorConfig}( it.value()
       );
1537         \textcolor{keywordflow}{if} ( iface )
1538         \{
1539             \textcolor{keywordtype}{bool} it\_changed = iface->\hyperlink{classOkular_1_1ConfigInterface_a0f61ec6852e483b898efd9709b1ef63b}{reparseConfig}();
1540             \textcolor{keywordflow}{if} ( it\_changed && ( \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} == it.value().generator ) )
1541                 configchanged = \textcolor{keyword}{true};
1542         \}
1543     \}
1544     \textcolor{keywordflow}{if} ( configchanged )
1545     \{
1546         \textcolor{comment}{// invalidate pixmaps}
1547         QVector<Page*>::const\_iterator it = \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.constBegin(), end = 
      \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.constEnd();
1548         \textcolor{keywordflow}{for} ( ; it != end; ++it ) \{
1549             (*it)->deletePixmaps();
1550         \}
1551 
1552         \textcolor{comment}{// [MEM] remove allocation descriptors}
1553         qDeleteAll( \hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps} );
1554         \hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps}.clear();
1555         \hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\_allocatedPixmapsTotalMemory} = 0;
1556 
1557         \textcolor{comment}{// send reload signals to observers}
1558         \hyperlink{core_2document_8cpp_a213572010703f4fcbc3229b09d665d3c}{foreachObserverD}( notifyContentsCleared( 
      \hyperlink{classOkular_1_1DocumentObserver_af0e6b09d5fc7ecb673bd4895ef2710dca3263576701c6ec7dc0a8e8945054db56}{DocumentObserver::Pixmap} ) );
1559     \}
1560 
1561     \textcolor{comment}{// free memory if in 'low' profile}
1562     \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1SettingsCore_a07d75a8b7db6da9213663287a87e3226}{SettingsCore::memoryLevel}() == 
      \hyperlink{classOkular_1_1SettingsCore_1_1EnumMemoryLevel_a6dcad4c36c335a5cab78f24dd88090b4aa61e4f07eed0bf070a41fb0998e8c3b5}{SettingsCore::EnumMemoryLevel::Low} &&
1563          !\hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps}.isEmpty() && !\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.isEmpty() )
1564         \hyperlink{classOkular_1_1DocumentPrivate_a8490b106f8f873de76b7ca6dcb1320f0}{cleanupPixmapMemory}();
1565 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_afc59759984a6087f17862a595903da5f}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!slot\+Timed\+Memory\+Check@{slot\+Timed\+Memory\+Check}}
\index{slot\+Timed\+Memory\+Check@{slot\+Timed\+Memory\+Check}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{slot\+Timed\+Memory\+Check}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::slot\+Timed\+Memory\+Check (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_afc59759984a6087f17862a595903da5f}


Definition at line 1296 of file document.\+cpp.


\begin{DoxyCode}
1297 \{
1298     \textcolor{comment}{// [MEM] clean memory (for 'free mem dependant' profiles only)}
1299     \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1SettingsCore_a07d75a8b7db6da9213663287a87e3226}{SettingsCore::memoryLevel}() != 
      \hyperlink{classOkular_1_1SettingsCore_1_1EnumMemoryLevel_a6dcad4c36c335a5cab78f24dd88090b4aa61e4f07eed0bf070a41fb0998e8c3b5}{SettingsCore::EnumMemoryLevel::Low} &&
1300          \hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\_allocatedPixmapsTotalMemory} > 1024*1024 )
1301         \hyperlink{classOkular_1_1DocumentPrivate_a8490b106f8f873de76b7ca6dcb1320f0}{cleanupPixmapMemory}();
1302 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a3d7b607de4146b9639564f7385ff5e86}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!text\+Generation\+Done@{text\+Generation\+Done}}
\index{text\+Generation\+Done@{text\+Generation\+Done}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{text\+Generation\+Done}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::text\+Generation\+Done (
\begin{DoxyParamCaption}
\item[{{\bf Page} $\ast$}]{page}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a3d7b607de4146b9639564f7385ff5e86}


Definition at line 4461 of file document.\+cpp.


\begin{DoxyCode}
4462 \{
4463     \textcolor{keywordflow}{if} ( !\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} || \hyperlink{classOkular_1_1DocumentPrivate_a836cb1b614d8d25bad8403dfd746ef00}{m\_closingLoop} ) \textcolor{keywordflow}{return};
4464 
4465     \textcolor{comment}{// 1. If we reached the cache limit, delete the first text page from the fifo}
4466     \textcolor{keywordflow}{if} (\hyperlink{classOkular_1_1DocumentPrivate_a2fb5e844b3870b8cff42a4c3b4bdfd48}{m\_allocatedTextPagesFifo}.size() == 
      \hyperlink{classOkular_1_1DocumentPrivate_ad1a0b7d1cb235cc915a46d242a04e1dc}{m\_maxAllocatedTextPages})
4467     \{
4468         \textcolor{keywordtype}{int} pageToKick = \hyperlink{classOkular_1_1DocumentPrivate_a2fb5e844b3870b8cff42a4c3b4bdfd48}{m\_allocatedTextPagesFifo}.takeFirst();
4469         \textcolor{keywordflow}{if} (pageToKick != page->\hyperlink{classOkular_1_1Page_a6eee5f157a130b47d81ddd63e501664b}{number}()) \textcolor{comment}{// this should never happen but better be safe than sorry}
4470         \{
4471             \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.at(pageToKick)->setTextPage( 0 ); \textcolor{comment}{// deletes the textpage}
4472         \}
4473     \}
4474 
4475     \textcolor{comment}{// 2. Add the page to the fifo of generated text pages}
4476     \hyperlink{classOkular_1_1DocumentPrivate_a2fb5e844b3870b8cff42a4c3b4bdfd48}{m\_allocatedTextPagesFifo}.append( page->\hyperlink{classOkular_1_1Page_a6eee5f157a130b47d81ddd63e501664b}{number}() );
4477 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_a499afa495dece15b37a7df356c178805}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!unload\+Generator@{unload\+Generator}}
\index{unload\+Generator@{unload\+Generator}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{unload\+Generator}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::unload\+Generator (
\begin{DoxyParamCaption}
\item[{const {\bf Generator\+Info} \&}]{info}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_a499afa495dece15b37a7df356c178805}


Definition at line 864 of file document.\+cpp.


\begin{DoxyCode}
865 \{
866     \textcolor{keyword}{delete} info.\hyperlink{structGeneratorInfo_ac8796e620ca4a6f3fb08f610c14a6ec2}{generator};
867 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1DocumentPrivate_abfb2abf66a3eb0536063c818a8e793e9}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!warn\+Limited\+Annot\+Support@{warn\+Limited\+Annot\+Support}}
\index{warn\+Limited\+Annot\+Support@{warn\+Limited\+Annot\+Support}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{warn\+Limited\+Annot\+Support}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+Private\+::warn\+Limited\+Annot\+Support (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1DocumentPrivate_abfb2abf66a3eb0536063c818a8e793e9}


Definition at line 1037 of file document.\+cpp.


\begin{DoxyCode}
1038 \{
1039     \textcolor{keywordflow}{if} ( !\hyperlink{classOkular_1_1DocumentPrivate_a1d12aaa9b1f2726a8e19b416587062c9}{m\_showWarningLimitedAnnotSupport} )
1040         \textcolor{keywordflow}{return};
1041     \hyperlink{classOkular_1_1DocumentPrivate_a1d12aaa9b1f2726a8e19b416587062c9}{m\_showWarningLimitedAnnotSupport} = \textcolor{keyword}{false}; \textcolor{comment}{// Show the warning once}
1042 
1043     \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1DocumentPrivate_a44f722aa34fee888929abd92fe54ad82}{m\_annotationsNeedSaveAs} )
1044     \{
1045         \textcolor{comment}{// Shown if the user is editing annotations in a file whose metadata is}
1046         \textcolor{comment}{// not stored locally (.okular archives belong to this category)}
1047         KMessageBox::information( \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_aef26598eca4c2fe772cc77d7730a9e8b}{widget}(), i18n(\textcolor{stringliteral}{"Your annotation changes will not
       be saved automatically. Use File -> Save As...\(\backslash\)nor your changes will be lost once the document is closed"}), 
      QString(), \textcolor{stringliteral}{"annotNeedSaveAs"} );
1048     \}
1049     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( !\hyperlink{classOkular_1_1DocumentPrivate_ac0e0b9633df5fbd632e9ffa865b0f04b}{canAddAnnotationsNatively}() )
1050     \{
1051         \textcolor{comment}{// If the generator doesn't support native annotations}
1052         KMessageBox::information( \hyperlink{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{m\_parent}->\hyperlink{classOkular_1_1Document_aef26598eca4c2fe772cc77d7730a9e8b}{widget}(), i18n(\textcolor{stringliteral}{"Your annotations are saved
       internally by Okular.\(\backslash\)nYou can export the annotated document using File -> Export As -> Document Archive"}), 
      QString(), \textcolor{stringliteral}{"annotExportAsArchive"} );
1053     \}
1054 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+allocated\+Pixmaps@{m\+\_\+allocated\+Pixmaps}}
\index{m\+\_\+allocated\+Pixmaps@{m\+\_\+allocated\+Pixmaps}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+allocated\+Pixmaps}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Q\+Linked\+List}$<$ {\bf Allocated\+Pixmap} $\ast$ $>$ Okular\+::\+Document\+Private\+::m\+\_\+allocated\+Pixmaps}}\label{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}


Definition at line 222 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+allocated\+Pixmaps\+Total\+Memory@{m\+\_\+allocated\+Pixmaps\+Total\+Memory}}
\index{m\+\_\+allocated\+Pixmaps\+Total\+Memory@{m\+\_\+allocated\+Pixmaps\+Total\+Memory}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+allocated\+Pixmaps\+Total\+Memory}]{\setlength{\rightskip}{0pt plus 5cm}qulonglong Okular\+::\+Document\+Private\+::m\+\_\+allocated\+Pixmaps\+Total\+Memory}}\label{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}


Definition at line 223 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a2fb5e844b3870b8cff42a4c3b4bdfd48}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+allocated\+Text\+Pages\+Fifo@{m\+\_\+allocated\+Text\+Pages\+Fifo}}
\index{m\+\_\+allocated\+Text\+Pages\+Fifo@{m\+\_\+allocated\+Text\+Pages\+Fifo}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+allocated\+Text\+Pages\+Fifo}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Q\+List}$<$ int $>$ Okular\+::\+Document\+Private\+::m\+\_\+allocated\+Text\+Pages\+Fifo}}\label{classOkular_1_1DocumentPrivate_a2fb5e844b3870b8cff42a4c3b4bdfd48}


Definition at line 224 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a57c1dee8543960398669cb927fab17cc}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+annotation\+Being\+Moved@{m\+\_\+annotation\+Being\+Moved}}
\index{m\+\_\+annotation\+Being\+Moved@{m\+\_\+annotation\+Being\+Moved}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+annotation\+Being\+Moved}]{\setlength{\rightskip}{0pt plus 5cm}bool Okular\+::\+Document\+Private\+::m\+\_\+annotation\+Being\+Moved}}\label{classOkular_1_1DocumentPrivate_a57c1dee8543960398669cb927fab17cc}


Definition at line 275 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a700587218254ae03f4ade5fee8ff487c}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+annotation\+Editing\+Enabled@{m\+\_\+annotation\+Editing\+Enabled}}
\index{m\+\_\+annotation\+Editing\+Enabled@{m\+\_\+annotation\+Editing\+Enabled}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+annotation\+Editing\+Enabled}]{\setlength{\rightskip}{0pt plus 5cm}bool Okular\+::\+Document\+Private\+::m\+\_\+annotation\+Editing\+Enabled}}\label{classOkular_1_1DocumentPrivate_a700587218254ae03f4ade5fee8ff487c}


Definition at line 273 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a44f722aa34fee888929abd92fe54ad82}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+annotations\+Need\+Save\+As@{m\+\_\+annotations\+Need\+Save\+As}}
\index{m\+\_\+annotations\+Need\+Save\+As@{m\+\_\+annotations\+Need\+Save\+As}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+annotations\+Need\+Save\+As}]{\setlength{\rightskip}{0pt plus 5cm}bool Okular\+::\+Document\+Private\+::m\+\_\+annotations\+Need\+Save\+As}}\label{classOkular_1_1DocumentPrivate_a44f722aa34fee888929abd92fe54ad82}


Definition at line 274 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a135bb6fa2886b0eb86e9a1b72fd8d25b}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+archive\+Data@{m\+\_\+archive\+Data}}
\index{m\+\_\+archive\+Data@{m\+\_\+archive\+Data}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+archive\+Data}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Archive\+Data}$\ast$ Okular\+::\+Document\+Private\+::m\+\_\+archive\+Data}}\label{classOkular_1_1DocumentPrivate_a135bb6fa2886b0eb86e9a1b72fd8d25b}


Definition at line 263 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_ac47be11934cb0cb3e7d8876e3e4653af}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+archived\+File\+Name@{m\+\_\+archived\+File\+Name}}
\index{m\+\_\+archived\+File\+Name@{m\+\_\+archived\+File\+Name}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+archived\+File\+Name}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String Okular\+::\+Document\+Private\+::m\+\_\+archived\+File\+Name}}\label{classOkular_1_1DocumentPrivate_ac47be11934cb0cb3e7d8876e3e4653af}


Definition at line 264 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a098282fb7e82c81ea9402333864fd389}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+bookmark\+Manager@{m\+\_\+bookmark\+Manager}}
\index{m\+\_\+bookmark\+Manager@{m\+\_\+bookmark\+Manager}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+bookmark\+Manager}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Bookmark\+Manager}$\ast$ Okular\+::\+Document\+Private\+::m\+\_\+bookmark\+Manager}}\label{classOkular_1_1DocumentPrivate_a098282fb7e82c81ea9402333864fd389}


Definition at line 242 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a836cb1b614d8d25bad8403dfd746ef00}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+closing\+Loop@{m\+\_\+closing\+Loop}}
\index{m\+\_\+closing\+Loop@{m\+\_\+closing\+Loop}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+closing\+Loop}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Event\+Loop$\ast$ Okular\+::\+Document\+Private\+::m\+\_\+closing\+Loop}}\label{classOkular_1_1DocumentPrivate_a836cb1b614d8d25bad8403dfd746ef00}


Definition at line 259 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_af56dcee87c3465c69da7cea920b95fbb}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+doc\+File\+Name@{m\+\_\+doc\+File\+Name}}
\index{m\+\_\+doc\+File\+Name@{m\+\_\+doc\+File\+Name}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+doc\+File\+Name}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String Okular\+::\+Document\+Private\+::m\+\_\+doc\+File\+Name}}\label{classOkular_1_1DocumentPrivate_af56dcee87c3465c69da7cea920b95fbb}


Definition at line 206 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_afe0b6665f1386848faf6e6763e7f6cf4}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+doc\+Size@{m\+\_\+doc\+Size}}
\index{m\+\_\+doc\+Size@{m\+\_\+doc\+Size}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+doc\+Size}]{\setlength{\rightskip}{0pt plus 5cm}qint64 Okular\+::\+Document\+Private\+::m\+\_\+doc\+Size}}\label{classOkular_1_1DocumentPrivate_afe0b6665f1386848faf6e6763e7f6cf4}


Definition at line 209 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a4452394f3abc747fa0b4910c33806371}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+document\+Info@{m\+\_\+document\+Info}}
\index{m\+\_\+document\+Info@{m\+\_\+document\+Info}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+document\+Info}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Document\+Info}$\ast$ Okular\+::\+Document\+Private\+::m\+\_\+document\+Info}}\label{classOkular_1_1DocumentPrivate_a4452394f3abc747fa0b4910c33806371}


Definition at line 268 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_adc84c2f8f76e7880b41e155edabf69e7}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+executing\+Pixmap\+Requests@{m\+\_\+executing\+Pixmap\+Requests}}
\index{m\+\_\+executing\+Pixmap\+Requests@{m\+\_\+executing\+Pixmap\+Requests}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+executing\+Pixmap\+Requests}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Q\+Linked\+List}$<$ {\bf Pixmap\+Request} $\ast$ $>$ Okular\+::\+Document\+Private\+::m\+\_\+executing\+Pixmap\+Requests}}\label{classOkular_1_1DocumentPrivate_adc84c2f8f76e7880b41e155edabf69e7}


Definition at line 220 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_ad738776539c25a2b18b0d482c406b424}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+export\+Cached@{m\+\_\+export\+Cached}}
\index{m\+\_\+export\+Cached@{m\+\_\+export\+Cached}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+export\+Cached}]{\setlength{\rightskip}{0pt plus 5cm}bool Okular\+::\+Document\+Private\+::m\+\_\+export\+Cached}}\label{classOkular_1_1DocumentPrivate_ad738776539c25a2b18b0d482c406b424}


Definition at line 237 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a674e49f7a287a70630bc5550b1a44169}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+export\+Formats@{m\+\_\+export\+Formats}}
\index{m\+\_\+export\+Formats@{m\+\_\+export\+Formats}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+export\+Formats}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Export\+Format\+::\+List} Okular\+::\+Document\+Private\+::m\+\_\+export\+Formats}}\label{classOkular_1_1DocumentPrivate_a674e49f7a287a70630bc5550b1a44169}


Definition at line 238 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a6c71a54787a3a6d6c16f79e2eb77ebbd}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+export\+To\+Text@{m\+\_\+export\+To\+Text}}
\index{m\+\_\+export\+To\+Text@{m\+\_\+export\+To\+Text}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+export\+To\+Text}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Export\+Format} Okular\+::\+Document\+Private\+::m\+\_\+export\+To\+Text}}\label{classOkular_1_1DocumentPrivate_a6c71a54787a3a6d6c16f79e2eb77ebbd}


Definition at line 239 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a9be70502279da0a275889e504409c7e5}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+fonts\+Cache@{m\+\_\+fonts\+Cache}}
\index{m\+\_\+fonts\+Cache@{m\+\_\+fonts\+Cache}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+fonts\+Cache}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Font\+Info\+::\+List} Okular\+::\+Document\+Private\+::m\+\_\+fonts\+Cache}}\label{classOkular_1_1DocumentPrivate_a9be70502279da0a275889e504409c7e5}


Definition at line 269 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_aa33ab887df80e7df7c9d7a5eecff000e}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+fonts\+Cached@{m\+\_\+fonts\+Cached}}
\index{m\+\_\+fonts\+Cached@{m\+\_\+fonts\+Cached}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+fonts\+Cached}]{\setlength{\rightskip}{0pt plus 5cm}bool Okular\+::\+Document\+Private\+::m\+\_\+fonts\+Cached}}\label{classOkular_1_1DocumentPrivate_aa33ab887df80e7df7c9d7a5eecff000e}


Definition at line 267 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a7d89f5349531b52b4109855269a6a4c4}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+font\+Thread@{m\+\_\+font\+Thread}}
\index{m\+\_\+font\+Thread@{m\+\_\+font\+Thread}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+font\+Thread}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Pointer$<$ {\bf Font\+Extraction\+Thread} $>$ Okular\+::\+Document\+Private\+::m\+\_\+font\+Thread}}\label{classOkular_1_1DocumentPrivate_a7d89f5349531b52b4109855269a6a4c4}


Definition at line 266 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+generator@{m\+\_\+generator}}
\index{m\+\_\+generator@{m\+\_\+generator}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+generator}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Generator}$\ast$ Okular\+::\+Document\+Private\+::m\+\_\+generator}}\label{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}


Definition at line 249 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a4f02c151d836f43f47a6eeb614b25bf0}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+generator\+Name@{m\+\_\+generator\+Name}}
\index{m\+\_\+generator\+Name@{m\+\_\+generator\+Name}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+generator\+Name}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String Okular\+::\+Document\+Private\+::m\+\_\+generator\+Name}}\label{classOkular_1_1DocumentPrivate_a4f02c151d836f43f47a6eeb614b25bf0}


Definition at line 250 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a443010c7211e13e1589b1124a9147dd0}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+generators\+Loaded@{m\+\_\+generators\+Loaded}}
\index{m\+\_\+generators\+Loaded@{m\+\_\+generators\+Loaded}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+generators\+Loaded}]{\setlength{\rightskip}{0pt plus 5cm}bool Okular\+::\+Document\+Private\+::m\+\_\+generators\+Loaded}}\label{classOkular_1_1DocumentPrivate_a443010c7211e13e1589b1124a9147dd0}


Definition at line 251 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a83278116cf6b0e38d834c8e416e17de6}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+last\+Search\+I\+D@{m\+\_\+last\+Search\+I\+D}}
\index{m\+\_\+last\+Search\+I\+D@{m\+\_\+last\+Search\+I\+D}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+last\+Search\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}int Okular\+::\+Document\+Private\+::m\+\_\+last\+Search\+I\+D}}\label{classOkular_1_1DocumentPrivate_a83278116cf6b0e38d834c8e416e17de6}


Definition at line 198 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+loaded\+Generators@{m\+\_\+loaded\+Generators}}
\index{m\+\_\+loaded\+Generators@{m\+\_\+loaded\+Generators}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+loaded\+Generators}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Hash$<$Q\+String, {\bf Generator\+Info}$>$ Okular\+::\+Document\+Private\+::m\+\_\+loaded\+Generators}}\label{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}


Definition at line 248 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_ad1a0b7d1cb235cc915a46d242a04e1dc}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+max\+Allocated\+Text\+Pages@{m\+\_\+max\+Allocated\+Text\+Pages}}
\index{m\+\_\+max\+Allocated\+Text\+Pages@{m\+\_\+max\+Allocated\+Text\+Pages}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+max\+Allocated\+Text\+Pages}]{\setlength{\rightskip}{0pt plus 5cm}int Okular\+::\+Document\+Private\+::m\+\_\+max\+Allocated\+Text\+Pages}}\label{classOkular_1_1DocumentPrivate_ad1a0b7d1cb235cc915a46d242a04e1dc}


Definition at line 225 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_aa403a95dfe9f344c12c7409319aaf62f}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+mem\+Check\+Timer@{m\+\_\+mem\+Check\+Timer}}
\index{m\+\_\+mem\+Check\+Timer@{m\+\_\+mem\+Check\+Timer}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+mem\+Check\+Timer}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Timer$\ast$ Okular\+::\+Document\+Private\+::m\+\_\+mem\+Check\+Timer}}\label{classOkular_1_1DocumentPrivate_aa403a95dfe9f344c12c7409319aaf62f}


Definition at line 245 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a0c531a03865395da325584dbae6e1efe}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+next\+Document\+Destination@{m\+\_\+next\+Document\+Destination}}
\index{m\+\_\+next\+Document\+Destination@{m\+\_\+next\+Document\+Destination}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+next\+Document\+Destination}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String Okular\+::\+Document\+Private\+::m\+\_\+next\+Document\+Destination}}\label{classOkular_1_1DocumentPrivate_a0c531a03865395da325584dbae6e1efe}


Definition at line 215 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_af6aae2128fb788ae1693699506a86c0d}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+next\+Document\+Viewport@{m\+\_\+next\+Document\+Viewport}}
\index{m\+\_\+next\+Document\+Viewport@{m\+\_\+next\+Document\+Viewport}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+next\+Document\+Viewport}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Document\+Viewport} Okular\+::\+Document\+Private\+::m\+\_\+next\+Document\+Viewport}}\label{classOkular_1_1DocumentPrivate_af6aae2128fb788ae1693699506a86c0d}


Definition at line 214 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+observers@{m\+\_\+observers}}
\index{m\+\_\+observers@{m\+\_\+observers}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+observers}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Set$<$ {\bf Document\+Observer} $\ast$ $>$ Okular\+::\+Document\+Private\+::m\+\_\+observers}}\label{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}


Definition at line 218 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a0764e01a78ed52ece9229f50300522f1}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+page\+Controller@{m\+\_\+page\+Controller}}
\index{m\+\_\+page\+Controller@{m\+\_\+page\+Controller}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+page\+Controller}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Page\+Controller}$\ast$ Okular\+::\+Document\+Private\+::m\+\_\+page\+Controller}}\label{classOkular_1_1DocumentPrivate_a0764e01a78ed52ece9229f50300522f1}


Definition at line 258 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a2d167614d4dc602ada64ab925cee6dce}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+page\+Rects@{m\+\_\+page\+Rects}}
\index{m\+\_\+page\+Rects@{m\+\_\+page\+Rects}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+page\+Rects}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Vector$<$ {\bf Visible\+Page\+Rect} $\ast$ $>$ Okular\+::\+Document\+Private\+::m\+\_\+page\+Rects}}\label{classOkular_1_1DocumentPrivate_a2d167614d4dc602ada64ab925cee6dce}


Definition at line 253 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a6c09eaaed5a1d862bb11074347cc102d}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+page\+Size@{m\+\_\+page\+Size}}
\index{m\+\_\+page\+Size@{m\+\_\+page\+Size}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+page\+Size}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Page\+Size} Okular\+::\+Document\+Private\+::m\+\_\+page\+Size}}\label{classOkular_1_1DocumentPrivate_a6c09eaaed5a1d862bb11074347cc102d}


Definition at line 233 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a71f8c84e54d8cc8a5f3396f18c7dae7a}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+page\+Sizes@{m\+\_\+page\+Sizes}}
\index{m\+\_\+page\+Sizes@{m\+\_\+page\+Sizes}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+page\+Sizes}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Page\+Size\+::\+List} Okular\+::\+Document\+Private\+::m\+\_\+page\+Sizes}}\label{classOkular_1_1DocumentPrivate_a71f8c84e54d8cc8a5f3396f18c7dae7a}


Definition at line 234 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+pages\+Vector@{m\+\_\+pages\+Vector}}
\index{m\+\_\+pages\+Vector@{m\+\_\+pages\+Vector}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+pages\+Vector}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Vector$<$ {\bf Page} $\ast$ $>$ Okular\+::\+Document\+Private\+::m\+\_\+pages\+Vector}}\label{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}


Definition at line 252 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+parent@{m\+\_\+parent}}
\index{m\+\_\+parent@{m\+\_\+parent}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+parent}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Document}$\ast$ Okular\+::\+Document\+Private\+::m\+\_\+parent}}\label{classOkular_1_1DocumentPrivate_ac921eda41c014869ffec96ecc569c713}


Definition at line 193 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a5c0e919d575a7a3c19a42c64a672fce4}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+pixmap\+Requests\+Mutex@{m\+\_\+pixmap\+Requests\+Mutex}}
\index{m\+\_\+pixmap\+Requests\+Mutex@{m\+\_\+pixmap\+Requests\+Mutex}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+pixmap\+Requests\+Mutex}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Mutex Okular\+::\+Document\+Private\+::m\+\_\+pixmap\+Requests\+Mutex}}\label{classOkular_1_1DocumentPrivate_a5c0e919d575a7a3c19a42c64a672fce4}


Definition at line 221 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+pixmap\+Requests\+Stack@{m\+\_\+pixmap\+Requests\+Stack}}
\index{m\+\_\+pixmap\+Requests\+Stack@{m\+\_\+pixmap\+Requests\+Stack}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+pixmap\+Requests\+Stack}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Q\+Linked\+List}$<$ {\bf Pixmap\+Request} $\ast$ $>$ Okular\+::\+Document\+Private\+::m\+\_\+pixmap\+Requests\+Stack}}\label{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}


Definition at line 219 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a7f5fc408d6af006eaa4c2991ee263403}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+prev\+Props\+Of\+Annot\+Being\+Modified@{m\+\_\+prev\+Props\+Of\+Annot\+Being\+Modified}}
\index{m\+\_\+prev\+Props\+Of\+Annot\+Being\+Modified@{m\+\_\+prev\+Props\+Of\+Annot\+Being\+Modified}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+prev\+Props\+Of\+Annot\+Being\+Modified}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Dom\+Node Okular\+::\+Document\+Private\+::m\+\_\+prev\+Props\+Of\+Annot\+Being\+Modified}}\label{classOkular_1_1DocumentPrivate_a7f5fc408d6af006eaa4c2991ee263403}


Definition at line 279 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a5b7f4c2b5937d311b277c2e90826ee1b}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+rotation@{m\+\_\+rotation}}
\index{m\+\_\+rotation@{m\+\_\+rotation}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+rotation}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Rotation} Okular\+::\+Document\+Private\+::m\+\_\+rotation}}\label{classOkular_1_1DocumentPrivate_a5b7f4c2b5937d311b277c2e90826ee1b}


Definition at line 229 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a1d64b1924e24e32715cc5c7b3471595f}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+save\+Bookmarks\+Timer@{m\+\_\+save\+Bookmarks\+Timer}}
\index{m\+\_\+save\+Bookmarks\+Timer@{m\+\_\+save\+Bookmarks\+Timer}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+save\+Bookmarks\+Timer}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Timer$\ast$ Okular\+::\+Document\+Private\+::m\+\_\+save\+Bookmarks\+Timer}}\label{classOkular_1_1DocumentPrivate_a1d64b1924e24e32715cc5c7b3471595f}


Definition at line 246 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_aa92ce51e07aaab18bd40542eb9bc31e6}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+scripter@{m\+\_\+scripter}}
\index{m\+\_\+scripter@{m\+\_\+scripter}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+scripter}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Scripter}$\ast$ Okular\+::\+Document\+Private\+::m\+\_\+scripter}}\label{classOkular_1_1DocumentPrivate_aa92ce51e07aaab18bd40542eb9bc31e6}


Definition at line 261 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_ad852d630ad63f8fd4ce1b2cc93179c91}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+search\+Cancelled@{m\+\_\+search\+Cancelled}}
\index{m\+\_\+search\+Cancelled@{m\+\_\+search\+Cancelled}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+search\+Cancelled}]{\setlength{\rightskip}{0pt plus 5cm}bool Okular\+::\+Document\+Private\+::m\+\_\+search\+Cancelled}}\label{classOkular_1_1DocumentPrivate_ad852d630ad63f8fd4ce1b2cc93179c91}


Definition at line 199 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a42420dd45075092b921a829b8e9f2214}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+searches@{m\+\_\+searches}}
\index{m\+\_\+searches@{m\+\_\+searches}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+searches}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Q\+Map}$<$ int, {\bf Running\+Search} $\ast$ $>$ Okular\+::\+Document\+Private\+::m\+\_\+searches}}\label{classOkular_1_1DocumentPrivate_a42420dd45075092b921a829b8e9f2214}


Definition at line 197 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a1d12aaa9b1f2726a8e19b416587062c9}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+show\+Warning\+Limited\+Annot\+Support@{m\+\_\+show\+Warning\+Limited\+Annot\+Support}}
\index{m\+\_\+show\+Warning\+Limited\+Annot\+Support@{m\+\_\+show\+Warning\+Limited\+Annot\+Support}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+show\+Warning\+Limited\+Annot\+Support}]{\setlength{\rightskip}{0pt plus 5cm}bool Okular\+::\+Document\+Private\+::m\+\_\+show\+Warning\+Limited\+Annot\+Support}}\label{classOkular_1_1DocumentPrivate_a1d12aaa9b1f2726a8e19b416587062c9}


Definition at line 276 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a4150d34c787b214e91672cd197df9835}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+supported\+Mime\+Types@{m\+\_\+supported\+Mime\+Types}}
\index{m\+\_\+supported\+Mime\+Types@{m\+\_\+supported\+Mime\+Types}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+supported\+Mime\+Types}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String\+List Okular\+::\+Document\+Private\+::m\+\_\+supported\+Mime\+Types}}\label{classOkular_1_1DocumentPrivate_a4150d34c787b214e91672cd197df9835}


Definition at line 256 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a09a610ec7c029dd3b73580abfc65059d}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+temp\+File@{m\+\_\+temp\+File}}
\index{m\+\_\+temp\+File@{m\+\_\+temp\+File}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+temp\+File}]{\setlength{\rightskip}{0pt plus 5cm}K\+Temporary\+File$\ast$ Okular\+::\+Document\+Private\+::m\+\_\+temp\+File}}\label{classOkular_1_1DocumentPrivate_a09a610ec7c029dd3b73580abfc65059d}


Definition at line 208 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+undo\+Stack@{m\+\_\+undo\+Stack}}
\index{m\+\_\+undo\+Stack@{m\+\_\+undo\+Stack}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+undo\+Stack}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Undo\+Stack$\ast$ Okular\+::\+Document\+Private\+::m\+\_\+undo\+Stack}}\label{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}


Definition at line 278 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a1a0145bbb16d15c016000a83d0d2ab2b}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+url@{m\+\_\+url}}
\index{m\+\_\+url@{m\+\_\+url}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+url}]{\setlength{\rightskip}{0pt plus 5cm}K\+Url Okular\+::\+Document\+Private\+::m\+\_\+url}}\label{classOkular_1_1DocumentPrivate_a1a0145bbb16d15c016000a83d0d2ab2b}


Definition at line 203 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+viewport\+History@{m\+\_\+viewport\+History}}
\index{m\+\_\+viewport\+History@{m\+\_\+viewport\+History}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+viewport\+History}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Q\+Linked\+List}$<$ {\bf Document\+Viewport} $>$ Okular\+::\+Document\+Private\+::m\+\_\+viewport\+History}}\label{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}


Definition at line 212 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+viewport\+Iterator@{m\+\_\+viewport\+Iterator}}
\index{m\+\_\+viewport\+Iterator@{m\+\_\+viewport\+Iterator}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+viewport\+Iterator}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Q\+Linked\+List}$<$ {\bf Document\+Viewport} $>$\+::iterator Okular\+::\+Document\+Private\+::m\+\_\+viewport\+Iterator}}\label{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}


Definition at line 213 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_aae4139cb4cb2f63fd7c7c88f26199976}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+views@{m\+\_\+views}}
\index{m\+\_\+views@{m\+\_\+views}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+views}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Set$<$ {\bf View} $\ast$ $>$ Okular\+::\+Document\+Private\+::m\+\_\+views}}\label{classOkular_1_1DocumentPrivate_aae4139cb4cb2f63fd7c7c88f26199976}


Definition at line 271 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a0d88f3c05c3c5b7645c6a12fde948759}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+warned\+Out\+Of\+Memory@{m\+\_\+warned\+Out\+Of\+Memory}}
\index{m\+\_\+warned\+Out\+Of\+Memory@{m\+\_\+warned\+Out\+Of\+Memory}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+warned\+Out\+Of\+Memory}]{\setlength{\rightskip}{0pt plus 5cm}bool Okular\+::\+Document\+Private\+::m\+\_\+warned\+Out\+Of\+Memory}}\label{classOkular_1_1DocumentPrivate_a0d88f3c05c3c5b7645c6a12fde948759}


Definition at line 226 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_a1cc02176f3cd9d24eb4f7968ef893de2}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+widget@{m\+\_\+widget}}
\index{m\+\_\+widget@{m\+\_\+widget}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+widget}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Pointer$<$Q\+Widget$>$ Okular\+::\+Document\+Private\+::m\+\_\+widget}}\label{classOkular_1_1DocumentPrivate_a1cc02176f3cd9d24eb4f7968ef893de2}


Definition at line 194 of file document\+\_\+p.\+h.

\hypertarget{classOkular_1_1DocumentPrivate_aae08e3c4d234247bf3d52608649e7c64}{\index{Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}!m\+\_\+xml\+File\+Name@{m\+\_\+xml\+File\+Name}}
\index{m\+\_\+xml\+File\+Name@{m\+\_\+xml\+File\+Name}!Okular\+::\+Document\+Private@{Okular\+::\+Document\+Private}}
\subsubsection[{m\+\_\+xml\+File\+Name}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String Okular\+::\+Document\+Private\+::m\+\_\+xml\+File\+Name}}\label{classOkular_1_1DocumentPrivate_aae08e3c4d234247bf3d52608649e7c64}


Definition at line 207 of file document\+\_\+p.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
core/\hyperlink{document__p_8h}{document\+\_\+p.\+h}\item 
core/\hyperlink{core_2document_8cpp}{document.\+cpp}\end{DoxyCompactItemize}
