\hypertarget{classFaxDocument}{\section{Fax\+Document Class Reference}
\label{classFaxDocument}\index{Fax\+Document@{Fax\+Document}}
}


{\ttfamily \#include $<$faxdocument.\+h$>$}

\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classFaxDocument_1_1Private}{Private}
\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classFaxDocument_a0590424a710415338643b6b9c91b30de}{Document\+Type} \{ \hyperlink{classFaxDocument_a0590424a710415338643b6b9c91b30dea2d43ce64c1412ea8a7dfa1fbfe756fd8}{G3}, 
\hyperlink{classFaxDocument_a0590424a710415338643b6b9c91b30dea8a858710690eefc015a052c756899600}{G4}
 \}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classFaxDocument_a6d933ecf41b82aa5b81fdec56a925b4e}{Fax\+Document} (const Q\+String \&file\+Name, \hyperlink{classFaxDocument_a0590424a710415338643b6b9c91b30de}{Document\+Type} type=\hyperlink{classFaxDocument_a0590424a710415338643b6b9c91b30dea2d43ce64c1412ea8a7dfa1fbfe756fd8}{G3})
\item 
\hyperlink{classFaxDocument_ac010bfd9c40ab52ec04beb0e7b7240a3}{$\sim$\+Fax\+Document} ()
\item 
bool \hyperlink{classFaxDocument_a5f4925e7066994bb82eaa46aabc0a2a7}{load} ()
\item 
Q\+Image \hyperlink{classFaxDocument_a5136832e9e051dcb6536bebb8d35cf6d}{image} () const 
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Loads a G3/\+G4 fax document and provides methods to convert it into a Q\+Image. 

Definition at line 19 of file faxdocument.\+h.



\subsection{Member Enumeration Documentation}
\hypertarget{classFaxDocument_a0590424a710415338643b6b9c91b30de}{\index{Fax\+Document@{Fax\+Document}!Document\+Type@{Document\+Type}}
\index{Document\+Type@{Document\+Type}!Fax\+Document@{Fax\+Document}}
\subsubsection[{Document\+Type}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Fax\+Document\+::\+Document\+Type}}}\label{classFaxDocument_a0590424a710415338643b6b9c91b30de}
Describes the type of the fax document. \begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{G3@{G3}!Fax\+Document@{Fax\+Document}}\index{Fax\+Document@{Fax\+Document}!G3@{G3}}\item[{\em 
\hypertarget{classFaxDocument_a0590424a710415338643b6b9c91b30dea2d43ce64c1412ea8a7dfa1fbfe756fd8}{G3}\label{classFaxDocument_a0590424a710415338643b6b9c91b30dea2d43ce64c1412ea8a7dfa1fbfe756fd8}
}]G3 encoded fax document. \index{G4@{G4}!Fax\+Document@{Fax\+Document}}\index{Fax\+Document@{Fax\+Document}!G4@{G4}}\item[{\em 
\hypertarget{classFaxDocument_a0590424a710415338643b6b9c91b30dea8a858710690eefc015a052c756899600}{G4}\label{classFaxDocument_a0590424a710415338643b6b9c91b30dea8a858710690eefc015a052c756899600}
}]G4 encoded fax document. \end{description}
\end{Desc}


Definition at line 25 of file faxdocument.\+h.


\begin{DoxyCode}
26     \{
27       \hyperlink{classFaxDocument_a0590424a710415338643b6b9c91b30dea2d43ce64c1412ea8a7dfa1fbfe756fd8}{G3},  
28       \hyperlink{classFaxDocument_a0590424a710415338643b6b9c91b30dea8a858710690eefc015a052c756899600}{G4}   
29     \};
\end{DoxyCode}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{classFaxDocument_a6d933ecf41b82aa5b81fdec56a925b4e}{\index{Fax\+Document@{Fax\+Document}!Fax\+Document@{Fax\+Document}}
\index{Fax\+Document@{Fax\+Document}!Fax\+Document@{Fax\+Document}}
\subsubsection[{Fax\+Document}]{\setlength{\rightskip}{0pt plus 5cm}Fax\+Document\+::\+Fax\+Document (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{file\+Name, }
\item[{{\bf Document\+Type}}]{type = {\ttfamily {\bf G3}}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [explicit]}}}\label{classFaxDocument_a6d933ecf41b82aa5b81fdec56a925b4e}
Creates a new fax document from the given {\ttfamily file\+Name}.


\begin{DoxyParams}{Parameters}
{\em type} & The type of the fax document. \\
\hline
\end{DoxyParams}


Definition at line 236 of file faxdocument.\+cpp.


\begin{DoxyCode}
237     : d( \textcolor{keyword}{new} Private( \textcolor{keyword}{this} ) )
238 \{
239     d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_a0e79881e9e13c6f357162067036344f0}{filename} = fileName;
240     d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_a75866934e4e0cd1d789a1830dea955fb}{strips} = 0;
241     d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_ac72e589a7653741a7a5b3c44e1bdddc3}{stripnum} = 0;
242     d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_a9febd846854e535bfe718b166e0ea7e7}{lsbfirst} = 0;
243     d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_aa1341d0cb5be8f02e2c7cafd5d690a7b}{vres} = 1;
244     d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_a1cfd8455a2333e46d88143d6a54af947}{inverse} = 0;
245     d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_af5c9ccfd1af1ac996caeb2518cbc739d}{data} = 0;
246     d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_a9f39d34f728116ceb5b9b4935c905aa1}{dataOrig} = 0;
247     d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_a879eb55073bbccadfadc524708452fcc}{imageData} = 0;
248     d->\hyperlink{classFaxDocument_1_1Private_a7dada4c0e23573ffabc6095247365670}{mType} = type;
249 
250     \textcolor{keywordflow}{if} ( d->\hyperlink{classFaxDocument_1_1Private_a7dada4c0e23573ffabc6095247365670}{mType} == \hyperlink{classFaxDocument_a0590424a710415338643b6b9c91b30dea2d43ce64c1412ea8a7dfa1fbfe756fd8}{G3} )
251         d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_a5e63779f24772ae97401d828bc75c099}{expander} = \hyperlink{faxexpand_8cpp_ad8f94fd37a1722246b1475382606c874}{g31expand}; \textcolor{comment}{// or g32expand?!?}
252     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( d->\hyperlink{classFaxDocument_1_1Private_a7dada4c0e23573ffabc6095247365670}{mType} == \hyperlink{classFaxDocument_a0590424a710415338643b6b9c91b30dea8a858710690eefc015a052c756899600}{G4} )
253         d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_a5e63779f24772ae97401d828bc75c099}{expander} = \hyperlink{faxexpand_8cpp_a37f6116fbe2a2fd58d7c3203127672f8}{g4expand};
254 \}
\end{DoxyCode}
\hypertarget{classFaxDocument_ac010bfd9c40ab52ec04beb0e7b7240a3}{\index{Fax\+Document@{Fax\+Document}!````~Fax\+Document@{$\sim$\+Fax\+Document}}
\index{````~Fax\+Document@{$\sim$\+Fax\+Document}!Fax\+Document@{Fax\+Document}}
\subsubsection[{$\sim$\+Fax\+Document}]{\setlength{\rightskip}{0pt plus 5cm}Fax\+Document\+::$\sim$\+Fax\+Document (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classFaxDocument_ac010bfd9c40ab52ec04beb0e7b7240a3}
Destroys the fax document. 

Definition at line 256 of file faxdocument.\+cpp.


\begin{DoxyCode}
257 \{
258     \textcolor{keyword}{delete} [] d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_a9f39d34f728116ceb5b9b4935c905aa1}{dataOrig};
259     \textcolor{keyword}{delete} [] d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_a879eb55073bbccadfadc524708452fcc}{imageData};
260     \textcolor{keyword}{delete} d;
261 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{classFaxDocument_a5136832e9e051dcb6536bebb8d35cf6d}{\index{Fax\+Document@{Fax\+Document}!image@{image}}
\index{image@{image}!Fax\+Document@{Fax\+Document}}
\subsubsection[{image}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Image Fax\+Document\+::image (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classFaxDocument_a5136832e9e051dcb6536bebb8d35cf6d}
Returns the document as an image. 

Definition at line 306 of file faxdocument.\+cpp.


\begin{DoxyCode}
307 \{
308     \textcolor{keywordflow}{return} d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_a266b69a103ed430ef3a793d134d596d0}{image};
309 \}
\end{DoxyCode}
\hypertarget{classFaxDocument_a5f4925e7066994bb82eaa46aabc0a2a7}{\index{Fax\+Document@{Fax\+Document}!load@{load}}
\index{load@{load}!Fax\+Document@{Fax\+Document}}
\subsubsection[{load}]{\setlength{\rightskip}{0pt plus 5cm}bool Fax\+Document\+::load (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classFaxDocument_a5f4925e7066994bb82eaa46aabc0a2a7}
Loads the document.

\begin{DoxyReturn}{Returns}
{\ttfamily true} if the document can be loaded successfully, {\ttfamily false} otherwise. 
\end{DoxyReturn}


Definition at line 263 of file faxdocument.\+cpp.


\begin{DoxyCode}
264 \{
265     \hyperlink{faxexpand_8h_ac37c16fdffc1a2515833c490d6598a07}{fax\_init\_tables}();
266 
267     \textcolor{keywordtype}{bool} ok = get\_image( &(d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}) );
268     \textcolor{keywordflow}{if} ( !ok )
269         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
270 
271     \textcolor{comment}{// byte-swapping the image}
272     \textcolor{keywordtype}{int} height = d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_a2be79286e9fc2179f6e3f97dc72a56fa}{size}.height();
273     \textcolor{keywordtype}{int} bytes\_per\_line = d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_a2be79286e9fc2179f6e3f97dc72a56fa}{size}.width()/8;
274 
275     QByteArray bytes( height * bytes\_per\_line, 0 );
276     \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} y= height - 1; y >= 0; --y )
277     \{
278         quint32 offset  = y * bytes\_per\_line;
279         quint32 *source = (quint32 *) (d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_a879eb55073bbccadfadc524708452fcc}{imageData} + offset);
280         quint32 *\hyperlink{synctex__parser__utils_8c_a723e06ace24a60ed94dca199595c08d2}{dest}   = (quint32 *) (bytes.data() + offset);
281         \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} x= (bytes\_per\_line/4) - 1; x >= 0; --x )
282         \{
283             quint32 dv = 0, sv = *source;
284             \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} bit = 32; bit > 0; --bit )
285             \{
286                 dv <<= 1;
287                 dv |= sv&1;
288                 sv >>= 1;
289             \}
290             *dest = dv;
291             ++\hyperlink{synctex__parser__utils_8c_a723e06ace24a60ed94dca199595c08d2}{dest};
292             ++source;
293         \}
294     \}
295 
296     \textcolor{comment}{// convert it into a QImage}
297     QImage img( (uchar*)bytes.data(), d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_a2be79286e9fc2179f6e3f97dc72a56fa}{size}.width(), d->
      \hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_a2be79286e9fc2179f6e3f97dc72a56fa}{size}.height(), QImage::Format\_MonoLSB );
298     img.setColor( 0, qRgb( 255, 255, 255 ) );
299     img.setColor( 1, qRgb( 0, 0, 0 ) );
300 
301     d->\hyperlink{classFaxDocument_1_1Private_a4de794271a866e2252a16b5a3a57cea6}{mPageNode}.\hyperlink{classpagenode_a266b69a103ed430ef3a793d134d596d0}{image} = img.copy().scaled( img.width(), img.height() * 1.5 );
302 
303     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
304 \}
\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
generators/fax/\hyperlink{faxdocument_8h}{faxdocument.\+h}\item 
generators/fax/\hyperlink{faxdocument_8cpp}{faxdocument.\+cpp}\end{DoxyCompactItemize}
