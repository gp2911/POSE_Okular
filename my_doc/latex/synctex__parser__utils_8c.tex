\hypertarget{synctex__parser__utils_8c}{\section{generators/poppler/synctex/synctex\+\_\+parser\+\_\+utils.c File Reference}
\label{synctex__parser__utils_8c}\index{generators/poppler/synctex/synctex\+\_\+parser\+\_\+utils.\+c@{generators/poppler/synctex/synctex\+\_\+parser\+\_\+utils.\+c}}
}
{\ttfamily \#include $<$synctex\+\_\+parser\+\_\+utils.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$stdarg.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$limits.\+h$>$}\\*
{\ttfamily \#include $<$ctype.\+h$>$}\\*
{\ttfamily \#include $<$sys/stat.\+h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{synctex__parser__utils_8c_a723e06ace24a60ed94dca199595c08d2}{dest}~($\ast$dest\+\_\+ref)
\item 
\#define \hyperlink{synctex__parser__utils_8c_ae872b90d9f1fd50fb53b4b84b6739ebc}{T\+E\+S\+T}(F\+I\+L\+E\+N\+A\+M\+E, C\+O\+M\+P\+R\+E\+S\+S\+\_\+\+M\+O\+D\+E)
\item 
\#define \hyperlink{synctex__parser__utils_8c_aca8f08fdb3951c01e967b8ce9a0e548a}{C\+L\+E\+A\+N\+\_\+\+A\+N\+D\+\_\+\+R\+E\+M\+O\+V\+E}(F\+I\+L\+E\+N\+A\+M\+E)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void $\ast$ \hyperlink{synctex__parser__utils_8c_ae502668cd62641fb7474f2d58e13585d}{\+\_\+synctex\+\_\+malloc} (size\+\_\+t \hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size})
\item 
int \hyperlink{synctex__parser__utils_8c_a9c118970c033e5ab0b74c59ad4920610}{\+\_\+synctex\+\_\+error} (const char $\ast$reason,...)
\item 
void \hyperlink{synctex__parser__utils_8c_a4be10ac1ea9a318df2da20223b8824b9}{\+\_\+synctex\+\_\+strip\+\_\+last\+\_\+path\+\_\+extension} (char $\ast$string)
\item 
const char $\ast$ \hyperlink{synctex__parser__utils_8c_a15275cb7044576257b45a04189db614c}{synctex\+\_\+ignore\+\_\+leading\+\_\+dot\+\_\+slash} (const char $\ast$name)
\item 
\hyperlink{synctex__parser__utils_8h_aaa22ec91f0bc05d946ebf387daf9184e}{synctex\+\_\+bool\+\_\+t} \hyperlink{synctex__parser__utils_8c_ab3756269e72b98b8e9c9d9e73b449a00}{\+\_\+synctex\+\_\+is\+\_\+equivalent\+\_\+file\+\_\+name} (const char $\ast$lhs, const char $\ast$rhs)
\item 
\hyperlink{synctex__parser__utils_8h_aaa22ec91f0bc05d946ebf387daf9184e}{synctex\+\_\+bool\+\_\+t} \hyperlink{synctex__parser__utils_8c_a7c0f314f90789998bb644223af426289}{\+\_\+synctex\+\_\+path\+\_\+is\+\_\+absolute} (const char $\ast$name)
\item 
const char $\ast$ \hyperlink{synctex__parser__utils_8c_a1de4027800fc99d8b2707366c84097f3}{\+\_\+synctex\+\_\+last\+\_\+path\+\_\+component} (const char $\ast$name)
\item 
int \hyperlink{synctex__parser__utils_8c_add4b62ed70add27e810f8a98dacd9ee2}{\+\_\+synctex\+\_\+copy\+\_\+with\+\_\+quoting\+\_\+last\+\_\+path\+\_\+component} (const char $\ast$src, char $\ast$$\ast$dest\+\_\+ref, size\+\_\+t \hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size})
\item 
char $\ast$ \hyperlink{synctex__parser__utils_8c_a5ef3f885904fecf044375db1ffbdccb6}{\+\_\+synctex\+\_\+merge\+\_\+strings} (const char $\ast$first,...)
\item 
int \hyperlink{synctex__parser__utils_8c_a97108b36f121bb0b3554a3285c5e639a}{\+\_\+synctex\+\_\+get\+\_\+name} (const char $\ast$output, const char $\ast$build\+\_\+directory, char $\ast$$\ast$synctex\+\_\+name\+\_\+ref, \hyperlink{synctex__parser__utils_8h_ad718db474a9acf904031706fbffd84be}{synctex\+\_\+io\+\_\+mode\+\_\+t} $\ast$io\+\_\+mode\+\_\+ref)
\item 
const char $\ast$ \hyperlink{synctex__parser__utils_8c_aaea9a68bccb8992b16a6e8c21381cb0f}{\+\_\+synctex\+\_\+get\+\_\+io\+\_\+mode\+\_\+name} (\hyperlink{synctex__parser__utils_8h_ad718db474a9acf904031706fbffd84be}{synctex\+\_\+io\+\_\+mode\+\_\+t} io\+\_\+mode)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{synctex__parser__utils_8c_aca8f08fdb3951c01e967b8ce9a0e548a}{\index{synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}!C\+L\+E\+A\+N\+\_\+\+A\+N\+D\+\_\+\+R\+E\+M\+O\+V\+E@{C\+L\+E\+A\+N\+\_\+\+A\+N\+D\+\_\+\+R\+E\+M\+O\+V\+E}}
\index{C\+L\+E\+A\+N\+\_\+\+A\+N\+D\+\_\+\+R\+E\+M\+O\+V\+E@{C\+L\+E\+A\+N\+\_\+\+A\+N\+D\+\_\+\+R\+E\+M\+O\+V\+E}!synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}}
\subsubsection[{C\+L\+E\+A\+N\+\_\+\+A\+N\+D\+\_\+\+R\+E\+M\+O\+V\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+L\+E\+A\+N\+\_\+\+A\+N\+D\+\_\+\+R\+E\+M\+O\+V\+E(
\begin{DoxyParamCaption}
\item[{}]{F\+I\+L\+E\+N\+A\+M\+E}
\end{DoxyParamCaption}
)}}\label{synctex__parser__utils_8c_aca8f08fdb3951c01e967b8ce9a0e548a}
{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keywordflow}{if}(FILENAME && (FILENAME!=\hyperlink{synctex__parser_8c_a06d86333a0938a0b6e3bf0895696596d}{synctex\_name})) \{\(\backslash\)
                remove(FILENAME);\(\backslash\)
                printf(\textcolor{stringliteral}{"synctex tool info: %s removed\(\backslash\)n"},FILENAME);\(\backslash\)
                free(FILENAME);\(\backslash\)
                FILENAME = NULL;\(\backslash\)
            \}
\end{DoxyCode}
\hypertarget{synctex__parser__utils_8c_a723e06ace24a60ed94dca199595c08d2}{\index{synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}!dest@{dest}}
\index{dest@{dest}!synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}}
\subsubsection[{dest}]{\setlength{\rightskip}{0pt plus 5cm}\#define dest~($\ast$dest\+\_\+ref)}}\label{synctex__parser__utils_8c_a723e06ace24a60ed94dca199595c08d2}
\hypertarget{synctex__parser__utils_8c_ae872b90d9f1fd50fb53b4b84b6739ebc}{\index{synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}!T\+E\+S\+T@{T\+E\+S\+T}}
\index{T\+E\+S\+T@{T\+E\+S\+T}!synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}}
\subsubsection[{T\+E\+S\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+E\+S\+T(
\begin{DoxyParamCaption}
\item[{}]{F\+I\+L\+E\+N\+A\+M\+E, }
\item[{}]{C\+O\+M\+P\+R\+E\+S\+S\+\_\+\+M\+O\+D\+E}
\end{DoxyParamCaption}
)}}\label{synctex__parser__utils_8c_ae872b90d9f1fd50fb53b4b84b6739ebc}
{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keywordflow}{if}(FILENAME) \{\(\backslash\)
                if (stat(FILENAME, &buf)) \{ \(\backslash\)
                    free(FILENAME);\(\backslash\)
                    FILENAME = NULL;\(\backslash\)
                \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (buf.st\_mtime>the\_time) \{ \(\backslash\)
                    the\_time=buf.st\_mtime; \hyperlink{synctex__parser_8c_a06d86333a0938a0b6e3bf0895696596d}{\(\backslash\)}
\hyperlink{synctex__parser_8c_a06d86333a0938a0b6e3bf0895696596d}{                    synctex\_name} = FILENAME; \(\backslash\)
                    if (COMPRESS\_MODE) \{ \(\backslash\)
                        io\_mode |= \hyperlink{synctex__parser__utils_8h_a2b6595ffade34c86ed1f11571fbaf019a417d7196f20acc364f6cc1af8cadc6a3}{synctex\_io\_gz\_mask}; \(\backslash\)
                    \} \textcolor{keywordflow}{else} \{ \(\backslash\)
                        io\_mode &= ~\hyperlink{synctex__parser__utils_8h_a2b6595ffade34c86ed1f11571fbaf019a417d7196f20acc364f6cc1af8cadc6a3}{synctex\_io\_gz\_mask}; \(\backslash\)
                    \} \(\backslash\)
                \} \(\backslash\)
            \}
\end{DoxyCode}


\subsection{Function Documentation}
\hypertarget{synctex__parser__utils_8c_add4b62ed70add27e810f8a98dacd9ee2}{\index{synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}!\+\_\+synctex\+\_\+copy\+\_\+with\+\_\+quoting\+\_\+last\+\_\+path\+\_\+component@{\+\_\+synctex\+\_\+copy\+\_\+with\+\_\+quoting\+\_\+last\+\_\+path\+\_\+component}}
\index{\+\_\+synctex\+\_\+copy\+\_\+with\+\_\+quoting\+\_\+last\+\_\+path\+\_\+component@{\+\_\+synctex\+\_\+copy\+\_\+with\+\_\+quoting\+\_\+last\+\_\+path\+\_\+component}!synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}}
\subsubsection[{\+\_\+synctex\+\_\+copy\+\_\+with\+\_\+quoting\+\_\+last\+\_\+path\+\_\+component}]{\setlength{\rightskip}{0pt plus 5cm}int \+\_\+synctex\+\_\+copy\+\_\+with\+\_\+quoting\+\_\+last\+\_\+path\+\_\+component (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{src, }
\item[{char $\ast$$\ast$}]{dest\+\_\+ref, }
\item[{size\+\_\+t}]{size}
\end{DoxyParamCaption}
)}}\label{synctex__parser__utils_8c_add4b62ed70add27e810f8a98dacd9ee2}


Definition at line 246 of file synctex\+\_\+parser\+\_\+utils.\+c.


\begin{DoxyCode}
246                                                                                                     \{
247   \textcolor{keyword}{const} \textcolor{keywordtype}{char} * lpc;
248   \textcolor{keywordflow}{if}(src && dest\_ref) \{
249 \textcolor{preprocessor}{#       define dest (*dest\_ref)}
250         \hyperlink{synctex__parser__utils_8c_a723e06ace24a60ed94dca199595c08d2}{dest} = NULL;    \textcolor{comment}{/*  Default behavior: no change and sucess. */}
251         lpc = \hyperlink{synctex__parser__utils_8c_a1de4027800fc99d8b2707366c84097f3}{\_synctex\_last\_path\_component}(src);
252         \textcolor{keywordflow}{if}(strlen(lpc)) \{
253             \textcolor{keywordflow}{if}(strchr(lpc,\textcolor{charliteral}{' '}) && lpc[0]!=\textcolor{charliteral}{'"'} && lpc[strlen(lpc)-1]!=\textcolor{charliteral}{'"'}) \{
254                 \textcolor{comment}{/*  We are in the situation where adding the quotes is allowed. */}
255                 \textcolor{comment}{/*  Time to add the quotes. */}
256                 \textcolor{comment}{/*  Consistency test: we must have dest+size>dest+strlen(dest)+2}
257 \textcolor{comment}{                 *  or equivalently: strlen(dest)+2<size (see below) */}
258                 \textcolor{keywordflow}{if}(strlen(src)<\hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size}) \{
259                     \textcolor{keywordflow}{if}((\hyperlink{synctex__parser__utils_8c_a723e06ace24a60ed94dca199595c08d2}{dest} = (\textcolor{keywordtype}{char} *)malloc(\hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size}+2))) \{
260                         \textcolor{keywordtype}{char} * dpc = \hyperlink{synctex__parser__utils_8c_a723e06ace24a60ed94dca199595c08d2}{dest} + (lpc-src);  \textcolor{comment}{/*  dpc is the last path component of dest. */}
261                         \textcolor{keywordflow}{if}(\hyperlink{synctex__parser__utils_8c_a723e06ace24a60ed94dca199595c08d2}{dest} != strncpy(\hyperlink{synctex__parser__utils_8c_a723e06ace24a60ed94dca199595c08d2}{dest},src,\hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size})) \{
262                             \hyperlink{synctex__parser__utils_8c_a9c118970c033e5ab0b74c59ad4920610}{\_synctex\_error}(\textcolor{stringliteral}{"! 
       \_synctex\_copy\_with\_quoting\_last\_path\_component: Copy problem"});
263                             free(\hyperlink{synctex__parser__utils_8c_a723e06ace24a60ed94dca199595c08d2}{dest});
264                             \hyperlink{synctex__parser__utils_8c_a723e06ace24a60ed94dca199595c08d2}{dest} = NULL;\textcolor{comment}{/*  Don't forget to reinitialize. */}
265                             \textcolor{keywordflow}{return} -2;
266                         \}
267                         memmove(dpc+1,dpc,strlen(dpc)+1);   \textcolor{comment}{/*  Also move the null terminating character. 
      */}
268                         dpc[0]=\textcolor{charliteral}{'"'};
269                         dpc[strlen(dpc)+1]=\textcolor{charliteral}{'\(\backslash\)0'};\textcolor{comment}{/*  Consistency test */}
270                         dpc[strlen(dpc)]=\textcolor{charliteral}{'"'};
271                         \textcolor{keywordflow}{return} 0;   \textcolor{comment}{/*  Success. */}
272                     \}
273                     \textcolor{keywordflow}{return} -1;  \textcolor{comment}{/*  Memory allocation error.    */}
274                 \}
275                 \hyperlink{synctex__parser__utils_8c_a9c118970c033e5ab0b74c59ad4920610}{\_synctex\_error}(\textcolor{stringliteral}{"!  \_synctex\_copy\_with\_quoting\_last\_path\_component: Internal
       inconsistency"});
276                 \textcolor{keywordflow}{return} -3;
277             \}
278             \textcolor{keywordflow}{return} 0;   \textcolor{comment}{/*  Success. */}
279         \}
280         \textcolor{keywordflow}{return} 0;   \textcolor{comment}{/*  No last path component. */}
281 \textcolor{preprocessor}{#       undef dest}
282     \}
283     \textcolor{keywordflow}{return} 1; \textcolor{comment}{/*  Bad parameter, this value is subject to changes. */}
284 \}
\end{DoxyCode}
\hypertarget{synctex__parser__utils_8c_a9c118970c033e5ab0b74c59ad4920610}{\index{synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}!\+\_\+synctex\+\_\+error@{\+\_\+synctex\+\_\+error}}
\index{\+\_\+synctex\+\_\+error@{\+\_\+synctex\+\_\+error}!synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}}
\subsubsection[{\+\_\+synctex\+\_\+error}]{\setlength{\rightskip}{0pt plus 5cm}int \+\_\+synctex\+\_\+error (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{reason, }
\item[{}]{...}
\end{DoxyParamCaption}
)}}\label{synctex__parser__utils_8c_a9c118970c033e5ab0b74c59ad4920610}


Definition at line 77 of file synctex\+\_\+parser\+\_\+utils.\+c.


\begin{DoxyCode}
77                                             \{
78     va\_list arg;
79     \textcolor{keywordtype}{int} result;
80     va\_start (arg, reason);
81 \textcolor{preprocessor}{#   ifdef SYNCTEX\_RECENT\_WINDOWS}
82     \{\textcolor{comment}{/* This code is contributed by William Blum.}
83 \textcolor{comment}{        As it does not work on some older computers,}
84 \textcolor{comment}{        the \_WIN32 conditional here is replaced with a SYNCTEX\_RECENT\_WINDOWS one.}
85 \textcolor{comment}{        According to http://msdn.microsoft.com/en-us/library/aa363362(VS.85).aspx}
86 \textcolor{comment}{        Minimum supported client    Windows 2000 Professional}
87 \textcolor{comment}{        Minimum supported server    Windows 2000 Server}
88 \textcolor{comment}{        People running Windows 2K standard edition will not have OutputDebugStringA.}
89 \textcolor{comment}{        JL.*/}
90         \textcolor{keywordtype}{char} *buff;
91         \textcolor{keywordtype}{size\_t} len;
92         OutputDebugStringA(\textcolor{stringliteral}{"SyncTeX ERROR: "});
93 \textcolor{preprocessor}{#   ifdef \_MSC\_VER}
94         len = \_vscprintf(reason, arg) + 1;
95         buff = (\textcolor{keywordtype}{char}*)malloc( len * \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}) );
96 \textcolor{preprocessor}{#else  }\textcolor{comment}{/* MinGW */}\textcolor{preprocessor}{}
97         \textcolor{keywordtype}{size\_t} buffersize = 1024;
98         \textcolor{keywordtype}{size\_t} max\_buffersize = 1024 * buffersize;
99         \textcolor{keywordtype}{int} result;
100         buff = (\textcolor{keywordtype}{char}*)malloc(buffersize * \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}));
101         result = \_vsnprintf(buff, buffersize - 1, reason, arg);
102         \textcolor{keywordflow}{while}(-1 == result && buffersize <= max\_buffersize) \{
103             buffersize = buffersize * 2;
104             buff = (\textcolor{keywordtype}{char}*)realloc(buff, buffersize * \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}));
105             result = \_vsnprintf(buff, buffersize - 1, reason, arg);
106         \}
107         \textcolor{keywordflow}{if}(-1 == result) \{
108             \textcolor{comment}{// could not make the buffer big enough or simply could not write to it}
109             free(buff);
110             \textcolor{keywordflow}{return} -1;
111         \}
112 \textcolor{preprocessor}{#endif}
113         result = vsprintf(buff, reason, arg) +strlen(\textcolor{stringliteral}{"SyncTeX ERROR: "});
114         OutputDebugStringA(buff);
115         OutputDebugStringA(\textcolor{stringliteral}{"\(\backslash\)n"});
116         free(buff);
117     \}
118 \textcolor{preprocessor}{#   else}
119     result = fprintf(stderr,\textcolor{stringliteral}{"SyncTeX ERROR: "});
120     result += vfprintf(stderr, reason, arg);
121     result += fprintf(stderr,\textcolor{stringliteral}{"\(\backslash\)n"});
122 \textcolor{preprocessor}{#   endif}
123     va\_end (arg);
124     \textcolor{keywordflow}{return} result;
125 \}
\end{DoxyCode}
\hypertarget{synctex__parser__utils_8c_aaea9a68bccb8992b16a6e8c21381cb0f}{\index{synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}!\+\_\+synctex\+\_\+get\+\_\+io\+\_\+mode\+\_\+name@{\+\_\+synctex\+\_\+get\+\_\+io\+\_\+mode\+\_\+name}}
\index{\+\_\+synctex\+\_\+get\+\_\+io\+\_\+mode\+\_\+name@{\+\_\+synctex\+\_\+get\+\_\+io\+\_\+mode\+\_\+name}!synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}}
\subsubsection[{\+\_\+synctex\+\_\+get\+\_\+io\+\_\+mode\+\_\+name}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ \+\_\+synctex\+\_\+get\+\_\+io\+\_\+mode\+\_\+name (
\begin{DoxyParamCaption}
\item[{{\bf synctex\+\_\+io\+\_\+mode\+\_\+t}}]{io\+\_\+mode}
\end{DoxyParamCaption}
)}}\label{synctex__parser__utils_8c_aaea9a68bccb8992b16a6e8c21381cb0f}


Definition at line 502 of file synctex\+\_\+parser\+\_\+utils.\+c.


\begin{DoxyCode}
502                                                                   \{
503     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} * synctex\_io\_modes[4] = \{\textcolor{stringliteral}{"r"},\textcolor{stringliteral}{"rb"},\textcolor{stringliteral}{"a"},\textcolor{stringliteral}{"ab"}\}; 
504     \textcolor{keywordtype}{unsigned} index = ((io\_mode & \hyperlink{synctex__parser__utils_8h_a2b6595ffade34c86ed1f11571fbaf019a417d7196f20acc364f6cc1af8cadc6a3}{synctex\_io\_gz\_mask})?1:0) + ((io\_mode & 
      \hyperlink{synctex__parser__utils_8h_a2b6595ffade34c86ed1f11571fbaf019aa4fcf19f60c9f649b49a49e41edbcaf0}{synctex\_io\_append\_mask})?2:0);\textcolor{comment}{/* bug pointed out by Jose Alliste */}
505     \textcolor{keywordflow}{return} synctex\_io\_modes[index];
506 \}
\end{DoxyCode}
\hypertarget{synctex__parser__utils_8c_a97108b36f121bb0b3554a3285c5e639a}{\index{synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}!\+\_\+synctex\+\_\+get\+\_\+name@{\+\_\+synctex\+\_\+get\+\_\+name}}
\index{\+\_\+synctex\+\_\+get\+\_\+name@{\+\_\+synctex\+\_\+get\+\_\+name}!synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}}
\subsubsection[{\+\_\+synctex\+\_\+get\+\_\+name}]{\setlength{\rightskip}{0pt plus 5cm}int \+\_\+synctex\+\_\+get\+\_\+name (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{output, }
\item[{const char $\ast$}]{build\+\_\+directory, }
\item[{char $\ast$$\ast$}]{synctex\+\_\+name\+\_\+ref, }
\item[{{\bf synctex\+\_\+io\+\_\+mode\+\_\+t} $\ast$}]{io\+\_\+mode\+\_\+ref}
\end{DoxyParamCaption}
)}}\label{synctex__parser__utils_8c_a97108b36f121bb0b3554a3285c5e639a}


Definition at line 339 of file synctex\+\_\+parser\+\_\+utils.\+c.


\begin{DoxyCode}
340 \{
341     \textcolor{keywordflow}{if}(output && synctex\_name\_ref && io\_mode\_ref) \{
342         \textcolor{comment}{/*  If output is already absolute, we just have to manage the quotes and the compress mode */}
343         \textcolor{keywordtype}{size\_t} \hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size} = 0;
344         \textcolor{keywordtype}{char} * \hyperlink{synctex__parser_8c_a06d86333a0938a0b6e3bf0895696596d}{synctex\_name} = NULL;
345         \hyperlink{synctex__parser__utils_8h_ad718db474a9acf904031706fbffd84be}{synctex\_io\_mode\_t} io\_mode = *io\_mode\_ref;
346         \textcolor{keyword}{const} \textcolor{keywordtype}{char} * base\_name = \hyperlink{synctex__parser__utils_8c_a1de4027800fc99d8b2707366c84097f3}{\_synctex\_last\_path\_component}(output); \textcolor{comment}{/*  do
       not free, output is the owner. base name of output*/}
347         \textcolor{comment}{/*  Do we have a real base name ? */}
348         \textcolor{keywordflow}{if}(strlen(base\_name)>0) \{
349             \textcolor{comment}{/*  Yes, we do. */}
350             \textcolor{keyword}{const} \textcolor{keywordtype}{char} * temp = NULL;
351             \textcolor{keywordtype}{char} * core\_name = NULL; \textcolor{comment}{/*  base name of output without path extension. */}
352             \textcolor{keywordtype}{char} * dir\_name = NULL; \textcolor{comment}{/*  dir name of output */}
353             \textcolor{keywordtype}{char} * quoted\_core\_name = NULL;
354             \textcolor{keywordtype}{char} * basic\_name = NULL;
355             \textcolor{keywordtype}{char} * gz\_name = NULL;
356             \textcolor{keywordtype}{char} * quoted\_name = NULL;
357             \textcolor{keywordtype}{char} * quoted\_gz\_name = NULL;
358             \textcolor{keywordtype}{char} * build\_name = NULL;
359             \textcolor{keywordtype}{char} * build\_gz\_name = NULL;
360             \textcolor{keywordtype}{char} * build\_quoted\_name = NULL;
361             \textcolor{keywordtype}{char} * build\_quoted\_gz\_name = NULL;
362             \textcolor{keyword}{struct }stat buf;
363             time\_t the\_time = 0;
364             \textcolor{comment}{/*  Create core\_name: let temp point to the dot before the path extension of base\_name;}
365 \textcolor{comment}{             *  We start form the \(\backslash\)0 terminating character and scan the string upward until we find a dot.}
366 \textcolor{comment}{             *  The leading dot is not accepted. */}
367             \textcolor{keywordflow}{if}((temp = strrchr(base\_name,\textcolor{charliteral}{'.'})) && (size = temp - base\_name)>0) \{
368                 \textcolor{comment}{/*  There is a dot and it is not at the leading position    */}
369                 \textcolor{keywordflow}{if}(NULL == (core\_name = (\textcolor{keywordtype}{char} *)malloc(size+1))) \{
370                     \hyperlink{synctex__parser__utils_8c_a9c118970c033e5ab0b74c59ad4920610}{\_synctex\_error}(\textcolor{stringliteral}{"!  \_synctex\_get\_name: Memory problem 1"});
371                     \textcolor{keywordflow}{return} -1;
372                 \}
373                 \textcolor{keywordflow}{if}(core\_name != strncpy(core\_name,base\_name,size)) \{
374                     \hyperlink{synctex__parser__utils_8c_a9c118970c033e5ab0b74c59ad4920610}{\_synctex\_error}(\textcolor{stringliteral}{"!  \_synctex\_get\_name: Copy problem 1"});
375                     free(core\_name);
376                     dir\_name = NULL;
377                     \textcolor{keywordflow}{return} -2;
378                 \}
379                 core\_name[\hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size}] = \textcolor{charliteral}{'\(\backslash\)0'};
380             \} \textcolor{keywordflow}{else} \{
381                 \textcolor{comment}{/*  There is no path extension,}
382 \textcolor{comment}{                 *  Just make a copy of base\_name */}
383                 core\_name = \hyperlink{synctex__parser__utils_8c_a5ef3f885904fecf044375db1ffbdccb6}{\_synctex\_merge\_strings}(base\_name);
384             \}
385             \textcolor{comment}{/*  core\_name is properly set up, owned by "self". */}
386             \textcolor{comment}{/*  creating dir\_name. */}
387             size = strlen(output)-strlen(base\_name);
388             \textcolor{keywordflow}{if}(size>0) \{
389                 \textcolor{comment}{/*  output contains more than one path component */}
390                 \textcolor{keywordflow}{if}(NULL == (dir\_name = (\textcolor{keywordtype}{char} *)malloc(size+1))) \{
391                     \hyperlink{synctex__parser__utils_8c_a9c118970c033e5ab0b74c59ad4920610}{\_synctex\_error}(\textcolor{stringliteral}{"!  \_synctex\_get\_name: Memory problem"});
392                     free(core\_name);
393                     dir\_name = NULL;
394                     \textcolor{keywordflow}{return} -1;
395                 \}
396                 \textcolor{keywordflow}{if}(dir\_name != strncpy(dir\_name,output,size)) \{
397                     \hyperlink{synctex__parser__utils_8c_a9c118970c033e5ab0b74c59ad4920610}{\_synctex\_error}(\textcolor{stringliteral}{"!  \_synctex\_get\_name: Copy problem"});
398                     free(dir\_name);
399                     dir\_name = NULL;
400                     free(core\_name);
401                     dir\_name = NULL;
402                     \textcolor{keywordflow}{return} -2;
403                 \}
404                 dir\_name[\hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size}] = \textcolor{charliteral}{'\(\backslash\)0'};
405             \}
406             \textcolor{comment}{/*  dir\_name is properly set up. It ends with a path separator, if non void. */}
407             \textcolor{comment}{/*  creating quoted\_core\_name. */}
408             \textcolor{keywordflow}{if}(strchr(core\_name,\textcolor{charliteral}{' '})) \{
409                 quoted\_core\_name = \hyperlink{synctex__parser__utils_8c_a5ef3f885904fecf044375db1ffbdccb6}{\_synctex\_merge\_strings}(\textcolor{stringliteral}{"\(\backslash\)""},core\_name,\textcolor{stringliteral}{"\(\backslash\)""});
410             \}
411             \textcolor{comment}{/*  quoted\_core\_name is properly set up. */}
412             \textcolor{keywordflow}{if}(dir\_name &&strlen(dir\_name)>0) \{
413                 basic\_name = \hyperlink{synctex__parser__utils_8c_a5ef3f885904fecf044375db1ffbdccb6}{\_synctex\_merge\_strings}(dir\_name,core\_name,
      \hyperlink{synctex__parser_8c_a18f9ac2920ea32f1fc3a52b9c72ad9ca}{synctex\_suffix},NULL);
414                 \textcolor{keywordflow}{if}(quoted\_core\_name && strlen(quoted\_core\_name)>0) \{
415                     quoted\_name = \hyperlink{synctex__parser__utils_8c_a5ef3f885904fecf044375db1ffbdccb6}{\_synctex\_merge\_strings}(dir\_name,quoted\_core\_name,
      \hyperlink{synctex__parser_8c_a18f9ac2920ea32f1fc3a52b9c72ad9ca}{synctex\_suffix},NULL);
416                 \}
417             \} \textcolor{keywordflow}{else} \{
418                 basic\_name = \hyperlink{synctex__parser__utils_8c_a5ef3f885904fecf044375db1ffbdccb6}{\_synctex\_merge\_strings}(core\_name,
      \hyperlink{synctex__parser_8c_a18f9ac2920ea32f1fc3a52b9c72ad9ca}{synctex\_suffix},NULL);
419                 \textcolor{keywordflow}{if}(quoted\_core\_name && strlen(quoted\_core\_name)>0) \{
420                     quoted\_name = \hyperlink{synctex__parser__utils_8c_a5ef3f885904fecf044375db1ffbdccb6}{\_synctex\_merge\_strings}(quoted\_core\_name,
      \hyperlink{synctex__parser_8c_a18f9ac2920ea32f1fc3a52b9c72ad9ca}{synctex\_suffix},NULL);
421                 \}
422             \}
423             \textcolor{keywordflow}{if}(!\hyperlink{synctex__parser__utils_8c_a7c0f314f90789998bb644223af426289}{\_synctex\_path\_is\_absolute}(output) && build\_directory && (size = 
      strlen(build\_directory))) \{
424                 temp = build\_directory + size - 1;
425                 \textcolor{keywordflow}{if}(\hyperlink{synctex__parser__utils_8c_a7c0f314f90789998bb644223af426289}{\_synctex\_path\_is\_absolute}(temp)) \{
426                     build\_name = \hyperlink{synctex__parser__utils_8c_a5ef3f885904fecf044375db1ffbdccb6}{\_synctex\_merge\_strings}(build\_directory,basic\_name,
      NULL);
427                     \textcolor{keywordflow}{if}(quoted\_core\_name && strlen(quoted\_core\_name)>0) \{
428                         build\_quoted\_name = \hyperlink{synctex__parser__utils_8c_a5ef3f885904fecf044375db1ffbdccb6}{\_synctex\_merge\_strings}(build\_directory,
      quoted\_name,NULL);
429                     \}
430                 \} \textcolor{keywordflow}{else} \{
431                     build\_name = \hyperlink{synctex__parser__utils_8c_a5ef3f885904fecf044375db1ffbdccb6}{\_synctex\_merge\_strings}(build\_directory,\textcolor{stringliteral}{"/"},
      basic\_name,NULL);
432                     \textcolor{keywordflow}{if}(quoted\_core\_name && strlen(quoted\_core\_name)>0) \{
433                         build\_quoted\_name = \hyperlink{synctex__parser__utils_8c_a5ef3f885904fecf044375db1ffbdccb6}{\_synctex\_merge\_strings}(build\_directory,\textcolor{stringliteral}{"/
      "},quoted\_name,NULL);
434                     \}
435                 \}
436             \}
437             \textcolor{keywordflow}{if}(basic\_name) \{
438                 gz\_name = \hyperlink{synctex__parser__utils_8c_a5ef3f885904fecf044375db1ffbdccb6}{\_synctex\_merge\_strings}(basic\_name,
      \hyperlink{synctex__parser_8c_a51a71dfd2f66a3012f3872cebaf701b7}{synctex\_suffix\_gz},NULL);
439             \}
440             \textcolor{keywordflow}{if}(quoted\_name) \{
441                 quoted\_gz\_name = \hyperlink{synctex__parser__utils_8c_a5ef3f885904fecf044375db1ffbdccb6}{\_synctex\_merge\_strings}(quoted\_name,
      \hyperlink{synctex__parser_8c_a51a71dfd2f66a3012f3872cebaf701b7}{synctex\_suffix\_gz},NULL);
442             \}
443             \textcolor{keywordflow}{if}(build\_name) \{
444                 build\_gz\_name = \hyperlink{synctex__parser__utils_8c_a5ef3f885904fecf044375db1ffbdccb6}{\_synctex\_merge\_strings}(build\_name,
      \hyperlink{synctex__parser_8c_a51a71dfd2f66a3012f3872cebaf701b7}{synctex\_suffix\_gz},NULL);
445             \}
446             \textcolor{keywordflow}{if}(build\_quoted\_name) \{
447                 build\_quoted\_gz\_name = \hyperlink{synctex__parser__utils_8c_a5ef3f885904fecf044375db1ffbdccb6}{\_synctex\_merge\_strings}(build\_quoted\_name,
      \hyperlink{synctex__parser_8c_a51a71dfd2f66a3012f3872cebaf701b7}{synctex\_suffix\_gz},NULL);
448             \}
449             \textcolor{comment}{/*  All the others names are properly set up... */}
450             \textcolor{comment}{/*  retain the most recently modified file */}
451 \textcolor{preprocessor}{#           define TEST(FILENAME,COMPRESS\_MODE) \(\backslash\)}
452 \textcolor{preprocessor}{            if(FILENAME) \{\(\backslash\)}
453 \textcolor{preprocessor}{                if (stat(FILENAME, &buf)) \{ \(\backslash\)}
454 \textcolor{preprocessor}{                    free(FILENAME);\(\backslash\)}
455 \textcolor{preprocessor}{                    FILENAME = NULL;\(\backslash\)}
456 \textcolor{preprocessor}{                \} else if (buf.st\_mtime>the\_time) \{ \(\backslash\)}
457 \textcolor{preprocessor}{                    the\_time=buf.st\_mtime; \(\backslash\)}
458 \textcolor{preprocessor}{                    synctex\_name = FILENAME; \(\backslash\)}
459 \textcolor{preprocessor}{                    if (COMPRESS\_MODE) \{ \(\backslash\)}
460 \textcolor{preprocessor}{                        io\_mode |= synctex\_io\_gz\_mask; \(\backslash\)}
461 \textcolor{preprocessor}{                    \} else \{ \(\backslash\)}
462 \textcolor{preprocessor}{                        io\_mode &= ~synctex\_io\_gz\_mask; \(\backslash\)}
463 \textcolor{preprocessor}{                    \} \(\backslash\)}
464 \textcolor{preprocessor}{                \} \(\backslash\)}
465 \textcolor{preprocessor}{            \}}
466             \hyperlink{synctex__parser__utils_8c_ae872b90d9f1fd50fb53b4b84b6739ebc}{TEST}(basic\_name,\hyperlink{synctex__parser__utils_8h_a931a5cf71e31d037bea3779b640dbb18}{synctex\_DONT\_COMPRESS});
467             \hyperlink{synctex__parser__utils_8c_ae872b90d9f1fd50fb53b4b84b6739ebc}{TEST}(gz\_name,\hyperlink{synctex__parser__utils_8h_a6efaecc59505482016a28646bdb636e2}{synctex\_COMPRESS});
468             \hyperlink{synctex__parser__utils_8c_ae872b90d9f1fd50fb53b4b84b6739ebc}{TEST}(quoted\_name,\hyperlink{synctex__parser__utils_8h_a931a5cf71e31d037bea3779b640dbb18}{synctex\_DONT\_COMPRESS});
469             \hyperlink{synctex__parser__utils_8c_ae872b90d9f1fd50fb53b4b84b6739ebc}{TEST}(quoted\_gz\_name,\hyperlink{synctex__parser__utils_8h_a6efaecc59505482016a28646bdb636e2}{synctex\_COMPRESS});
470             \hyperlink{synctex__parser__utils_8c_ae872b90d9f1fd50fb53b4b84b6739ebc}{TEST}(build\_name,\hyperlink{synctex__parser__utils_8h_a931a5cf71e31d037bea3779b640dbb18}{synctex\_DONT\_COMPRESS});
471             \hyperlink{synctex__parser__utils_8c_ae872b90d9f1fd50fb53b4b84b6739ebc}{TEST}(build\_gz\_name,\hyperlink{synctex__parser__utils_8h_a6efaecc59505482016a28646bdb636e2}{synctex\_COMPRESS});
472             \hyperlink{synctex__parser__utils_8c_ae872b90d9f1fd50fb53b4b84b6739ebc}{TEST}(build\_quoted\_name,\hyperlink{synctex__parser__utils_8h_a931a5cf71e31d037bea3779b640dbb18}{synctex\_DONT\_COMPRESS});
473             \hyperlink{synctex__parser__utils_8c_ae872b90d9f1fd50fb53b4b84b6739ebc}{TEST}(build\_quoted\_gz\_name,\hyperlink{synctex__parser__utils_8h_a6efaecc59505482016a28646bdb636e2}{synctex\_COMPRESS});
474 \textcolor{preprocessor}{#           undef TEST}
475             \textcolor{comment}{/*  Free all the intermediate filenames, except the one that will be used as returned value. */}
476 \textcolor{preprocessor}{#           define CLEAN\_AND\_REMOVE(FILENAME) \(\backslash\)}
477 \textcolor{preprocessor}{            if(FILENAME && (FILENAME!=synctex\_name)) \{\(\backslash\)}
478 \textcolor{preprocessor}{                remove(FILENAME);\(\backslash\)}
479 \textcolor{preprocessor}{                printf("synctex tool info: %s removed\(\backslash\)n",FILENAME);\(\backslash\)}
480 \textcolor{preprocessor}{                free(FILENAME);\(\backslash\)}
481 \textcolor{preprocessor}{                FILENAME = NULL;\(\backslash\)}
482 \textcolor{preprocessor}{            \}}
483             \hyperlink{synctex__parser__utils_8c_aca8f08fdb3951c01e967b8ce9a0e548a}{CLEAN\_AND\_REMOVE}(basic\_name);
484             \hyperlink{synctex__parser__utils_8c_aca8f08fdb3951c01e967b8ce9a0e548a}{CLEAN\_AND\_REMOVE}(gz\_name);
485             \hyperlink{synctex__parser__utils_8c_aca8f08fdb3951c01e967b8ce9a0e548a}{CLEAN\_AND\_REMOVE}(quoted\_name);
486             \hyperlink{synctex__parser__utils_8c_aca8f08fdb3951c01e967b8ce9a0e548a}{CLEAN\_AND\_REMOVE}(quoted\_gz\_name);
487             \hyperlink{synctex__parser__utils_8c_aca8f08fdb3951c01e967b8ce9a0e548a}{CLEAN\_AND\_REMOVE}(build\_name);
488             \hyperlink{synctex__parser__utils_8c_aca8f08fdb3951c01e967b8ce9a0e548a}{CLEAN\_AND\_REMOVE}(build\_gz\_name);
489             \hyperlink{synctex__parser__utils_8c_aca8f08fdb3951c01e967b8ce9a0e548a}{CLEAN\_AND\_REMOVE}(build\_quoted\_name);
490             \hyperlink{synctex__parser__utils_8c_aca8f08fdb3951c01e967b8ce9a0e548a}{CLEAN\_AND\_REMOVE}(build\_quoted\_gz\_name);
491 \textcolor{preprocessor}{#           undef CLEAN\_AND\_REMOVE}
492             \textcolor{comment}{/* set up the returned values */}
493             * synctex\_name\_ref = \hyperlink{synctex__parser_8c_a06d86333a0938a0b6e3bf0895696596d}{synctex\_name};
494             * io\_mode\_ref = io\_mode;
495             \textcolor{keywordflow}{return} 0;
496         \}
497         \textcolor{keywordflow}{return} -1;\textcolor{comment}{/*  bad argument */}
498     \}
499     \textcolor{keywordflow}{return} -2;
500 \}
\end{DoxyCode}
\hypertarget{synctex__parser__utils_8c_ab3756269e72b98b8e9c9d9e73b449a00}{\index{synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}!\+\_\+synctex\+\_\+is\+\_\+equivalent\+\_\+file\+\_\+name@{\+\_\+synctex\+\_\+is\+\_\+equivalent\+\_\+file\+\_\+name}}
\index{\+\_\+synctex\+\_\+is\+\_\+equivalent\+\_\+file\+\_\+name@{\+\_\+synctex\+\_\+is\+\_\+equivalent\+\_\+file\+\_\+name}!synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}}
\subsubsection[{\+\_\+synctex\+\_\+is\+\_\+equivalent\+\_\+file\+\_\+name}]{\setlength{\rightskip}{0pt plus 5cm}{\bf synctex\+\_\+bool\+\_\+t} \+\_\+synctex\+\_\+is\+\_\+equivalent\+\_\+file\+\_\+name (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{lhs, }
\item[{const char $\ast$}]{rhs}
\end{DoxyParamCaption}
)}}\label{synctex__parser__utils_8c_ab3756269e72b98b8e9c9d9e73b449a00}


Definition at line 174 of file synctex\+\_\+parser\+\_\+utils.\+c.


\begin{DoxyCode}
174                                                                                   \{
175     \textcolor{comment}{/*  Remove the leading regex '(\(\backslash\)./+)*' in both rhs and lhs */}
176     lhs = \hyperlink{synctex__parser__utils_8c_a15275cb7044576257b45a04189db614c}{synctex\_ignore\_leading\_dot\_slash}(lhs);
177     rhs = \hyperlink{synctex__parser__utils_8c_a15275cb7044576257b45a04189db614c}{synctex\_ignore\_leading\_dot\_slash}(rhs);
178 \textcolor{preprocessor}{#   ifdef SYNCTEX\_WINDOWS}
179     \textcolor{comment}{/*  On Windows, filename should be compared case insensitive.}
180 \textcolor{comment}{     *  The characters '/' and '\(\backslash\)' are both valid path separators.}
181 \textcolor{comment}{     *  There will be a very serious problem concerning UTF8 because}
182 \textcolor{comment}{     *  not all the characters must be toupper...}
183 \textcolor{comment}{     *  I would like to have URL's instead of filenames. */}
184 next\_character:
185     \textcolor{keywordflow}{if}(\hyperlink{synctex__parser__utils_8h_ac009a442aeb9cc9e95babccc24197922}{SYNCTEX\_IS\_PATH\_SEPARATOR}(*lhs)) \{\textcolor{comment}{/*  lhs points to a path separator */}
186         \textcolor{keywordflow}{if}(!\hyperlink{synctex__parser__utils_8h_ac009a442aeb9cc9e95babccc24197922}{SYNCTEX\_IS\_PATH\_SEPARATOR}(*rhs)) \{\textcolor{comment}{/*  but not rhs */}
187             \textcolor{keywordflow}{return} \hyperlink{synctex__parser__utils_8h_a913570648d1bea87078321a1257fa781}{synctex\_NO};
188         \}
189     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{synctex__parser__utils_8h_ac009a442aeb9cc9e95babccc24197922}{SYNCTEX\_IS\_PATH\_SEPARATOR}(*rhs)) \{\textcolor{comment}{/*  rhs points to a path separator
       but not lhs */}
190         \textcolor{keywordflow}{return} \hyperlink{synctex__parser__utils_8h_a913570648d1bea87078321a1257fa781}{synctex\_NO};
191     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(toupper(*lhs) != toupper(*rhs))\{\textcolor{comment}{/*  uppercase do not match */}
192         \textcolor{keywordflow}{return} \hyperlink{synctex__parser__utils_8h_a913570648d1bea87078321a1257fa781}{synctex\_NO};
193     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!*lhs) \{\textcolor{comment}{/*  lhs is at the end of the string */}
194         \textcolor{keywordflow}{return} *rhs ? \hyperlink{synctex__parser__utils_8h_a913570648d1bea87078321a1257fa781}{synctex\_NO} : \hyperlink{synctex__parser__utils_8h_aefe95728c055ef228ea9bdecb0bf3a80}{synctex\_YES};
195     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(!*rhs) \{\textcolor{comment}{/*  rhs is at the end of the string but not lhs */}
196         \textcolor{keywordflow}{return} \hyperlink{synctex__parser__utils_8h_a913570648d1bea87078321a1257fa781}{synctex\_NO};
197     \}
198     ++lhs;
199     ++rhs;
200     \textcolor{keywordflow}{goto} next\_character;
201 \textcolor{preprocessor}{#   else}
202     \textcolor{keywordflow}{if} (lhs[0] == \textcolor{charliteral}{'/'} && rhs[0] == \textcolor{charliteral}{'/'}) \{ \textcolor{comment}{/* for absolute paths compare the real paths */}
203         \textcolor{keywordtype}{char} *lhsreal = realpath(lhs, 0);
204         \textcolor{keywordtype}{char} *rhsreal = realpath(rhs, 0);
205         \hyperlink{synctex__parser__utils_8h_aaa22ec91f0bc05d946ebf387daf9184e}{synctex\_bool\_t} result = lhsreal && rhsreal && 0 == strcmp(lhsreal,rhsreal)?
      \hyperlink{synctex__parser__utils_8h_aefe95728c055ef228ea9bdecb0bf3a80}{synctex\_YES}:\hyperlink{synctex__parser__utils_8h_a913570648d1bea87078321a1257fa781}{synctex\_NO};
206         free (lhsreal);
207         free (rhsreal);
208         \textcolor{keywordflow}{return} result;
209     \} \textcolor{keywordflow}{else} \{
210         \textcolor{keywordflow}{return} 0 == strcmp(lhs,rhs)?\hyperlink{synctex__parser__utils_8h_aefe95728c055ef228ea9bdecb0bf3a80}{synctex\_YES}:\hyperlink{synctex__parser__utils_8h_a913570648d1bea87078321a1257fa781}{synctex\_NO};
211     \}
212 \textcolor{preprocessor}{#   endif}
213 \}
\end{DoxyCode}
\hypertarget{synctex__parser__utils_8c_a1de4027800fc99d8b2707366c84097f3}{\index{synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}!\+\_\+synctex\+\_\+last\+\_\+path\+\_\+component@{\+\_\+synctex\+\_\+last\+\_\+path\+\_\+component}}
\index{\+\_\+synctex\+\_\+last\+\_\+path\+\_\+component@{\+\_\+synctex\+\_\+last\+\_\+path\+\_\+component}!synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}}
\subsubsection[{\+\_\+synctex\+\_\+last\+\_\+path\+\_\+component}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ \+\_\+synctex\+\_\+last\+\_\+path\+\_\+component (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{name}
\end{DoxyParamCaption}
)}}\label{synctex__parser__utils_8c_a1de4027800fc99d8b2707366c84097f3}


Definition at line 230 of file synctex\+\_\+parser\+\_\+utils.\+c.


\begin{DoxyCode}
230                                                              \{
231     \textcolor{keyword}{const} \textcolor{keywordtype}{char} * c = name+strlen(name);
232     \textcolor{keywordflow}{if}(c>name) \{
233         \textcolor{keywordflow}{if}(!\hyperlink{synctex__parser__utils_8h_ac009a442aeb9cc9e95babccc24197922}{SYNCTEX\_IS\_PATH\_SEPARATOR}(*c)) \{
234             \textcolor{keywordflow}{do} \{
235                 --c;
236                 \textcolor{keywordflow}{if}(\hyperlink{synctex__parser__utils_8h_ac009a442aeb9cc9e95babccc24197922}{SYNCTEX\_IS\_PATH\_SEPARATOR}(*c)) \{
237                     \textcolor{keywordflow}{return} c+1;
238                 \}
239             \} \textcolor{keywordflow}{while}(c>name);
240         \}
241         \textcolor{keywordflow}{return} c;\textcolor{comment}{/* the last path component is the void string*/}
242     \}
243     \textcolor{keywordflow}{return} c;
244 \}
\end{DoxyCode}
\hypertarget{synctex__parser__utils_8c_ae502668cd62641fb7474f2d58e13585d}{\index{synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}!\+\_\+synctex\+\_\+malloc@{\+\_\+synctex\+\_\+malloc}}
\index{\+\_\+synctex\+\_\+malloc@{\+\_\+synctex\+\_\+malloc}!synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}}
\subsubsection[{\+\_\+synctex\+\_\+malloc}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ \+\_\+synctex\+\_\+malloc (
\begin{DoxyParamCaption}
\item[{size\+\_\+t}]{size}
\end{DoxyParamCaption}
)}}\label{synctex__parser__utils_8c_ae502668cd62641fb7474f2d58e13585d}


Definition at line 68 of file synctex\+\_\+parser\+\_\+utils.\+c.


\begin{DoxyCode}
68                                    \{
69     \textcolor{keywordtype}{void} * ptr = malloc(\hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size});
70     \textcolor{keywordflow}{if}(ptr) \{
71 \textcolor{comment}{/*  There used to be a switch to use bzero because it is more secure. JL */}
72         memset(ptr,0, \hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size});
73     \}
74     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{void} *)ptr;
75 \}
\end{DoxyCode}
\hypertarget{synctex__parser__utils_8c_a5ef3f885904fecf044375db1ffbdccb6}{\index{synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}!\+\_\+synctex\+\_\+merge\+\_\+strings@{\+\_\+synctex\+\_\+merge\+\_\+strings}}
\index{\+\_\+synctex\+\_\+merge\+\_\+strings@{\+\_\+synctex\+\_\+merge\+\_\+strings}!synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}}
\subsubsection[{\+\_\+synctex\+\_\+merge\+\_\+strings}]{\setlength{\rightskip}{0pt plus 5cm}char $\ast$ \+\_\+synctex\+\_\+merge\+\_\+strings (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{first, }
\item[{}]{...}
\end{DoxyParamCaption}
)}}\label{synctex__parser__utils_8c_a5ef3f885904fecf044375db1ffbdccb6}


Definition at line 289 of file synctex\+\_\+parser\+\_\+utils.\+c.


\begin{DoxyCode}
289                                                       \{
290     va\_list arg;
291     \textcolor{keywordtype}{size\_t} \hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size} = 0;
292     \textcolor{keyword}{const} \textcolor{keywordtype}{char} * temp;
293     \textcolor{comment}{/*   First retrieve the size necessary to store the merged string */}
294     va\_start (arg, first);
295     temp = first;
296     \textcolor{keywordflow}{do} \{
297         \textcolor{keywordtype}{size\_t} len = strlen(temp);
298         \textcolor{keywordflow}{if}(UINT\_MAX-len<size) \{
299             \hyperlink{synctex__parser__utils_8c_a9c118970c033e5ab0b74c59ad4920610}{\_synctex\_error}(\textcolor{stringliteral}{"!  \_synctex\_merge\_strings: Capacity exceeded."});
300             \textcolor{keywordflow}{return} NULL;
301         \}
302         size+=len;
303     \} \textcolor{keywordflow}{while}( (temp = va\_arg(arg, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *)) != NULL);
304     va\_end(arg);
305     \textcolor{keywordflow}{if}(size>0) \{
306         \textcolor{keywordtype}{char} * result = NULL;
307         ++\hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size};
308         \textcolor{comment}{/*  Create the memory storage */}
309         \textcolor{keywordflow}{if}(NULL!=(result = (\textcolor{keywordtype}{char} *)malloc(size))) \{
310             \textcolor{keywordtype}{char} * \hyperlink{synctex__parser__utils_8c_a723e06ace24a60ed94dca199595c08d2}{dest} = result;
311             va\_start (arg, first);
312             temp = first;
313             \textcolor{keywordflow}{do} \{
314                 \textcolor{keywordflow}{if}((size = strlen(temp))>0) \{
315                     \textcolor{comment}{/*  There is something to merge */}
316                     \textcolor{keywordflow}{if}(dest != strncpy(dest,temp,size)) \{
317                         \hyperlink{synctex__parser__utils_8c_a9c118970c033e5ab0b74c59ad4920610}{\_synctex\_error}(\textcolor{stringliteral}{"!  \_synctex\_merge\_strings: Copy problem"});
318                         free(result);
319                         result = NULL;
320                         \textcolor{keywordflow}{return} NULL;
321                     \}
322                     dest += \hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size};
323                 \}
324             \} \textcolor{keywordflow}{while}( (temp = va\_arg(arg, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *)) != NULL);
325             va\_end(arg);
326             dest[0]=\textcolor{charliteral}{'\(\backslash\)0'};\textcolor{comment}{/*  Terminate the merged string */}
327             \textcolor{keywordflow}{return} result;
328         \}
329         \hyperlink{synctex__parser__utils_8c_a9c118970c033e5ab0b74c59ad4920610}{\_synctex\_error}(\textcolor{stringliteral}{"!  \_synctex\_merge\_strings: Memory problem"});
330         \textcolor{keywordflow}{return} NULL;
331     \}
332     \textcolor{keywordflow}{return} NULL;    
333 \}
\end{DoxyCode}
\hypertarget{synctex__parser__utils_8c_a7c0f314f90789998bb644223af426289}{\index{synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}!\+\_\+synctex\+\_\+path\+\_\+is\+\_\+absolute@{\+\_\+synctex\+\_\+path\+\_\+is\+\_\+absolute}}
\index{\+\_\+synctex\+\_\+path\+\_\+is\+\_\+absolute@{\+\_\+synctex\+\_\+path\+\_\+is\+\_\+absolute}!synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}}
\subsubsection[{\+\_\+synctex\+\_\+path\+\_\+is\+\_\+absolute}]{\setlength{\rightskip}{0pt plus 5cm}{\bf synctex\+\_\+bool\+\_\+t} \+\_\+synctex\+\_\+path\+\_\+is\+\_\+absolute (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{name}
\end{DoxyParamCaption}
)}}\label{synctex__parser__utils_8c_a7c0f314f90789998bb644223af426289}


Definition at line 215 of file synctex\+\_\+parser\+\_\+utils.\+c.


\begin{DoxyCode}
215                                                             \{
216     \textcolor{keywordflow}{if}(!strlen(name)) \{
217         \textcolor{keywordflow}{return} \hyperlink{synctex__parser__utils_8h_a913570648d1bea87078321a1257fa781}{synctex\_NO};
218     \}
219 \textcolor{preprocessor}{#   ifdef SYNCTEX\_WINDOWS}
220     \textcolor{keywordflow}{if}(strlen(name)>2) \{
221         \textcolor{keywordflow}{return} (name[1]==\textcolor{charliteral}{':'} && \hyperlink{synctex__parser__utils_8h_ac009a442aeb9cc9e95babccc24197922}{SYNCTEX\_IS\_PATH\_SEPARATOR}(name[2]))?
      \hyperlink{synctex__parser__utils_8h_aefe95728c055ef228ea9bdecb0bf3a80}{synctex\_YES}:\hyperlink{synctex__parser__utils_8h_a913570648d1bea87078321a1257fa781}{synctex\_NO};
222     \}
223     \textcolor{keywordflow}{return} \hyperlink{synctex__parser__utils_8h_a913570648d1bea87078321a1257fa781}{synctex\_NO};
224 \textcolor{preprocessor}{#   else}
225     \textcolor{keywordflow}{return} \hyperlink{synctex__parser__utils_8h_ac009a442aeb9cc9e95babccc24197922}{SYNCTEX\_IS\_PATH\_SEPARATOR}(name[0])?
      \hyperlink{synctex__parser__utils_8h_aefe95728c055ef228ea9bdecb0bf3a80}{synctex\_YES}:\hyperlink{synctex__parser__utils_8h_a913570648d1bea87078321a1257fa781}{synctex\_NO};
226 \textcolor{preprocessor}{#   endif}
227 \}
\end{DoxyCode}
\hypertarget{synctex__parser__utils_8c_a4be10ac1ea9a318df2da20223b8824b9}{\index{synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}!\+\_\+synctex\+\_\+strip\+\_\+last\+\_\+path\+\_\+extension@{\+\_\+synctex\+\_\+strip\+\_\+last\+\_\+path\+\_\+extension}}
\index{\+\_\+synctex\+\_\+strip\+\_\+last\+\_\+path\+\_\+extension@{\+\_\+synctex\+\_\+strip\+\_\+last\+\_\+path\+\_\+extension}!synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}}
\subsubsection[{\+\_\+synctex\+\_\+strip\+\_\+last\+\_\+path\+\_\+extension}]{\setlength{\rightskip}{0pt plus 5cm}void \+\_\+synctex\+\_\+strip\+\_\+last\+\_\+path\+\_\+extension (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{string}
\end{DoxyParamCaption}
)}}\label{synctex__parser__utils_8c_a4be10ac1ea9a318df2da20223b8824b9}


Definition at line 128 of file synctex\+\_\+parser\+\_\+utils.\+c.


\begin{DoxyCode}
128                                                        \{
129     \textcolor{keywordflow}{if}(NULL != \textcolor{keywordtype}{string})\{
130         \textcolor{keywordtype}{char} * last\_component = NULL;
131         \textcolor{keywordtype}{char} * last\_extension = NULL;
132         \textcolor{keywordtype}{char} * next = NULL;
133         \textcolor{comment}{/*  first we find the last path component */}
134         \textcolor{keywordflow}{if}(NULL == (last\_component = strstr(\textcolor{keywordtype}{string},\textcolor{stringliteral}{"/"})))\{
135             last\_component = string;
136         \} \textcolor{keywordflow}{else} \{
137             ++last\_component;
138             \textcolor{keywordflow}{while}((next = strstr(last\_component,\textcolor{stringliteral}{"/"})))\{
139                 last\_component = next+1;
140             \}
141         \}
142 \textcolor{preprocessor}{#       ifdef   SYNCTEX\_WINDOWS}
143         \textcolor{comment}{/*  On Windows, the '\(\backslash\)' is also a path separator. */}
144         \textcolor{keywordflow}{while}((next = strstr(last\_component,\textcolor{stringliteral}{"\(\backslash\)\(\backslash\)"})))\{
145             last\_component = next+1;
146         \}
147 \textcolor{preprocessor}{#       endif}
148         \textcolor{comment}{/*  then we find the last path extension */}
149         \textcolor{keywordflow}{if}((last\_extension = strstr(last\_component,\textcolor{stringliteral}{"."})))\{
150             ++last\_extension;
151             \textcolor{keywordflow}{while}((next = strstr(last\_extension,\textcolor{stringliteral}{"."})))\{
152                 last\_extension = next+1;
153             \}
154             --last\_extension;\textcolor{comment}{/*  back to the "." */}
155             \textcolor{keywordflow}{if}(last\_extension>last\_component)\{\textcolor{comment}{/*  filter out paths like ....my/dir/.hidden"*/}
156                 last\_extension[0] = \textcolor{charliteral}{'\(\backslash\)0'};
157             \}
158         \}
159     \}
160 \}
\end{DoxyCode}
\hypertarget{synctex__parser__utils_8c_a15275cb7044576257b45a04189db614c}{\index{synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}!synctex\+\_\+ignore\+\_\+leading\+\_\+dot\+\_\+slash@{synctex\+\_\+ignore\+\_\+leading\+\_\+dot\+\_\+slash}}
\index{synctex\+\_\+ignore\+\_\+leading\+\_\+dot\+\_\+slash@{synctex\+\_\+ignore\+\_\+leading\+\_\+dot\+\_\+slash}!synctex\+\_\+parser\+\_\+utils.\+c@{synctex\+\_\+parser\+\_\+utils.\+c}}
\subsubsection[{synctex\+\_\+ignore\+\_\+leading\+\_\+dot\+\_\+slash}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ synctex\+\_\+ignore\+\_\+leading\+\_\+dot\+\_\+slash (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{name}
\end{DoxyParamCaption}
)}}\label{synctex__parser__utils_8c_a15275cb7044576257b45a04189db614c}


Definition at line 162 of file synctex\+\_\+parser\+\_\+utils.\+c.


\begin{DoxyCode}
163 \{
164     \textcolor{keywordflow}{while}(\hyperlink{synctex__parser__utils_8h_a1e39810d3cb73acd286c67def25e20d7}{SYNCTEX\_IS\_DOT}(*name) && \hyperlink{synctex__parser__utils_8h_ac009a442aeb9cc9e95babccc24197922}{SYNCTEX\_IS\_PATH\_SEPARATOR}(name[1]
      )) \{
165         name += 2;
166         \textcolor{keywordflow}{while} (\hyperlink{synctex__parser__utils_8h_ac009a442aeb9cc9e95babccc24197922}{SYNCTEX\_IS\_PATH\_SEPARATOR}(*name)) \{
167             ++name;
168         \}
169     \}
170     \textcolor{keywordflow}{return} name;
171 \}
\end{DoxyCode}
