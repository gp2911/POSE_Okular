\hypertarget{classFaxGenerator}{\section{Fax\+Generator Class Reference}
\label{classFaxGenerator}\index{Fax\+Generator@{Fax\+Generator}}
}


{\ttfamily \#include $<$generator\+\_\+fax.\+h$>$}

Inheritance diagram for Fax\+Generator\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classFaxGenerator}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classFaxGenerator_a659a37fc919be555466751c2fdcc46cc}{Fax\+Generator} (Q\+Object $\ast$parent, const Q\+Variant\+List \&args)
\item 
virtual \hyperlink{classFaxGenerator_af7189320300e3cae3fff55512fc0905b}{$\sim$\+Fax\+Generator} ()
\item 
bool \hyperlink{classFaxGenerator_acf99fcddfc0395672ecd7274f7ef4511}{load\+Document} (const Q\+String \&file\+Name, Q\+Vector$<$ \hyperlink{classOkular_1_1Page}{Okular\+::\+Page} $\ast$ $>$ \&pages\+Vector)
\item 
const \hyperlink{classOkular_1_1DocumentInfo}{Okular\+::\+Document\+Info} $\ast$ \hyperlink{classFaxGenerator_ac707f45b286edccfbfeaad725bd05c6b}{generate\+Document\+Info} ()
\item 
bool \hyperlink{classFaxGenerator_ab0ff222d4d10e75cea04f1af8ca8296e}{print} (Q\+Printer \&printer)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classFaxGenerator_aafb9e115ed19679c6af5f18238310b3f}{do\+Close\+Document} ()
\item 
Q\+Image \hyperlink{classFaxGenerator_ac41d5d048aadf8640da77d95458e7b36}{image} (\hyperlink{classOkular_1_1PixmapRequest}{Okular\+::\+Pixmap\+Request} $\ast$request)
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 17 of file generator\+\_\+fax.\+h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classFaxGenerator_a659a37fc919be555466751c2fdcc46cc}{\index{Fax\+Generator@{Fax\+Generator}!Fax\+Generator@{Fax\+Generator}}
\index{Fax\+Generator@{Fax\+Generator}!Fax\+Generator@{Fax\+Generator}}
\subsubsection[{Fax\+Generator}]{\setlength{\rightskip}{0pt plus 5cm}Fax\+Generator\+::\+Fax\+Generator (
\begin{DoxyParamCaption}
\item[{Q\+Object $\ast$}]{parent, }
\item[{const Q\+Variant\+List \&}]{args}
\end{DoxyParamCaption}
)}}\label{classFaxGenerator_a659a37fc919be555466751c2fdcc46cc}


Definition at line 41 of file generator\+\_\+fax.\+cpp.


\begin{DoxyCode}
42     : \hyperlink{classOkular_1_1Generator_a9a493b3f23f5d8b34eae9fa7231556f6}{Generator}( parent, args )
43 \{
44     \hyperlink{classOkular_1_1Generator_abcebcc5f69e98b6227496198a5c69d2c}{setFeature}( \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a0764a910b194896e72da084c3c51a2d0}{Threaded} );
45     \hyperlink{classOkular_1_1Generator_abcebcc5f69e98b6227496198a5c69d2c}{setFeature}( \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a7b40b8f6b9e4330bddff3cdf0baf07a9}{PrintNative} );
46     \hyperlink{classOkular_1_1Generator_abcebcc5f69e98b6227496198a5c69d2c}{setFeature}( \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a0bb6cbe50f2ffb616e25106b2e34c289}{PrintToFile} );
47 \}
\end{DoxyCode}
\hypertarget{classFaxGenerator_af7189320300e3cae3fff55512fc0905b}{\index{Fax\+Generator@{Fax\+Generator}!````~Fax\+Generator@{$\sim$\+Fax\+Generator}}
\index{````~Fax\+Generator@{$\sim$\+Fax\+Generator}!Fax\+Generator@{Fax\+Generator}}
\subsubsection[{$\sim$\+Fax\+Generator}]{\setlength{\rightskip}{0pt plus 5cm}Fax\+Generator\+::$\sim$\+Fax\+Generator (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classFaxGenerator_af7189320300e3cae3fff55512fc0905b}


Definition at line 49 of file generator\+\_\+fax.\+cpp.


\begin{DoxyCode}
50 \{
51 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{classFaxGenerator_aafb9e115ed19679c6af5f18238310b3f}{\index{Fax\+Generator@{Fax\+Generator}!do\+Close\+Document@{do\+Close\+Document}}
\index{do\+Close\+Document@{do\+Close\+Document}!Fax\+Generator@{Fax\+Generator}}
\subsubsection[{do\+Close\+Document}]{\setlength{\rightskip}{0pt plus 5cm}bool Fax\+Generator\+::do\+Close\+Document (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{classFaxGenerator_aafb9e115ed19679c6af5f18238310b3f}
This method is called when the document is closed and not used any longer.

\begin{DoxyReturn}{Returns}
true on success, false otherwise. 
\end{DoxyReturn}


Implements \hyperlink{classOkular_1_1Generator_ad3f1dcb98f3bd87c87ad0e91ecf4a6d7}{Okular\+::\+Generator}.



Definition at line 85 of file generator\+\_\+fax.\+cpp.


\begin{DoxyCode}
86 \{
87     m\_img = QImage();
88     \textcolor{keyword}{delete} m\_docInfo;
89     m\_docInfo = 0;
90 
91     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
92 \}
\end{DoxyCode}
\hypertarget{classFaxGenerator_ac707f45b286edccfbfeaad725bd05c6b}{\index{Fax\+Generator@{Fax\+Generator}!generate\+Document\+Info@{generate\+Document\+Info}}
\index{generate\+Document\+Info@{generate\+Document\+Info}!Fax\+Generator@{Fax\+Generator}}
\subsubsection[{generate\+Document\+Info}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Okular\+::\+Document\+Info} $\ast$ Fax\+Generator\+::generate\+Document\+Info (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classFaxGenerator_ac707f45b286edccfbfeaad725bd05c6b}
Returns the general information object of the document or 0 if no information are available. 

Reimplemented from \hyperlink{classOkular_1_1Generator_a9993dd0a2415499e23d8394e7a447e98}{Okular\+::\+Generator}.



Definition at line 105 of file generator\+\_\+fax.\+cpp.


\begin{DoxyCode}
106 \{
107     \textcolor{keywordflow}{return} m\_docInfo;
108 \}
\end{DoxyCode}
\hypertarget{classFaxGenerator_ac41d5d048aadf8640da77d95458e7b36}{\index{Fax\+Generator@{Fax\+Generator}!image@{image}}
\index{image@{image}!Fax\+Generator@{Fax\+Generator}}
\subsubsection[{image}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Image Fax\+Generator\+::image (
\begin{DoxyParamCaption}
\item[{{\bf Okular\+::\+Pixmap\+Request} $\ast$}]{page}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{classFaxGenerator_ac41d5d048aadf8640da77d95458e7b36}
Returns the image of the page as specified in the passed pixmap {\ttfamily request}.

\begin{DoxyWarning}{Warning}
this method may be executed in its own separated thread if the \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a0764a910b194896e72da084c3c51a2d0}{Threaded} is enabled! 
\end{DoxyWarning}


Reimplemented from \hyperlink{classOkular_1_1Generator_a6712c8d3c2759c3a1fcacbd503d3286e}{Okular\+::\+Generator}.



Definition at line 94 of file generator\+\_\+fax.\+cpp.


\begin{DoxyCode}
95 \{
96     \textcolor{comment}{// perform a smooth scaled generation}
97     \textcolor{keywordtype}{int} width = request->width();
98     \textcolor{keywordtype}{int} height = request->height();
99     \textcolor{keywordflow}{if} ( request->page()->rotation() % 2 == 1 )
100         \hyperlink{htmlextension_8h_a6aa0d61b42274f15f4a693b0c7bea484}{qSwap}( width, height );
101 
102     \textcolor{keywordflow}{return} m\_img.scaled( width, height, Qt::IgnoreAspectRatio, Qt::SmoothTransformation );
103 \}
\end{DoxyCode}
\hypertarget{classFaxGenerator_acf99fcddfc0395672ecd7274f7ef4511}{\index{Fax\+Generator@{Fax\+Generator}!load\+Document@{load\+Document}}
\index{load\+Document@{load\+Document}!Fax\+Generator@{Fax\+Generator}}
\subsubsection[{load\+Document}]{\setlength{\rightskip}{0pt plus 5cm}bool Fax\+Generator\+::load\+Document (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{file\+Name, }
\item[{Q\+Vector$<$ {\bf Okular\+::\+Page} $\ast$ $>$ \&}]{pages\+Vector}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classFaxGenerator_acf99fcddfc0395672ecd7274f7ef4511}
Loads the document with the given {\ttfamily file\+Name} and fills the {\ttfamily pages\+Vector} with the parsed pages.

\begin{DoxyReturn}{Returns}
true on success, false otherwise. 
\end{DoxyReturn}


Implements \hyperlink{classOkular_1_1Generator_a388b47328a5297d53cdbdc6fcf074ee3}{Okular\+::\+Generator}.



Definition at line 53 of file generator\+\_\+fax.\+cpp.


\begin{DoxyCode}
54 \{
55     \hyperlink{classFaxDocument_a0590424a710415338643b6b9c91b30de}{FaxDocument::DocumentType} type;
56     \textcolor{keywordflow}{if} ( fileName.toLower().endsWith( \textcolor{stringliteral}{".g3"} ) )
57         type = \hyperlink{classFaxDocument_a0590424a710415338643b6b9c91b30dea2d43ce64c1412ea8a7dfa1fbfe756fd8}{FaxDocument::G3};
58     \textcolor{keywordflow}{else}
59         type = \hyperlink{classFaxDocument_a0590424a710415338643b6b9c91b30dea8a858710690eefc015a052c756899600}{FaxDocument::G4};
60 
61     \hyperlink{classFaxDocument}{FaxDocument} faxDocument( fileName, type );
62 
63     \textcolor{keywordflow}{if} ( !faxDocument.load() )
64     \{
65         emit \hyperlink{classOkular_1_1Generator_a0f73eaeb88ccb1ecb73814a918244e03}{error}( i18n( \textcolor{stringliteral}{"Unable to load document"} ), -1 );
66         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
67     \}
68 
69     m\_img = faxDocument.image();
70 
71     pagesVector.resize( 1 );
72 
73     \hyperlink{classOkular_1_1Page}{Okular::Page} * page = \textcolor{keyword}{new} \hyperlink{classOkular_1_1Page}{Okular::Page}( 0, m\_img.width(), m\_img.height(), 
      \hyperlink{namespaceOkular_a8556d00465f61ef533c6b027669e7da6aa4df8fc3dd09e30520c264c8d23d89c2}{Okular::Rotation0} );
74     pagesVector[0] = page;
75 
76     m\_docInfo = \textcolor{keyword}{new} \hyperlink{classOkular_1_1DocumentInfo}{Okular::DocumentInfo}();
77     \textcolor{keywordflow}{if} ( type == \hyperlink{classFaxDocument_a0590424a710415338643b6b9c91b30dea2d43ce64c1412ea8a7dfa1fbfe756fd8}{FaxDocument::G3} )
78         m\_docInfo->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \hyperlink{classOkular_1_1DocumentInfo_a3a6e5f7fb246e29bcb2e830b6f770791a786464e8e8c3e6ba1cd74e408487785b}{Okular::DocumentInfo::MimeType}, \textcolor{stringliteral}{"image/fax-g3"} );
79     \textcolor{keywordflow}{else}
80         m\_docInfo->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \hyperlink{classOkular_1_1DocumentInfo_a3a6e5f7fb246e29bcb2e830b6f770791a786464e8e8c3e6ba1cd74e408487785b}{Okular::DocumentInfo::MimeType}, \textcolor{stringliteral}{"image/fax-g4"} );
81 
82     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
83 \}
\end{DoxyCode}
\hypertarget{classFaxGenerator_ab0ff222d4d10e75cea04f1af8ca8296e}{\index{Fax\+Generator@{Fax\+Generator}!print@{print}}
\index{print@{print}!Fax\+Generator@{Fax\+Generator}}
\subsubsection[{print}]{\setlength{\rightskip}{0pt plus 5cm}bool Fax\+Generator\+::print (
\begin{DoxyParamCaption}
\item[{Q\+Printer \&}]{printer}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classFaxGenerator_ab0ff222d4d10e75cea04f1af8ca8296e}
This method is called to print the document to the given {\ttfamily printer}. 

Reimplemented from \hyperlink{classOkular_1_1Generator_aa786d406a1b0db6679a3bc62bbe2dc82}{Okular\+::\+Generator}.



Definition at line 110 of file generator\+\_\+fax.\+cpp.


\begin{DoxyCode}
111 \{
112     QPainter p( &printer );
113 
114     QImage \hyperlink{classFaxGenerator_ac41d5d048aadf8640da77d95458e7b36}{image}( m\_img );
115 
116     \textcolor{keywordflow}{if} ( ( \hyperlink{classFaxGenerator_ac41d5d048aadf8640da77d95458e7b36}{image}.width() > printer.width() ) || ( \hyperlink{classFaxGenerator_ac41d5d048aadf8640da77d95458e7b36}{image}.height() > printer.height() ) )
117 
118         \hyperlink{classFaxGenerator_ac41d5d048aadf8640da77d95458e7b36}{image} = \hyperlink{classFaxGenerator_ac41d5d048aadf8640da77d95458e7b36}{image}.scaled( printer.width(), printer.height(),
119                               Qt::KeepAspectRatio, Qt::SmoothTransformation );
120 
121     p.drawImage( 0, 0, \hyperlink{classFaxGenerator_ac41d5d048aadf8640da77d95458e7b36}{image} );
122 
123     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
124 \}
\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
generators/fax/\hyperlink{generator__fax_8h}{generator\+\_\+fax.\+h}\item 
generators/fax/\hyperlink{generator__fax_8cpp}{generator\+\_\+fax.\+cpp}\end{DoxyCompactItemize}
