\hypertarget{classOkular_1_1Document}{\section{Okular\+:\+:Document Class Reference}
\label{classOkular_1_1Document}\index{Okular\+::\+Document@{Okular\+::\+Document}}
}


The \hyperlink{classOkular_1_1Document}{Document}. Heart of everything. Actions take place here.  




{\ttfamily \#include $<$document.\+h$>$}

Inheritance diagram for Okular\+:\+:Document\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classOkular_1_1Document}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classOkular_1_1Document_a34c1f67c024cfbdd46379c5fac3674d7}{Pixmap\+Request\+Flag} \{ \hyperlink{classOkular_1_1Document_a34c1f67c024cfbdd46379c5fac3674d7a87c3cee454d9bacfd7e9642eb697abb0}{No\+Option} = 0, 
\hyperlink{classOkular_1_1Document_a34c1f67c024cfbdd46379c5fac3674d7a3e895c552ec2119c4a743aaefa3d00af}{Remove\+All\+Previous} = 1
 \}
\item 
enum \hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bad}{Search\+Type} \{ \\*
\hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7badab071628bda8b6bfb432ceae4eaca8792}{Next\+Match}, 
\hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada092b092af6301535f9e11921195c1e14}{Previous\+Match}, 
\hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada3b5d0384aa5f19eb1336ffbecfd20131}{All\+Document}, 
\hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada6f81a31b92307bd8a97aca7c109b3239}{Google\+All}, 
\\*
\hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada1ec423a1f00db8dbfd842b8d6c1f3d7f}{Google\+Any}
 \}
\item 
enum \hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbb}{Search\+Status} \{ \hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbbaee768cc03e09b4188b091b652e1556ab}{Match\+Found}, 
\hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbba6f1e44c2a23dde543d40770f949a2882}{No\+Match\+Found}, 
\hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbbacc76ba5b7c23f4d24515076e946373b4}{Search\+Cancelled}
 \}
\item 
enum \hyperlink{classOkular_1_1Document_ad5630e57d57d854b37ed4b362f7dab12}{Printing\+Type} \{ \hyperlink{classOkular_1_1Document_ad5630e57d57d854b37ed4b362f7dab12a81a8466201e7cb753617f7af99308ae7}{No\+Printing}, 
\hyperlink{classOkular_1_1Document_ad5630e57d57d854b37ed4b362f7dab12a5745a55426d5d26628e5f6246ef19b73}{Native\+Printing}, 
\hyperlink{classOkular_1_1Document_ad5630e57d57d854b37ed4b362f7dab12a4b3d87d5a23cf38f190a7da005453995}{Postscript\+Printing}
 \}
\item 
enum \hyperlink{classOkular_1_1Document_a7aa93fc147bd5aa966d65477b5c5eae9}{Save\+Capability} \{ \hyperlink{classOkular_1_1Document_a7aa93fc147bd5aa966d65477b5c5eae9af3700f1553625c9cf992b4c5cc783ccd}{Save\+Forms\+Capability} = 1, 
\hyperlink{classOkular_1_1Document_a7aa93fc147bd5aa966d65477b5c5eae9ab39f6065bb5cff48353657ac469f827b}{Save\+Annotations\+Capability} = 2
 \}
\end{DoxyCompactItemize}
\subsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classOkular_1_1Document_a2f2f1091749143d82fd30f1d3d6cef87}{set\+Rotation} (int \hyperlink{classOkular_1_1Document_aa419f95f101b5672926c7cd4485f12e6}{rotation})
\item 
void \hyperlink{classOkular_1_1Document_a21c63211b744c1fd6e6357cfa0eda7f7}{set\+Page\+Size} (const \hyperlink{classOkular_1_1PageSize}{Page\+Size} \&\hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size})
\item 
void \hyperlink{classOkular_1_1Document_a1f2fa321ed9357c5110b78a0c2502a8d}{cancel\+Search} ()
\item 
void \hyperlink{classOkular_1_1Document_a2948b7150ebee16ee611734226c5d247}{undo} ()
\item 
void \hyperlink{classOkular_1_1Document_a55a775164d34b00f74c4242ed952f676}{redo} ()
\item 
void \hyperlink{classOkular_1_1Document_a2ee7954b954aece4dd25faebc24b37e9}{edit\+Form\+Text} (int page\+Number, \hyperlink{classOkular_1_1FormFieldText}{Okular\+::\+Form\+Field\+Text} $\ast$form, const Q\+String \&new\+Contents, int new\+Cursor\+Pos, int prev\+Cursor\+Pos, int prev\+Anchor\+Pos)
\item 
void \hyperlink{classOkular_1_1Document_a4238ade3326c1ab2d8f4ae1a33947e2c}{edit\+Form\+List} (int page\+Number, \hyperlink{classOkular_1_1FormFieldChoice}{Okular\+::\+Form\+Field\+Choice} $\ast$form, const \hyperlink{classQList}{Q\+List}$<$ int $>$ \&new\+Choices)
\item 
void \hyperlink{classOkular_1_1Document_af510014e1ae816d8e602c3b4abb754d5}{edit\+Form\+Combo} (int page\+Number, \hyperlink{classOkular_1_1FormFieldChoice}{Okular\+::\+Form\+Field\+Choice} $\ast$form, const Q\+String \&new\+Text, int new\+Cursor\+Pos, int prev\+Cursor\+Pos, int prev\+Anchor\+Pos)
\item 
void \hyperlink{classOkular_1_1Document_aa578ae4d0b957bfbc867b14372f287fd}{edit\+Form\+Buttons} (int page\+Number, const \hyperlink{classQList}{Q\+List}$<$ \hyperlink{classOkular_1_1FormFieldButton}{Okular\+::\+Form\+Field\+Button} $\ast$ $>$ \&form\+Buttons, const \hyperlink{classQList}{Q\+List}$<$ bool $>$ \&new\+Button\+States)
\end{DoxyCompactItemize}
\subsection*{Signals}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classOkular_1_1Document_a703b5ba4788bacfc7ab9b49e479eb07f}{close} ()
\item 
void \hyperlink{classOkular_1_1Document_aa04cd4b2c38ee3fbf65d2b3b567e23a2}{quit} ()
\item 
void \hyperlink{classOkular_1_1Document_a5fc2584f750c347596ca9b8f8b94338c}{link\+Find} ()
\item 
void \hyperlink{classOkular_1_1Document_a400ff9bcef27418b96a7dd3cdd0f5ec0}{link\+Go\+To\+Page} ()
\item 
void \hyperlink{classOkular_1_1Document_a508d62333a719a476c280d7336550009}{link\+Presentation} ()
\item 
void \hyperlink{classOkular_1_1Document_a191d6d17e084e1c10d8278963420ef6d}{link\+End\+Presentation} ()
\item 
void \hyperlink{classOkular_1_1Document_a02ced6263d4d216ba2e38d8ab9cc96b7}{open\+Url} (const K\+Url \&url)
\item 
void \hyperlink{classOkular_1_1Document_a0f6dbe3d679e96b2b91f9b467d12d251}{error} (const Q\+String \&text, int duration)
\item 
void \hyperlink{classOkular_1_1Document_ab58767168ff4cccd54e91c53c033b362}{warning} (const Q\+String \&text, int duration)
\item 
void \hyperlink{classOkular_1_1Document_a873400e880e01d6ccf99bfce18dd0e26}{notice} (const Q\+String \&text, int duration)
\item 
void \hyperlink{classOkular_1_1Document_a66902f0fbc6c9068568f8a1eb923583d}{got\+Font} (const \hyperlink{classOkular_1_1FontInfo}{Okular\+::\+Font\+Info} \&font)
\item 
void \hyperlink{classOkular_1_1Document_aa264e97a1d3dd36aab35fd3a09511b5b}{font\+Reading\+Progress} (int \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page})
\item 
void \hyperlink{classOkular_1_1Document_a098247701022e6c967299abd01ce3265}{font\+Reading\+Ended} ()
\item 
void \hyperlink{classOkular_1_1Document_ae938c994d20bdfef40caa3d37d28d92d}{search\+Finished} (int id, \hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbb}{Okular\+::\+Document\+::\+Search\+Status} end\+Status)
\item 
void \hyperlink{classOkular_1_1Document_a7a445d187c36e3c37b282dabbcafe8a0}{source\+Reference\+Activated} (const Q\+String \&abs\+File\+Name, int line, int col, bool $\ast$handled)
\item 
void \hyperlink{classOkular_1_1Document_ad89902f864830b39f5a7a5c2ebaffb65}{process\+Movie\+Action} (const \hyperlink{classOkular_1_1MovieAction}{Okular\+::\+Movie\+Action} $\ast$action)
\item 
void \hyperlink{classOkular_1_1Document_a26f1d9eebc095fc150af881b62b2238b}{can\+Undo\+Changed} (bool undo\+Available)
\item 
void \hyperlink{classOkular_1_1Document_a503f3e63322d9df95df8b07919edce7a}{can\+Redo\+Changed} (bool redo\+Available)
\item 
void \hyperlink{classOkular_1_1Document_ade897d8484f476a2224eac652d9ece77}{process\+Rendition\+Action} (const \hyperlink{classOkular_1_1RenditionAction}{Okular\+::\+Rendition\+Action} $\ast$action)
\item 
void \hyperlink{classOkular_1_1Document_a755d2a16ad3ed30996c93924f7232e36}{annotation\+Contents\+Changed\+By\+Undo\+Redo} (\hyperlink{classOkular_1_1Annotation}{Okular\+::\+Annotation} $\ast$annotation, const Q\+String \&contents, int cursor\+Pos, int anchor\+Pos)
\item 
void \hyperlink{classOkular_1_1Document_af534e0e010225b2a57319845442888bb}{form\+Text\+Changed\+By\+Undo\+Redo} (int \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page}, \hyperlink{classOkular_1_1FormFieldText}{Okular\+::\+Form\+Field\+Text} $\ast$form, const Q\+String \&contents, int cursor\+Pos, int anchor\+Pos)
\item 
void \hyperlink{classOkular_1_1Document_aff101795b7dee001d4e8677ded3236be}{form\+List\+Changed\+By\+Undo\+Redo} (int \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page}, \hyperlink{classOkular_1_1FormFieldChoice}{Okular\+::\+Form\+Field\+Choice} $\ast$form, const \hyperlink{classQList}{Q\+List}$<$ int $>$ \&choices)
\item 
void \hyperlink{classOkular_1_1Document_ada246b3ac5212e3911dc339b75da13da}{form\+Combo\+Changed\+By\+Undo\+Redo} (int \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page}, \hyperlink{classOkular_1_1FormFieldChoice}{Okular\+::\+Form\+Field\+Choice} $\ast$form, const Q\+String \&text, int cursor\+Pos, int anchor\+Pos)
\item 
void \hyperlink{classOkular_1_1Document_adbfa4da2eb8267d4bde6a9c6784e033b}{form\+Buttons\+Changed\+By\+Undo\+Redo} (int \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page}, const \hyperlink{classQList}{Q\+List}$<$ \hyperlink{classOkular_1_1FormFieldButton}{Okular\+::\+Form\+Field\+Button} $\ast$ $>$ \&form\+Buttons)
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classOkular_1_1Document_ab57646ba1264ec50ae484ffb7ff1f95e}{Document} (Q\+Widget $\ast$\hyperlink{classOkular_1_1Document_aef26598eca4c2fe772cc77d7730a9e8b}{widget})
\item 
\hyperlink{classOkular_1_1Document_ac2e3f62307dc22baac21ddc10fa1609c}{$\sim$\+Document} ()
\item 
bool \hyperlink{classOkular_1_1Document_aaec42a1303846888ea6d3151d2be2c3e}{open\+Document} (const Q\+String \&doc\+File, const K\+Url \&url, const K\+Mime\+Type\+::\+Ptr \&mime)
\item 
void \hyperlink{classOkular_1_1Document_ac0560562cba36a50717125b4aaeea7b7}{close\+Document} ()
\item 
void \hyperlink{classOkular_1_1Document_a37300860cf93f60184305829b033e0e2}{add\+Observer} (\hyperlink{classOkular_1_1DocumentObserver}{Document\+Observer} $\ast$observer)
\item 
void \hyperlink{classOkular_1_1Document_a2d704dea2ab28c846e58443ac38841f2}{remove\+Observer} (\hyperlink{classOkular_1_1DocumentObserver}{Document\+Observer} $\ast$observer)
\item 
void \hyperlink{classOkular_1_1Document_aa866452da62472e6b52ef395da8d4d9c}{reparse\+Config} ()
\item 
Q\+Widget $\ast$ \hyperlink{classOkular_1_1Document_aef26598eca4c2fe772cc77d7730a9e8b}{widget} () const 
\item 
bool \hyperlink{classOkular_1_1Document_a909ad69d556a6525e194a28c7fbf643a}{is\+Opened} () const 
\item 
const \hyperlink{classOkular_1_1DocumentInfo}{Document\+Info} $\ast$ \hyperlink{classOkular_1_1Document_a9c0b854496aa923bd575593a299af7e4}{document\+Info} () const 
\item 
const \hyperlink{classOkular_1_1DocumentSynopsis}{Document\+Synopsis} $\ast$ \hyperlink{classOkular_1_1Document_aa9dad88fffd255f0a1112228f58512f2}{document\+Synopsis} () const 
\item 
void \hyperlink{classOkular_1_1Document_af003edc174db0e3e80cdf7b138e3a246}{start\+Font\+Reading} ()
\item 
void \hyperlink{classOkular_1_1Document_a25f2f47f51c226d137a914d168ac5e1b}{stop\+Font\+Reading} ()
\item 
bool \hyperlink{classOkular_1_1Document_a8c43c3aa0d740b48813bfbd5deec7f1c}{can\+Provide\+Font\+Information} () const 
\item 
const \hyperlink{classQList}{Q\+List}$<$ \hyperlink{classOkular_1_1EmbeddedFile}{Embedded\+File} $\ast$ $>$ $\ast$ \hyperlink{classOkular_1_1Document_a0d0f25adc4dab338160d951a2fafd2d3}{embedded\+Files} () const 
\item 
const \hyperlink{classOkular_1_1Page}{Page} $\ast$ \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page} (int number) const 
\item 
const \hyperlink{classOkular_1_1DocumentViewport}{Document\+Viewport} \& \hyperlink{classOkular_1_1Document_abb8738de0a53aa4a9f552de0e1e749f8}{viewport} () const 
\item 
void \hyperlink{classOkular_1_1Document_abab90bff378407416b00be2f2de278bf}{set\+Visible\+Page\+Rects} (const Q\+Vector$<$ \hyperlink{classOkular_1_1VisiblePageRect}{Visible\+Page\+Rect} $\ast$ $>$ \&\hyperlink{classOkular_1_1Document_a2ba56fa52cfacc10267896938a2ac37b}{visible\+Page\+Rects}, \hyperlink{classOkular_1_1DocumentObserver}{Document\+Observer} $\ast$exclude\+Observer=0)
\item 
const Q\+Vector$<$ \hyperlink{classOkular_1_1VisiblePageRect}{Visible\+Page\+Rect} $\ast$ $>$ \& \hyperlink{classOkular_1_1Document_a2ba56fa52cfacc10267896938a2ac37b}{visible\+Page\+Rects} () const 
\item 
uint \hyperlink{classOkular_1_1Document_a42ec374d73794bf56d7e7b11f1f56319}{current\+Page} () const 
\item 
uint \hyperlink{classOkular_1_1Document_aaf5d986758e25127946986abaa401bcd}{pages} () const 
\item 
K\+Url \hyperlink{classOkular_1_1Document_acb6f05a191623dafbdf5d4788dd98fed}{current\+Document} () const 
\item 
bool \hyperlink{classOkular_1_1Document_a6dd7a475b14222c07d1c410311f35cdb}{is\+Allowed} (\hyperlink{namespaceOkular_a3601f4e702453ddf1125476dd6e7577b}{Permission} action) const 
\item 
bool \hyperlink{classOkular_1_1Document_acadcf633db6332012dbbd1914fddd0c9}{supports\+Searching} () const 
\item 
bool \hyperlink{classOkular_1_1Document_abda5404bb65d7bc671494e589dec3aaf}{supports\+Page\+Sizes} () const 
\item 
bool \hyperlink{classOkular_1_1Document_a195dd7b2d52ecaf17541a437d5f9e579}{supports\+Tiles} () const 
\item 
\hyperlink{classOkular_1_1PageSize_a6c450ee7c579f47402a21588403ea0ab}{Page\+Size\+::\+List} \hyperlink{classOkular_1_1Document_ab27493b7a9aafe7e9bf7fe2d8e291703}{page\+Sizes} () const 
\item 
bool \hyperlink{classOkular_1_1Document_a004a5cf38402e7ee4a057311ef507e10}{can\+Export\+To\+Text} () const 
\item 
bool \hyperlink{classOkular_1_1Document_a7f78a55a2c779daa2cb77af7c11b1c37}{export\+To\+Text} (const Q\+String \&file\+Name) const 
\item 
\hyperlink{classQList}{Q\+List}$<$ \hyperlink{classOkular_1_1ExportFormat}{Export\+Format} $>$ \hyperlink{classOkular_1_1Document_acd6e2014d6198fa7411ae02a138eccb7}{export\+Formats} () const 
\item 
bool \hyperlink{classOkular_1_1Document_a1f77c325fb8d44dcac9e8bbdda442653}{export\+To} (const Q\+String \&file\+Name, const \hyperlink{classOkular_1_1ExportFormat}{Export\+Format} \&format) const 
\item 
bool \hyperlink{classOkular_1_1Document_a571e0df4ac4b081e4c81698d589163b0}{history\+At\+Begin} () const 
\item 
bool \hyperlink{classOkular_1_1Document_a7360baadbd779d106c38d12a3e0c911e}{history\+At\+End} () const 
\item 
Q\+Variant \hyperlink{classOkular_1_1Document_a44c7c367dbe37fffeeb3d08171ff9ab6}{meta\+Data} (const Q\+String \&key, const Q\+Variant \&option=Q\+Variant()) const 
\item 
\hyperlink{namespaceOkular_a8556d00465f61ef533c6b027669e7da6}{Rotation} \hyperlink{classOkular_1_1Document_aa419f95f101b5672926c7cd4485f12e6}{rotation} () const 
\item 
Q\+Size\+F \hyperlink{classOkular_1_1Document_a9a1f670222f9e036d11e11ac6876c086}{all\+Pages\+Size} () const 
\item 
Q\+String \hyperlink{classOkular_1_1Document_a4dab280eb08b17c40feefe6bd2e46886}{page\+Size\+String} (int \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page}) const 
\item 
K\+X\+M\+L\+G\+U\+I\+Client $\ast$ \hyperlink{classOkular_1_1Document_a414f0d44e1bb2b44fd31e68c0bc79dfe}{gui\+Client} ()
\item 
void \hyperlink{classOkular_1_1Document_ac3bdbd5137c7fd4d5e960646affc25ec}{set\+Viewport\+Page} (int \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page}, \hyperlink{classOkular_1_1DocumentObserver}{Document\+Observer} $\ast$exclude\+Observer=0, bool smooth\+Move=false)
\item 
void \hyperlink{classOkular_1_1Document_a1afaf8b8b5cb1e715949024fb75bb767}{set\+Viewport} (const \hyperlink{classOkular_1_1DocumentViewport}{Document\+Viewport} \&\hyperlink{classOkular_1_1Document_abb8738de0a53aa4a9f552de0e1e749f8}{viewport}, \hyperlink{classOkular_1_1DocumentObserver}{Document\+Observer} $\ast$exclude\+Observer=0, bool smooth\+Move=false)
\item 
void \hyperlink{classOkular_1_1Document_accbb6fd94e985749d46f47bfcf03f197}{set\+Prev\+Viewport} ()
\item 
void \hyperlink{classOkular_1_1Document_a47ece85a3cf51760d5f6aa7642a1eeeb}{set\+Next\+Viewport} ()
\item 
void \hyperlink{classOkular_1_1Document_ad7014dea947b69fc28637aba4cbc53ae}{set\+Next\+Document\+Viewport} (const \hyperlink{classOkular_1_1DocumentViewport}{Document\+Viewport} \&\hyperlink{classOkular_1_1Document_abb8738de0a53aa4a9f552de0e1e749f8}{viewport})
\item 
void \hyperlink{classOkular_1_1Document_a96c5a2356ab9416499e2a757ab41aa83}{set\+Next\+Document\+Destination} (const Q\+String \&named\+Destination)
\item 
void \hyperlink{classOkular_1_1Document_a140faece783310fdcbd94eaf3c5ac422}{set\+Zoom} (int factor, \hyperlink{classOkular_1_1DocumentObserver}{Document\+Observer} $\ast$exclude\+Observer=0)
\item 
void \hyperlink{classOkular_1_1Document_a05f652fba2651b2602a2a71f474d008d}{request\+Pixmaps} (const \hyperlink{classQLinkedList}{Q\+Linked\+List}$<$ \hyperlink{classOkular_1_1PixmapRequest}{Pixmap\+Request} $\ast$ $>$ \&requests)
\item 
void \hyperlink{classOkular_1_1Document_a80c2914b996d425ee0f6745df8e62429}{request\+Pixmaps} (const \hyperlink{classQLinkedList}{Q\+Linked\+List}$<$ \hyperlink{classOkular_1_1PixmapRequest}{Pixmap\+Request} $\ast$ $>$ \&requests, Pixmap\+Request\+Flags req\+Options)
\item 
void \hyperlink{classOkular_1_1Document_ad4909d8411d3ad8faf716f30a6e9f417}{request\+Text\+Page} (uint number)
\item 
void \hyperlink{classOkular_1_1Document_a803b34cf352157810214667438f22210}{add\+Page\+Annotation} (int \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page}, \hyperlink{classOkular_1_1Annotation}{Annotation} $\ast$annotation)
\item 
bool \hyperlink{classOkular_1_1Document_acbc3b843b40096c18dbeec805552685a}{can\+Modify\+Page\+Annotation} (const \hyperlink{classOkular_1_1Annotation}{Annotation} $\ast$annotation) const 
\item 
void \hyperlink{classOkular_1_1Document_afa545702ebb74572fd51361c4675bb92}{prepare\+To\+Modify\+Annotation\+Properties} (\hyperlink{classOkular_1_1Annotation}{Annotation} $\ast$annotation)
\item 
void \hyperlink{classOkular_1_1Document_a6124172e56443498f612a32bab2e1e94}{modify\+Page\+Annotation\+Properties} (int \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page}, \hyperlink{classOkular_1_1Annotation}{Annotation} $\ast$annotation)
\item 
void \hyperlink{classOkular_1_1Document_ab3ca55619ce1a60a4d60913a216ae01c}{translate\+Page\+Annotation} (int \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page}, \hyperlink{classOkular_1_1Annotation}{Annotation} $\ast$annotation, const \hyperlink{classOkular_1_1NormalizedPoint}{Okular\+::\+Normalized\+Point} \&delta)
\item 
void \hyperlink{classOkular_1_1Document_ae179a44288462ef286a7f7e38be8a60c}{edit\+Page\+Annotation\+Contents} (int \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page}, \hyperlink{classOkular_1_1Annotation}{Annotation} $\ast$annotation, const Q\+String \&new\+Contents, int new\+Cursor\+Pos, int prev\+Cursor\+Pos, int prev\+Anchor\+Pos)
\item 
bool \hyperlink{classOkular_1_1Document_a77f5c38224da847413dbe51c5e24ed08}{can\+Remove\+Page\+Annotation} (const \hyperlink{classOkular_1_1Annotation}{Annotation} $\ast$annotation) const 
\item 
void \hyperlink{classOkular_1_1Document_af8ae711ce34ff903a589423e73a45cbb}{remove\+Page\+Annotation} (int \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page}, \hyperlink{classOkular_1_1Annotation}{Annotation} $\ast$annotation)
\item 
void \hyperlink{classOkular_1_1Document_a5a0c81783a20c5403038e9fc4556ebbc}{remove\+Page\+Annotations} (int \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page}, const \hyperlink{classQList}{Q\+List}$<$ \hyperlink{classOkular_1_1Annotation}{Annotation} $\ast$ $>$ \&annotations)
\item 
void \hyperlink{classOkular_1_1Document_ade0f70b9e9e3e08647592555f6c58357}{set\+Page\+Text\+Selection} (int \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page}, \hyperlink{classOkular_1_1RegularAreaRect}{Regular\+Area\+Rect} $\ast$rect, const Q\+Color \&color)
\item 
bool \hyperlink{classOkular_1_1Document_ae2d50d5d74f0acec1d9ca86e3742ae16}{can\+Undo} () const 
\item 
bool \hyperlink{classOkular_1_1Document_a7bb3610409fcc2be99007213cfa2f3cd}{can\+Redo} () const 
\item 
void \hyperlink{classOkular_1_1Document_a9da5fe32531f4ab8b515ed553092421f}{search\+Text} (int search\+I\+D, const Q\+String \&text, bool from\+Start, Qt\+::\+Case\+Sensitivity case\+Sensitivity, \hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bad}{Search\+Type} type, bool move\+Viewport, const Q\+Color \&color, bool no\+Dialogs=false)
\item 
void \hyperlink{classOkular_1_1Document_a36cc2e539c7fd032e5f03b26ffa6ddae}{continue\+Search} (int search\+I\+D)
\item 
void \hyperlink{classOkular_1_1Document_a13301541ff7a60a1511813d75a46a730}{continue\+Search} (int search\+I\+D, \hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bad}{Search\+Type} type)
\item 
void \hyperlink{classOkular_1_1Document_a9a6bfbdfcf7a07fcf3b2624fdea81126}{reset\+Search} (int search\+I\+D)
\item 
\hyperlink{classOkular_1_1BookmarkManager}{Bookmark\+Manager} $\ast$ \hyperlink{classOkular_1_1Document_a2a2a1f0f5384563c8b24c2ba48809839}{bookmark\+Manager} () const 
\item 
void \hyperlink{classOkular_1_1Document_aabdf41f40fe0391590391e303891b5ed}{process\+Action} (const \hyperlink{classOkular_1_1Action}{Action} $\ast$action)
\item 
\hyperlink{classQList}{Q\+List}$<$ int $>$ \hyperlink{classOkular_1_1Document_a01de5a7212e14772e647a8e1caa07627}{bookmarked\+Page\+List} () const 
\item 
Q\+String \hyperlink{classOkular_1_1Document_ae54c00670b879c5d583e37c51c967860}{bookmarked\+Page\+Range} () const 
\item 
void \hyperlink{classOkular_1_1Document_a211b3b966271e561257def97439732a5}{process\+Source\+Reference} (const \hyperlink{classOkular_1_1SourceReference}{Source\+Reference} $\ast$reference)
\item 
bool \hyperlink{classOkular_1_1Document_ad5aa67984b07fc83309ab7798274a60a}{can\+Configure\+Printer} () const 
\item 
\hyperlink{classOkular_1_1Document_ad5630e57d57d854b37ed4b362f7dab12}{Printing\+Type} \hyperlink{classOkular_1_1Document_ab126b62cb37b419a4d51b4c30729e85b}{printing\+Support} () const 
\item 
bool \hyperlink{classOkular_1_1Document_a0473f147390527d99a898bf3d99218b8}{supports\+Print\+To\+File} () const 
\item 
bool \hyperlink{classOkular_1_1Document_a122291e23a4ba2fc7750ca0e81eb4796}{print} (Q\+Printer \&printer)
\item 
Q\+String \hyperlink{classOkular_1_1Document_a585768ca7f9436edb0260c9682d94464}{print\+Error} () const 
\item 
Q\+Widget $\ast$ \hyperlink{classOkular_1_1Document_acf0fed7059a1b6c96a674074d1b92ffc}{print\+Configuration\+Widget} () const 
\item 
void \hyperlink{classOkular_1_1Document_a38ad86fc7b26c7d46db2b2be5893e615}{fill\+Config\+Dialog} (K\+Config\+Dialog $\ast$dialog)
\item 
int \hyperlink{classOkular_1_1Document_aba6f8ba249dbd346e8d34a1a31393917}{configurable\+Generators} () const 
\item 
Q\+String\+List \hyperlink{classOkular_1_1Document_a7bfda48f95d3e152b9d66fc8968ae12e}{supported\+Mime\+Types} () const 
\item 
const K\+Component\+Data $\ast$ \hyperlink{classOkular_1_1Document_a31fa703bff8a2ac06d9f296cf12efc5a}{component\+Data} () const 
\item 
bool \hyperlink{classOkular_1_1Document_a46772ecd6dc23f6e07fb358eef32924d}{can\+Save\+Changes} (\hyperlink{classOkular_1_1Document_a7aa93fc147bd5aa966d65477b5c5eae9}{Save\+Capability} cap) const 
\item 
bool \hyperlink{classOkular_1_1Document_a0372c1139a49d2efd2fa140326a9c37d}{can\+Save\+Changes} () const 
\item 
bool \hyperlink{classOkular_1_1Document_ac3e0b31133ab8ef36bb95038c8f93380}{save\+Changes} (const Q\+String \&file\+Name)
\item 
bool \hyperlink{classOkular_1_1Document_a1440b26721585658914765294039f350}{save\+Changes} (const Q\+String \&file\+Name, Q\+String $\ast$error\+Text)
\item 
void \hyperlink{classOkular_1_1Document_a92956a4adc2ebbf3c346204655e2a8a1}{register\+View} (\hyperlink{classOkular_1_1View}{View} $\ast$view)
\item 
void \hyperlink{classOkular_1_1Document_a16aedf5b18ed8216350979ae9e9dd72f}{unregister\+View} (\hyperlink{classOkular_1_1View}{View} $\ast$view)
\item 
Q\+Byte\+Array \hyperlink{classOkular_1_1Document_a88f3b8dadee061c537ff9eb28d1c3257}{font\+Data} (const \hyperlink{classOkular_1_1FontInfo}{Font\+Info} \&font) const 
\item 
bool \hyperlink{classOkular_1_1Document_a203b2307aa0d4baf08628cf70e21a3b4}{open\+Document\+Archive} (const Q\+String \&doc\+File, const K\+Url \&url)
\item 
bool \hyperlink{classOkular_1_1Document_aa5e6cbdeb702f6671847ca94b63a277a}{save\+Document\+Archive} (const Q\+String \&file\+Name)
\item 
const \hyperlink{classOkular_1_1SourceReference}{Source\+Reference} $\ast$ \hyperlink{classOkular_1_1Document_ab8a36b616b699744cc58e4f3ab03ed25}{dynamic\+Source\+Reference} (int page\+Nr, double abs\+X, double abs\+Y)
\item 
Q\+Printer\+::\+Orientation \hyperlink{classOkular_1_1Document_a0865032f8934fca262b382a6af9a5671}{orientation} () const 
\item 
void \hyperlink{classOkular_1_1Document_a064fa5a01f9597ef38858744ea17001b}{set\+Annotation\+Editing\+Enabled} (bool enable)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The \hyperlink{classOkular_1_1Document}{Document}. Heart of everything. Actions take place here. 

The \hyperlink{classOkular_1_1Document}{Document} is the main object in \hyperlink{namespaceOkular}{Okular}. All views query the \hyperlink{classOkular_1_1Document}{Document} to get data/properties or even for accessing pages (in a 'const' way).

It is designed to keep it detached from the document type (pdf, ps, you name it..) so whenever you want to get some data, it asks its internals generator to do the job and return results in a format-\/indepedent way.

Apart from the generator (the currently running one) the document stores all the Pages ('\hyperlink{classOkular_1_1Page}{Page}' class) of the current document in a vector and notifies all the registered Document\+Observers when some content changes.

For a better understanding of hieracies \begin{DoxySeeAlso}{See Also}
R\+E\+A\+D\+M\+E.\+internals.\+png 

\hyperlink{classOkular_1_1DocumentObserver}{Document\+Observer}, \hyperlink{classOkular_1_1Page}{Page} 
\end{DoxySeeAlso}


Definition at line 84 of file document.\+h.



\subsection{Member Enumeration Documentation}
\hypertarget{classOkular_1_1Document_a34c1f67c024cfbdd46379c5fac3674d7}{\index{Okular\+::\+Document@{Okular\+::\+Document}!Pixmap\+Request\+Flag@{Pixmap\+Request\+Flag}}
\index{Pixmap\+Request\+Flag@{Pixmap\+Request\+Flag}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{Pixmap\+Request\+Flag}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Okular\+::\+Document\+::\+Pixmap\+Request\+Flag}}}\label{classOkular_1_1Document_a34c1f67c024cfbdd46379c5fac3674d7}
Describes the possible options for the pixmap requests. \begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{No\+Option@{No\+Option}!Okular\+::\+Document@{Okular\+::\+Document}}\index{Okular\+::\+Document@{Okular\+::\+Document}!No\+Option@{No\+Option}}\item[{\em 
\hypertarget{classOkular_1_1Document_a34c1f67c024cfbdd46379c5fac3674d7a87c3cee454d9bacfd7e9642eb697abb0}{No\+Option}\label{classOkular_1_1Document_a34c1f67c024cfbdd46379c5fac3674d7a87c3cee454d9bacfd7e9642eb697abb0}
}]No options. \index{Remove\+All\+Previous@{Remove\+All\+Previous}!Okular\+::\+Document@{Okular\+::\+Document}}\index{Okular\+::\+Document@{Okular\+::\+Document}!Remove\+All\+Previous@{Remove\+All\+Previous}}\item[{\em 
\hypertarget{classOkular_1_1Document_a34c1f67c024cfbdd46379c5fac3674d7a3e895c552ec2119c4a743aaefa3d00af}{Remove\+All\+Previous}\label{classOkular_1_1Document_a34c1f67c024cfbdd46379c5fac3674d7a3e895c552ec2119c4a743aaefa3d00af}
}]Remove all the previous requests, even for non requested page pixmaps. \end{description}
\end{Desc}


Definition at line 347 of file document.\+h.


\begin{DoxyCode}
348         \{
349             \hyperlink{classOkular_1_1Document_a34c1f67c024cfbdd46379c5fac3674d7a87c3cee454d9bacfd7e9642eb697abb0}{NoOption} = 0,                
350             \hyperlink{classOkular_1_1Document_a34c1f67c024cfbdd46379c5fac3674d7a3e895c552ec2119c4a743aaefa3d00af}{RemoveAllPrevious} = 1        
351         \};
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_ad5630e57d57d854b37ed4b362f7dab12}{\index{Okular\+::\+Document@{Okular\+::\+Document}!Printing\+Type@{Printing\+Type}}
\index{Printing\+Type@{Printing\+Type}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{Printing\+Type}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Okular\+::\+Document\+::\+Printing\+Type}}}\label{classOkular_1_1Document_ad5630e57d57d854b37ed4b362f7dab12}
What type of printing a document supports \begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{No\+Printing@{No\+Printing}!Okular\+::\+Document@{Okular\+::\+Document}}\index{Okular\+::\+Document@{Okular\+::\+Document}!No\+Printing@{No\+Printing}}\item[{\em 
\hypertarget{classOkular_1_1Document_ad5630e57d57d854b37ed4b362f7dab12a81a8466201e7cb753617f7af99308ae7}{No\+Printing}\label{classOkular_1_1Document_ad5630e57d57d854b37ed4b362f7dab12a81a8466201e7cb753617f7af99308ae7}
}]Printing Not Supported. \index{Native\+Printing@{Native\+Printing}!Okular\+::\+Document@{Okular\+::\+Document}}\index{Okular\+::\+Document@{Okular\+::\+Document}!Native\+Printing@{Native\+Printing}}\item[{\em 
\hypertarget{classOkular_1_1Document_ad5630e57d57d854b37ed4b362f7dab12a5745a55426d5d26628e5f6246ef19b73}{Native\+Printing}\label{classOkular_1_1Document_ad5630e57d57d854b37ed4b362f7dab12a5745a55426d5d26628e5f6246ef19b73}
}]Native Cross-\/\+Platform Printing. \index{Postscript\+Printing@{Postscript\+Printing}!Okular\+::\+Document@{Okular\+::\+Document}}\index{Okular\+::\+Document@{Okular\+::\+Document}!Postscript\+Printing@{Postscript\+Printing}}\item[{\em 
\hypertarget{classOkular_1_1Document_ad5630e57d57d854b37ed4b362f7dab12a4b3d87d5a23cf38f190a7da005453995}{Postscript\+Printing}\label{classOkular_1_1Document_ad5630e57d57d854b37ed4b362f7dab12a4b3d87d5a23cf38f190a7da005453995}
}]Postscript file printing. \end{description}
\end{Desc}


Definition at line 553 of file document.\+h.


\begin{DoxyCode}
554         \{
555             \hyperlink{classOkular_1_1Document_ad5630e57d57d854b37ed4b362f7dab12a81a8466201e7cb753617f7af99308ae7}{NoPrinting},            
556             \hyperlink{classOkular_1_1Document_ad5630e57d57d854b37ed4b362f7dab12a5745a55426d5d26628e5f6246ef19b73}{NativePrinting},        
557             \hyperlink{classOkular_1_1Document_ad5630e57d57d854b37ed4b362f7dab12a4b3d87d5a23cf38f190a7da005453995}{PostscriptPrinting}     
558         \};
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a7aa93fc147bd5aa966d65477b5c5eae9}{\index{Okular\+::\+Document@{Okular\+::\+Document}!Save\+Capability@{Save\+Capability}}
\index{Save\+Capability@{Save\+Capability}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{Save\+Capability}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Okular\+::\+Document\+::\+Save\+Capability}}}\label{classOkular_1_1Document_a7aa93fc147bd5aa966d65477b5c5eae9}
Saving capabilities. Their availability varies according to the underlying generator and/or the document type.

\begin{DoxySeeAlso}{See Also}
\hyperlink{classOkular_1_1Document_a46772ecd6dc23f6e07fb358eef32924d}{can\+Save\+Changes} (\hyperlink{classOkular_1_1Document_a7aa93fc147bd5aa966d65477b5c5eae9}{Save\+Capability}) 
\end{DoxySeeAlso}
\begin{DoxySince}{Since}
0.\+15 (K\+D\+E 4.\+9) 
\end{DoxySince}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{Save\+Forms\+Capability@{Save\+Forms\+Capability}!Okular\+::\+Document@{Okular\+::\+Document}}\index{Okular\+::\+Document@{Okular\+::\+Document}!Save\+Forms\+Capability@{Save\+Forms\+Capability}}\item[{\em 
\hypertarget{classOkular_1_1Document_a7aa93fc147bd5aa966d65477b5c5eae9af3700f1553625c9cf992b4c5cc783ccd}{Save\+Forms\+Capability}\label{classOkular_1_1Document_a7aa93fc147bd5aa966d65477b5c5eae9af3700f1553625c9cf992b4c5cc783ccd}
}]Can save form changes. \index{Save\+Annotations\+Capability@{Save\+Annotations\+Capability}!Okular\+::\+Document@{Okular\+::\+Document}}\index{Okular\+::\+Document@{Okular\+::\+Document}!Save\+Annotations\+Capability@{Save\+Annotations\+Capability}}\item[{\em 
\hypertarget{classOkular_1_1Document_a7aa93fc147bd5aa966d65477b5c5eae9ab39f6065bb5cff48353657ac469f827b}{Save\+Annotations\+Capability}\label{classOkular_1_1Document_a7aa93fc147bd5aa966d65477b5c5eae9ab39f6065bb5cff48353657ac469f827b}
}]Can save annotation changes. \end{description}
\end{Desc}


Definition at line 616 of file document.\+h.


\begin{DoxyCode}
617         \{
618             \hyperlink{classOkular_1_1Document_a7aa93fc147bd5aa966d65477b5c5eae9af3700f1553625c9cf992b4c5cc783ccd}{SaveFormsCapability} = 1,       
619             \hyperlink{classOkular_1_1Document_a7aa93fc147bd5aa966d65477b5c5eae9ab39f6065bb5cff48353657ac469f827b}{SaveAnnotationsCapability} = 2  
620         \};
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbb}{\index{Okular\+::\+Document@{Okular\+::\+Document}!Search\+Status@{Search\+Status}}
\index{Search\+Status@{Search\+Status}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{Search\+Status}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Okular\+::\+Document\+::\+Search\+Status}}}\label{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbb}
Describes how search ended \begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{Match\+Found@{Match\+Found}!Okular\+::\+Document@{Okular\+::\+Document}}\index{Okular\+::\+Document@{Okular\+::\+Document}!Match\+Found@{Match\+Found}}\item[{\em 
\hypertarget{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbbaee768cc03e09b4188b091b652e1556ab}{Match\+Found}\label{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbbaee768cc03e09b4188b091b652e1556ab}
}]Any match was found. \index{No\+Match\+Found@{No\+Match\+Found}!Okular\+::\+Document@{Okular\+::\+Document}}\index{Okular\+::\+Document@{Okular\+::\+Document}!No\+Match\+Found@{No\+Match\+Found}}\item[{\em 
\hypertarget{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbba6f1e44c2a23dde543d40770f949a2882}{No\+Match\+Found}\label{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbba6f1e44c2a23dde543d40770f949a2882}
}]No match was found. \index{Search\+Cancelled@{Search\+Cancelled}!Okular\+::\+Document@{Okular\+::\+Document}}\index{Okular\+::\+Document@{Okular\+::\+Document}!Search\+Cancelled@{Search\+Cancelled}}\item[{\em 
\hypertarget{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbbacc76ba5b7c23f4d24515076e946373b4}{Search\+Cancelled}\label{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbbacc76ba5b7c23f4d24515076e946373b4}
}]The search was cancelled. \end{description}
\end{Desc}


Definition at line 481 of file document.\+h.


\begin{DoxyCode}
482         \{
483             \hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbbaee768cc03e09b4188b091b652e1556ab}{MatchFound},        
484             \hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbba6f1e44c2a23dde543d40770f949a2882}{NoMatchFound},      
485             \hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbbacc76ba5b7c23f4d24515076e946373b4}{SearchCancelled}    
486         \};
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bad}{\index{Okular\+::\+Document@{Okular\+::\+Document}!Search\+Type@{Search\+Type}}
\index{Search\+Type@{Search\+Type}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{Search\+Type}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Okular\+::\+Document\+::\+Search\+Type}}}\label{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bad}
Describes the possible search types. \begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{Next\+Match@{Next\+Match}!Okular\+::\+Document@{Okular\+::\+Document}}\index{Okular\+::\+Document@{Okular\+::\+Document}!Next\+Match@{Next\+Match}}\item[{\em 
\hypertarget{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7badab071628bda8b6bfb432ceae4eaca8792}{Next\+Match}\label{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7badab071628bda8b6bfb432ceae4eaca8792}
}]Search next match. \index{Previous\+Match@{Previous\+Match}!Okular\+::\+Document@{Okular\+::\+Document}}\index{Okular\+::\+Document@{Okular\+::\+Document}!Previous\+Match@{Previous\+Match}}\item[{\em 
\hypertarget{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada092b092af6301535f9e11921195c1e14}{Previous\+Match}\label{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada092b092af6301535f9e11921195c1e14}
}]Search previous match. \index{All\+Document@{All\+Document}!Okular\+::\+Document@{Okular\+::\+Document}}\index{Okular\+::\+Document@{Okular\+::\+Document}!All\+Document@{All\+Document}}\item[{\em 
\hypertarget{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada3b5d0384aa5f19eb1336ffbecfd20131}{All\+Document}\label{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada3b5d0384aa5f19eb1336ffbecfd20131}
}]Search complete document. \index{Google\+All@{Google\+All}!Okular\+::\+Document@{Okular\+::\+Document}}\index{Okular\+::\+Document@{Okular\+::\+Document}!Google\+All@{Google\+All}}\item[{\em 
\hypertarget{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada6f81a31b92307bd8a97aca7c109b3239}{Google\+All}\label{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada6f81a31b92307bd8a97aca7c109b3239}
}]Search all words in google style. \index{Google\+Any@{Google\+Any}!Okular\+::\+Document@{Okular\+::\+Document}}\index{Okular\+::\+Document@{Okular\+::\+Document}!Google\+Any@{Google\+Any}}\item[{\em 
\hypertarget{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada1ec423a1f00db8dbfd842b8d6c1f3d7f}{Google\+Any}\label{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada1ec423a1f00db8dbfd842b8d6c1f3d7f}
}]Search any words in google style. \end{description}
\end{Desc}


Definition at line 469 of file document.\+h.


\begin{DoxyCode}
470         \{
471             \hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7badab071628bda8b6bfb432ceae4eaca8792}{NextMatch},      
472             \hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada092b092af6301535f9e11921195c1e14}{PreviousMatch},  
473             \hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada3b5d0384aa5f19eb1336ffbecfd20131}{AllDocument},    
474             \hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada6f81a31b92307bd8a97aca7c109b3239}{GoogleAll},      
475             \hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada1ec423a1f00db8dbfd842b8d6c1f3d7f}{GoogleAny}       
476         \};
\end{DoxyCode}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{classOkular_1_1Document_ab57646ba1264ec50ae484ffb7ff1f95e}{\index{Okular\+::\+Document@{Okular\+::\+Document}!Document@{Document}}
\index{Document@{Document}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{Document}]{\setlength{\rightskip}{0pt plus 5cm}Document\+::\+Document (
\begin{DoxyParamCaption}
\item[{Q\+Widget $\ast$}]{widget}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [explicit]}}}\label{classOkular_1_1Document_ab57646ba1264ec50ae484ffb7ff1f95e}
Creates a new document with the given {\ttfamily widget} as widget to relay G\+U\+I things (messageboxes, ...). 

Definition at line 2054 of file document.\+cpp.


\begin{DoxyCode}
2055     : QObject( 0 ), d( \textcolor{keyword}{new} \hyperlink{classOkular_1_1DocumentPrivate}{DocumentPrivate}( \textcolor{keyword}{this} ) )
2056 \{
2057     d->\hyperlink{classOkular_1_1DocumentPrivate_a1cc02176f3cd9d24eb4f7968ef893de2}{m\_widget} = \hyperlink{classOkular_1_1Document_aef26598eca4c2fe772cc77d7730a9e8b}{widget};
2058     d->\hyperlink{classOkular_1_1DocumentPrivate_a098282fb7e82c81ea9402333864fd389}{m\_bookmarkManager} = \textcolor{keyword}{new} \hyperlink{classOkular_1_1BookmarkManager}{BookmarkManager}( d );
2059     d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator} = d->\hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.insert( d->
      \hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.end(), \hyperlink{classOkular_1_1DocumentViewport}{DocumentViewport}() );
2060     d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack} = \textcolor{keyword}{new} QUndoStack(\textcolor{keyword}{this});
2061 
2062     connect( \hyperlink{classOkular_1_1SettingsCore_a60469aecc551f42c5ccba8288e666e40}{SettingsCore::self}(), SIGNAL(configChanged()), \textcolor{keyword}{this}, SLOT(\_o\_configChanged()
      ) );
2063     connect( d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack}, SIGNAL( \hyperlink{classOkular_1_1Document_a26f1d9eebc095fc150af881b62b2238b}{canUndoChanged}(\textcolor{keywordtype}{bool}) ), \textcolor{keyword}{this}, SIGNAL( 
      \hyperlink{classOkular_1_1Document_a26f1d9eebc095fc150af881b62b2238b}{canUndoChanged}(\textcolor{keywordtype}{bool})));
2064     connect( d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack}, SIGNAL( \hyperlink{classOkular_1_1Document_a503f3e63322d9df95df8b07919edce7a}{canRedoChanged}(\textcolor{keywordtype}{bool}) ), \textcolor{keyword}{this}, SIGNAL( 
      \hyperlink{classOkular_1_1Document_a503f3e63322d9df95df8b07919edce7a}{canRedoChanged}(\textcolor{keywordtype}{bool}) ) );
2065 
2066     qRegisterMetaType<Okular::FontInfo>();
2067 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_ac2e3f62307dc22baac21ddc10fa1609c}{\index{Okular\+::\+Document@{Okular\+::\+Document}!````~Document@{$\sim$\+Document}}
\index{````~Document@{$\sim$\+Document}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{$\sim$\+Document}]{\setlength{\rightskip}{0pt plus 5cm}Document\+::$\sim$\+Document (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_ac2e3f62307dc22baac21ddc10fa1609c}
Destroys the document. 

Definition at line 2069 of file document.\+cpp.


\begin{DoxyCode}
2070 \{
2071     \textcolor{comment}{// delete generator, pages, and related stuff}
2072     \hyperlink{classOkular_1_1Document_ac0560562cba36a50717125b4aaeea7b7}{closeDocument}();
2073 
2074     QSet< View * >::const\_iterator viewIt = d->\hyperlink{classOkular_1_1DocumentPrivate_aae4139cb4cb2f63fd7c7c88f26199976}{m\_views}.constBegin(), viewEnd = d->
      \hyperlink{classOkular_1_1DocumentPrivate_aae4139cb4cb2f63fd7c7c88f26199976}{m\_views}.constEnd();
2075     \textcolor{keywordflow}{for} ( ; viewIt != viewEnd; ++viewIt )
2076     \{
2077         \hyperlink{classOkular_1_1View}{View} *v = *viewIt;
2078         v->d\_func()->document = 0;
2079     \}
2080 
2081     \textcolor{comment}{// delete the bookmark manager}
2082     \textcolor{keyword}{delete} d->\hyperlink{classOkular_1_1DocumentPrivate_a098282fb7e82c81ea9402333864fd389}{m\_bookmarkManager};
2083 
2084     \textcolor{comment}{// delete the loaded generators}
2085     QHash< QString, GeneratorInfo >::const\_iterator it = d->\hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.constBegin
      (), itEnd = d->\hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.constEnd();
2086     \textcolor{keywordflow}{for} ( ; it != itEnd; ++it )
2087         d->\hyperlink{classOkular_1_1DocumentPrivate_a499afa495dece15b37a7df356c178805}{unloadGenerator}( it.value() );
2088     d->\hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.clear();
2089 
2090     \textcolor{comment}{// delete the private structure}
2091     \textcolor{keyword}{delete} d;
2092 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{classOkular_1_1Document_a37300860cf93f60184305829b033e0e2}{\index{Okular\+::\+Document@{Okular\+::\+Document}!add\+Observer@{add\+Observer}}
\index{add\+Observer@{add\+Observer}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{add\+Observer}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::add\+Observer (
\begin{DoxyParamCaption}
\item[{{\bf Document\+Observer} $\ast$}]{observer}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a37300860cf93f60184305829b033e0e2}
Registers a new {\ttfamily observer} for the document. 

Definition at line 2482 of file document.\+cpp.


\begin{DoxyCode}
2483 \{
2484     Q\_ASSERT( !d->\hyperlink{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}{m\_observers}.contains( pObserver ) );
2485     d->\hyperlink{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}{m\_observers} << pObserver;
2486 
2487     \textcolor{comment}{// if the observer is added while a document is already opened, tell it}
2488     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.isEmpty() )
2489     \{
2490         pObserver->notifySetup( d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}, 
      \hyperlink{classOkular_1_1DocumentObserver_aba00584af99894f95a9650e91f109d40ae599564392c01b22e96eff7602c4dd03}{DocumentObserver::DocumentChanged} );
2491         pObserver->notifyViewportChanged( \textcolor{keyword}{false} \textcolor{comment}{/*disables smoothMove*/} );
2492     \}
2493 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a803b34cf352157810214667438f22210}{\index{Okular\+::\+Document@{Okular\+::\+Document}!add\+Page\+Annotation@{add\+Page\+Annotation}}
\index{add\+Page\+Annotation@{add\+Page\+Annotation}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{add\+Page\+Annotation}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::add\+Page\+Annotation (
\begin{DoxyParamCaption}
\item[{int}]{page, }
\item[{{\bf Annotation} $\ast$}]{annotation}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a803b34cf352157810214667438f22210}
Adds a new {\ttfamily annotation} to the given {\ttfamily page}. 

Definition at line 2970 of file document.\+cpp.


\begin{DoxyCode}
2971 \{
2972     \textcolor{comment}{// Transform annotation's base boundary rectangle into unrotated coordinates}
2973     \hyperlink{classOkular_1_1Page}{Page} *p = d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}[\hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page}];
2974     QTransform t = p->d->\hyperlink{classOkular_1_1PagePrivate_a87e2009afc3a1f31a0b03d3a6a359a03}{rotationMatrix}();
2975     annotation->d\_ptr->baseTransform(t.inverted());
2976     QUndoCommand *uc = \textcolor{keyword}{new} \hyperlink{classOkular_1_1AddAnnotationCommand}{AddAnnotationCommand}(this->d, annotation, 
      \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page});
2977     d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack}->push(uc);
2978 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a9a1f670222f9e036d11e11ac6876c086}{\index{Okular\+::\+Document@{Okular\+::\+Document}!all\+Pages\+Size@{all\+Pages\+Size}}
\index{all\+Pages\+Size@{all\+Pages\+Size}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{all\+Pages\+Size}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Size\+F Document\+::all\+Pages\+Size (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a9a1f670222f9e036d11e11ac6876c086}
If all pages have the same size this method returns it, if the page sizes differ an empty size object is returned. 

Definition at line 2807 of file document.\+cpp.


\begin{DoxyCode}
2808 \{
2809     \textcolor{keywordtype}{bool} allPagesSameSize = \textcolor{keyword}{true};
2810     QSizeF \hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size};
2811     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; allPagesSameSize && i < d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.count(); ++i)
2812     \{
2813         \textcolor{keyword}{const} \hyperlink{classOkular_1_1Page}{Page} *p = d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.at(i);
2814         \textcolor{keywordflow}{if} (i == 0) size = QSizeF(p->\hyperlink{classOkular_1_1Page_a57114e88281da2a51b1bb0d5d4996d53}{width}(), p->\hyperlink{classOkular_1_1Page_a67246a32b3e625946eb5c685b8372a4f}{height}());
2815         \textcolor{keywordflow}{else}
2816         \{
2817             allPagesSameSize = (size == QSizeF(p->\hyperlink{classOkular_1_1Page_a57114e88281da2a51b1bb0d5d4996d53}{width}(), p->\hyperlink{classOkular_1_1Page_a67246a32b3e625946eb5c685b8372a4f}{height}()));
2818         \}
2819     \}
2820     \textcolor{keywordflow}{if} (allPagesSameSize) \textcolor{keywordflow}{return} \hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size};
2821     \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} QSizeF();
2822 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a755d2a16ad3ed30996c93924f7232e36}{\index{Okular\+::\+Document@{Okular\+::\+Document}!annotation\+Contents\+Changed\+By\+Undo\+Redo@{annotation\+Contents\+Changed\+By\+Undo\+Redo}}
\index{annotation\+Contents\+Changed\+By\+Undo\+Redo@{annotation\+Contents\+Changed\+By\+Undo\+Redo}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{annotation\+Contents\+Changed\+By\+Undo\+Redo}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::annotation\+Contents\+Changed\+By\+Undo\+Redo (
\begin{DoxyParamCaption}
\item[{{\bf Okular\+::\+Annotation} $\ast$}]{annotation, }
\item[{const Q\+String \&}]{contents, }
\item[{int}]{cursor\+Pos, }
\item[{int}]{anchor\+Pos}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_a755d2a16ad3ed30996c93924f7232e36}
This signal is emmitted whenever the contents of the given {\ttfamily annotation} are changed by an undo or redo action.

The new contents ({\ttfamily contents}), cursor position ({\ttfamily cursor\+Pos}), and anchor position ({\ttfamily anchor\+Pos}) are included \begin{DoxySince}{Since}
0.\+17 (K\+D\+E 4.\+11) 
\end{DoxySince}
\hypertarget{classOkular_1_1Document_a01de5a7212e14772e647a8e1caa07627}{\index{Okular\+::\+Document@{Okular\+::\+Document}!bookmarked\+Page\+List@{bookmarked\+Page\+List}}
\index{bookmarked\+Page\+List@{bookmarked\+Page\+List}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{bookmarked\+Page\+List}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Q\+List}$<$ int $>$ Document\+::bookmarked\+Page\+List (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a01de5a7212e14772e647a8e1caa07627}
Returns a list of the bookmarked.\+pages 

Definition at line 3549 of file document.\+cpp.


\begin{DoxyCode}
3550 \{
3551     \hyperlink{classQList}{QList<int>} list;
3552     uint docPages = \hyperlink{classOkular_1_1Document_aaf5d986758e25127946986abaa401bcd}{pages}();
3553 
3554     \textcolor{comment}{//pages are 0-indexed internally, but 1-indexed externally}
3555     \textcolor{keywordflow}{for} ( uint i = 0; i < docPages; i++ )
3556     \{
3557         \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1Document_a2a2a1f0f5384563c8b24c2ba48809839}{bookmarkManager}()->isBookmarked( i ) )
3558         \{
3559             list << i + 1;
3560         \}
3561     \}
3562     \textcolor{keywordflow}{return} list;
3563 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_ae54c00670b879c5d583e37c51c967860}{\index{Okular\+::\+Document@{Okular\+::\+Document}!bookmarked\+Page\+Range@{bookmarked\+Page\+Range}}
\index{bookmarked\+Page\+Range@{bookmarked\+Page\+Range}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{bookmarked\+Page\+Range}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String Document\+::bookmarked\+Page\+Range (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_ae54c00670b879c5d583e37c51c967860}
Returns the range of the bookmarked.\+pages 

Definition at line 3565 of file document.\+cpp.


\begin{DoxyCode}
3566 \{
3567     \textcolor{comment}{// Code formerly in Part::slotPrint()}
3568     \textcolor{comment}{// range detecting}
3569     QString range;
3570     uint docPages = \hyperlink{classOkular_1_1Document_aaf5d986758e25127946986abaa401bcd}{pages}();
3571     \textcolor{keywordtype}{int} startId = -1;
3572     \textcolor{keywordtype}{int} endId = -1;
3573 
3574     \textcolor{keywordflow}{for} ( uint i = 0; i < docPages; ++i )
3575     \{
3576         \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1Document_a2a2a1f0f5384563c8b24c2ba48809839}{bookmarkManager}()->isBookmarked( i ) )
3577         \{
3578             \textcolor{keywordflow}{if} ( startId < 0 )
3579                 startId = i;
3580             \textcolor{keywordflow}{if} ( endId < 0 )
3581                 endId = startId;
3582             \textcolor{keywordflow}{else}
3583                 ++endId;
3584         \}
3585         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( startId >= 0 && endId >= 0 )
3586         \{
3587             \textcolor{keywordflow}{if} ( !range.isEmpty() )
3588                 range += \textcolor{charliteral}{','};
3589 
3590             \textcolor{keywordflow}{if} ( endId - startId > 0 )
3591                 range += QString( \textcolor{stringliteral}{"%1-%2"} ).arg( startId + 1 ).arg( endId + 1 );
3592             \textcolor{keywordflow}{else}
3593                 range += QString::number( startId + 1 );
3594             startId = -1;
3595             endId = -1;
3596         \}
3597     \}
3598     \textcolor{keywordflow}{if} ( startId >= 0 && endId >= 0 )
3599     \{
3600         \textcolor{keywordflow}{if} ( !range.isEmpty() )
3601             range += \textcolor{charliteral}{','};
3602 
3603         \textcolor{keywordflow}{if} ( endId - startId > 0 )
3604             range += QString( \textcolor{stringliteral}{"%1-%2"} ).arg( startId + 1 ).arg( endId + 1 );
3605         \textcolor{keywordflow}{else}
3606             range += QString::number( startId + 1 );
3607     \}
3608     \textcolor{keywordflow}{return} range;
3609 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a2a2a1f0f5384563c8b24c2ba48809839}{\index{Okular\+::\+Document@{Okular\+::\+Document}!bookmark\+Manager@{bookmark\+Manager}}
\index{bookmark\+Manager@{bookmark\+Manager}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{bookmark\+Manager}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Bookmark\+Manager} $\ast$ Document\+::bookmark\+Manager (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a2a2a1f0f5384563c8b24c2ba48809839}
Returns the bookmark manager of the document. 

Definition at line 3544 of file document.\+cpp.


\begin{DoxyCode}
3545 \{
3546     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a098282fb7e82c81ea9402333864fd389}{m\_bookmarkManager};
3547 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a1f2fa321ed9357c5110b78a0c2502a8d}{\index{Okular\+::\+Document@{Okular\+::\+Document}!cancel\+Search@{cancel\+Search}}
\index{cancel\+Search@{cancel\+Search}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{cancel\+Search}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::cancel\+Search (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [slot]}}}\label{classOkular_1_1Document_a1f2fa321ed9357c5110b78a0c2502a8d}
Cancels the current search 

Definition at line 3481 of file document.\+cpp.


\begin{DoxyCode}
3482 \{
3483     d->\hyperlink{classOkular_1_1DocumentPrivate_ad852d630ad63f8fd4ce1b2cc93179c91}{m\_searchCancelled} = \textcolor{keyword}{true};
3484 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_ad5aa67984b07fc83309ab7798274a60a}{\index{Okular\+::\+Document@{Okular\+::\+Document}!can\+Configure\+Printer@{can\+Configure\+Printer}}
\index{can\+Configure\+Printer@{can\+Configure\+Printer}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{can\+Configure\+Printer}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::can\+Configure\+Printer (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_ad5aa67984b07fc83309ab7798274a60a}
Returns whether the document can configure the printer itself. 

Definition at line 2569 of file document.\+cpp.


\begin{DoxyCode}
2570 \{
2571     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
2572     \{
2573         \hyperlink{classOkular_1_1PrintInterface}{Okular::PrintInterface} * iface = qobject\_cast< 
      \hyperlink{classOkular_1_1PrintInterface}{Okular::PrintInterface} * >( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} );
2574         \textcolor{keywordflow}{return} iface ? \textcolor{keyword}{true} : \textcolor{keyword}{false};
2575     \}
2576     \textcolor{keywordflow}{else}
2577         \textcolor{keywordflow}{return} 0;
2578 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a004a5cf38402e7ee4a057311ef507e10}{\index{Okular\+::\+Document@{Okular\+::\+Document}!can\+Export\+To\+Text@{can\+Export\+To\+Text}}
\index{can\+Export\+To\+Text@{can\+Export\+To\+Text}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{can\+Export\+To\+Text}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::can\+Export\+To\+Text (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a004a5cf38402e7ee4a057311ef507e10}
Returns whether the document supports the export to A\+S\+C\+I\+I text. 

Definition at line 2752 of file document.\+cpp.


\begin{DoxyCode}
2753 \{
2754     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
2755         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2756 
2757     d->\hyperlink{classOkular_1_1DocumentPrivate_a0319ccf7bd247df318608af697c244b3}{cacheExportFormats}();
2758     \textcolor{keywordflow}{return} !d->\hyperlink{classOkular_1_1DocumentPrivate_a6c71a54787a3a6d6c16f79e2eb77ebbd}{m\_exportToText}.\hyperlink{classOkular_1_1ExportFormat_a963d2b4cf54835cba6febc4956ad99d9}{isNull}();
2759 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_acbc3b843b40096c18dbeec805552685a}{\index{Okular\+::\+Document@{Okular\+::\+Document}!can\+Modify\+Page\+Annotation@{can\+Modify\+Page\+Annotation}}
\index{can\+Modify\+Page\+Annotation@{can\+Modify\+Page\+Annotation}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{can\+Modify\+Page\+Annotation}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::can\+Modify\+Page\+Annotation (
\begin{DoxyParamCaption}
\item[{const {\bf Annotation} $\ast$}]{annotation}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_acbc3b843b40096c18dbeec805552685a}
Tests if the {\ttfamily annotation} can be modified

\begin{DoxySince}{Since}
0.\+15 (K\+D\+E 4.\+9) 
\end{DoxySince}


Definition at line 2980 of file document.\+cpp.


\begin{DoxyCode}
2981 \{
2982     \textcolor{keywordflow}{if} ( !annotation || ( annotation->\hyperlink{classOkular_1_1Annotation_a3d6f7ee5057155b90e76c24768880947}{flags}() & \hyperlink{classOkular_1_1Annotation_a8a214541446745761efeda70b3a4302ead5a9f7601c7a91f887f03bf90a933740}{Annotation::DenyWrite} ) )
2983         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2984 
2985     \textcolor{keywordflow}{if} ( !\hyperlink{classOkular_1_1Document_a6dd7a475b14222c07d1c410311f35cdb}{isAllowed}(\hyperlink{namespaceOkular_a3601f4e702453ddf1125476dd6e7577ba6c10962833bd58ea0f8d63e448eba8e9}{Okular::AllowNotes}) )
2986         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2987 
2988     \textcolor{keywordflow}{if} ( ( annotation->\hyperlink{classOkular_1_1Annotation_a3d6f7ee5057155b90e76c24768880947}{flags}() & \hyperlink{classOkular_1_1Annotation_a8a214541446745761efeda70b3a4302eabe908102c97a725aa1928602f17833c0}{Annotation::External} ) && !d->
      \hyperlink{classOkular_1_1DocumentPrivate_a6d7377eb17bd81f5272ec23aa2fb03ac}{canModifyExternalAnnotations}() )
2989         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2990 
2991     \textcolor{keywordflow}{switch} ( annotation->\hyperlink{classOkular_1_1Annotation_af9833449767eacd740f377e69a1fdd48}{subType}() )
2992     \{
2993         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Annotation_af71b46e37d5f850b97d5c4de3be9aac0a48f93d5a9352abc4e38a45f69075e504}{Annotation::AText}:
2994         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Annotation_af71b46e37d5f850b97d5c4de3be9aac0a7035dc978d8b79958f34e3d164838726}{Annotation::ALine}:
2995         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Annotation_af71b46e37d5f850b97d5c4de3be9aac0a2c11d328af34f5526fd9e761297fb3c2}{Annotation::AGeom}:
2996         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Annotation_af71b46e37d5f850b97d5c4de3be9aac0a03e002f9ae62005b2d7c7f1445507501}{Annotation::AHighlight}:
2997         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Annotation_af71b46e37d5f850b97d5c4de3be9aac0ad542ded420c9b01f44ee923bf28ecd9a}{Annotation::AStamp}:
2998         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Annotation_af71b46e37d5f850b97d5c4de3be9aac0a4ed60063584ceb146c2a378f0df4ed37}{Annotation::AInk}:
2999             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
3000         \textcolor{keywordflow}{default}:
3001             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
3002     \}
3003 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a8c43c3aa0d740b48813bfbd5deec7f1c}{\index{Okular\+::\+Document@{Okular\+::\+Document}!can\+Provide\+Font\+Information@{can\+Provide\+Font\+Information}}
\index{can\+Provide\+Font\+Information@{can\+Provide\+Font\+Information}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{can\+Provide\+Font\+Information}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::can\+Provide\+Font\+Information (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a8c43c3aa0d740b48813bfbd5deec7f1c}
Whether the current document can provide information about the fonts used in it. 

Definition at line 2660 of file document.\+cpp.


\begin{DoxyCode}
2661 \{
2662     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} ? d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_aacad530ef4f0c31a4addc89eb85ec8da}{hasFeature}( 
      \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a8b712b2b89239900d3d0d000280efa36}{Generator::FontInfo} ) : \textcolor{keyword}{false};
2663 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a7bb3610409fcc2be99007213cfa2f3cd}{\index{Okular\+::\+Document@{Okular\+::\+Document}!can\+Redo@{can\+Redo}}
\index{can\+Redo@{can\+Redo}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{can\+Redo}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::can\+Redo (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a7bb3610409fcc2be99007213cfa2f3cd}
Returns true if there is a redo command available; otherwise returns false. \begin{DoxySince}{Since}
0.\+17 (K\+D\+E 4.\+11) 
\end{DoxySince}


Definition at line 3147 of file document.\+cpp.


\begin{DoxyCode}
3148 \{
3149     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack}->canRedo();
3150 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a503f3e63322d9df95df8b07919edce7a}{\index{Okular\+::\+Document@{Okular\+::\+Document}!can\+Redo\+Changed@{can\+Redo\+Changed}}
\index{can\+Redo\+Changed@{can\+Redo\+Changed}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{can\+Redo\+Changed}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::can\+Redo\+Changed (
\begin{DoxyParamCaption}
\item[{bool}]{redo\+Available}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_a503f3e63322d9df95df8b07919edce7a}
This signal is emmitted whenever the availability of the redo function changes \begin{DoxySince}{Since}
0.\+17 (K\+D\+E 4.\+11) 
\end{DoxySince}
\hypertarget{classOkular_1_1Document_a77f5c38224da847413dbe51c5e24ed08}{\index{Okular\+::\+Document@{Okular\+::\+Document}!can\+Remove\+Page\+Annotation@{can\+Remove\+Page\+Annotation}}
\index{can\+Remove\+Page\+Annotation@{can\+Remove\+Page\+Annotation}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{can\+Remove\+Page\+Annotation}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::can\+Remove\+Page\+Annotation (
\begin{DoxyParamCaption}
\item[{const {\bf Annotation} $\ast$}]{annotation}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a77f5c38224da847413dbe51c5e24ed08}
Tests if the {\ttfamily annotation} can be removed

\begin{DoxySince}{Since}
0.\+15 (K\+D\+E 4.\+9) 
\end{DoxySince}


Definition at line 3054 of file document.\+cpp.


\begin{DoxyCode}
3055 \{
3056     \textcolor{keywordflow}{if} ( !annotation || ( annotation->\hyperlink{classOkular_1_1Annotation_a3d6f7ee5057155b90e76c24768880947}{flags}() & \hyperlink{classOkular_1_1Annotation_a8a214541446745761efeda70b3a4302ea1ac69f31d992e95ae3c11420875c6293}{Annotation::DenyDelete} ) )
3057         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
3058 
3059     \textcolor{keywordflow}{if} ( ( annotation->\hyperlink{classOkular_1_1Annotation_a3d6f7ee5057155b90e76c24768880947}{flags}() & \hyperlink{classOkular_1_1Annotation_a8a214541446745761efeda70b3a4302eabe908102c97a725aa1928602f17833c0}{Annotation::External} ) && !d->
      \hyperlink{classOkular_1_1DocumentPrivate_ac0c69229f58900112e34858d7b2059dd}{canRemoveExternalAnnotations}() )
3060         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
3061 
3062     \textcolor{keywordflow}{switch} ( annotation->\hyperlink{classOkular_1_1Annotation_af9833449767eacd740f377e69a1fdd48}{subType}() )
3063     \{
3064         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Annotation_af71b46e37d5f850b97d5c4de3be9aac0a48f93d5a9352abc4e38a45f69075e504}{Annotation::AText}:
3065         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Annotation_af71b46e37d5f850b97d5c4de3be9aac0a7035dc978d8b79958f34e3d164838726}{Annotation::ALine}:
3066         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Annotation_af71b46e37d5f850b97d5c4de3be9aac0a2c11d328af34f5526fd9e761297fb3c2}{Annotation::AGeom}:
3067         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Annotation_af71b46e37d5f850b97d5c4de3be9aac0a03e002f9ae62005b2d7c7f1445507501}{Annotation::AHighlight}:
3068         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Annotation_af71b46e37d5f850b97d5c4de3be9aac0ad542ded420c9b01f44ee923bf28ecd9a}{Annotation::AStamp}:
3069         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Annotation_af71b46e37d5f850b97d5c4de3be9aac0a4ed60063584ceb146c2a378f0df4ed37}{Annotation::AInk}:
3070             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
3071         \textcolor{keywordflow}{default}:
3072             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
3073     \}
3074 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a46772ecd6dc23f6e07fb358eef32924d}{\index{Okular\+::\+Document@{Okular\+::\+Document}!can\+Save\+Changes@{can\+Save\+Changes}}
\index{can\+Save\+Changes@{can\+Save\+Changes}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{can\+Save\+Changes}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::can\+Save\+Changes (
\begin{DoxyParamCaption}
\item[{{\bf Save\+Capability}}]{cap}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a46772ecd6dc23f6e07fb358eef32924d}
Returns whether it's possible to save a given category of changes to another document.

\begin{DoxySince}{Since}
0.\+15 (K\+D\+E 4.\+9) 
\end{DoxySince}


Definition at line 4055 of file document.\+cpp.


\begin{DoxyCode}
4056 \{
4057     \textcolor{keywordflow}{switch} ( cap )
4058     \{
4059         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Document_a7aa93fc147bd5aa966d65477b5c5eae9af3700f1553625c9cf992b4c5cc783ccd}{SaveFormsCapability}:
4060             \textcolor{comment}{/* Assume that if the generator supports saving, forms can be saved.}
4061 \textcolor{comment}{             * We have no means to actually query the generator at the moment}
4062 \textcolor{comment}{             * TODO: Add some method to query the generator in SaveInterface */}
4063             \textcolor{keywordflow}{return} \hyperlink{classOkular_1_1Document_a0372c1139a49d2efd2fa140326a9c37d}{canSaveChanges}();
4064 
4065         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Document_a7aa93fc147bd5aa966d65477b5c5eae9ab39f6065bb5cff48353657ac469f827b}{SaveAnnotationsCapability}:
4066             \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_ac0e0b9633df5fbd632e9ffa865b0f04b}{canAddAnnotationsNatively}();
4067     \}
4068 
4069     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4070 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a0372c1139a49d2efd2fa140326a9c37d}{\index{Okular\+::\+Document@{Okular\+::\+Document}!can\+Save\+Changes@{can\+Save\+Changes}}
\index{can\+Save\+Changes@{can\+Save\+Changes}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{can\+Save\+Changes}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::can\+Save\+Changes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a0372c1139a49d2efd2fa140326a9c37d}
Returns whether the changes to the document (modified annotations, values in form fields, etc) can be saved to another document.

Equivalent to the logical O\+R of can\+Save\+Changes(\+Save\+Capability) for each capability.

\begin{DoxySince}{Since}
0.\+7 (K\+D\+E 4.\+1) 
\end{DoxySince}


Definition at line 4040 of file document.\+cpp.


\begin{DoxyCode}
4041 \{
4042     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
4043         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4044     Q\_ASSERT( !d->\hyperlink{classOkular_1_1DocumentPrivate_a4f02c151d836f43f47a6eeb614b25bf0}{m\_generatorName}.isEmpty() );
4045 
4046     QHash< QString, GeneratorInfo >::iterator genIt = d->\hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.find( d->
      \hyperlink{classOkular_1_1DocumentPrivate_a4f02c151d836f43f47a6eeb614b25bf0}{m\_generatorName} );
4047     Q\_ASSERT( genIt != d->\hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.end() );
4048     \hyperlink{classOkular_1_1SaveInterface}{SaveInterface}* saveIface = d->\hyperlink{classOkular_1_1DocumentPrivate_a5f41002e3d3c2951033ae41e3443675b}{generatorSave}( genIt.value() );
4049     \textcolor{keywordflow}{if} ( !saveIface )
4050         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4051 
4052     \textcolor{keywordflow}{return} saveIface->\hyperlink{classOkular_1_1SaveInterface_a8015ceb5e3b6dffc5f7cd620a82fdc16}{supportsOption}( \hyperlink{classOkular_1_1SaveInterface_ada9624051ff917ec66ca12b6d6684399a595c02ea3ea3f3c841cdf3b7a0824d68}{SaveInterface::SaveChanges} );
4053 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_ae2d50d5d74f0acec1d9ca86e3742ae16}{\index{Okular\+::\+Document@{Okular\+::\+Document}!can\+Undo@{can\+Undo}}
\index{can\+Undo@{can\+Undo}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{can\+Undo}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::can\+Undo (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_ae2d50d5d74f0acec1d9ca86e3742ae16}
Returns true if there is an undo command available; otherwise returns false. \begin{DoxySince}{Since}
0.\+17 (K\+D\+E 4.\+11) 
\end{DoxySince}


Definition at line 3142 of file document.\+cpp.


\begin{DoxyCode}
3143 \{
3144     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack}->canUndo();
3145 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a26f1d9eebc095fc150af881b62b2238b}{\index{Okular\+::\+Document@{Okular\+::\+Document}!can\+Undo\+Changed@{can\+Undo\+Changed}}
\index{can\+Undo\+Changed@{can\+Undo\+Changed}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{can\+Undo\+Changed}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::can\+Undo\+Changed (
\begin{DoxyParamCaption}
\item[{bool}]{undo\+Available}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_a26f1d9eebc095fc150af881b62b2238b}
This signal is emmitted whenever the availability of the undo function changes \begin{DoxySince}{Since}
0.\+17 (K\+D\+E 4.\+11) 
\end{DoxySince}
\hypertarget{classOkular_1_1Document_a703b5ba4788bacfc7ab9b49e479eb07f}{\index{Okular\+::\+Document@{Okular\+::\+Document}!close@{close}}
\index{close@{close}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{close}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::close (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_a703b5ba4788bacfc7ab9b49e479eb07f}
This signal is emitted whenever an action requests a document close operation. \hypertarget{classOkular_1_1Document_ac0560562cba36a50717125b4aaeea7b7}{\index{Okular\+::\+Document@{Okular\+::\+Document}!close\+Document@{close\+Document}}
\index{close\+Document@{close\+Document}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{close\+Document}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::close\+Document (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_ac0560562cba36a50717125b4aaeea7b7}
Closes the document. 

Definition at line 2345 of file document.\+cpp.


\begin{DoxyCode}
2346 \{
2347     \textcolor{comment}{// check if there's anything to close...}
2348     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
2349         \textcolor{keywordflow}{return};
2350 
2351     \textcolor{keyword}{delete} d->\hyperlink{classOkular_1_1DocumentPrivate_a0764e01a78ed52ece9229f50300522f1}{m\_pageController};
2352     d->\hyperlink{classOkular_1_1DocumentPrivate_a0764e01a78ed52ece9229f50300522f1}{m\_pageController} = 0;
2353 
2354     \textcolor{keyword}{delete} d->\hyperlink{classOkular_1_1DocumentPrivate_aa92ce51e07aaab18bd40542eb9bc31e6}{m\_scripter};
2355     d->\hyperlink{classOkular_1_1DocumentPrivate_aa92ce51e07aaab18bd40542eb9bc31e6}{m\_scripter} = 0;
2356 
2357      \textcolor{comment}{// remove requests left in queue}
2358     d->\hyperlink{classOkular_1_1DocumentPrivate_a5c0e919d575a7a3c19a42c64a672fce4}{m\_pixmapRequestsMutex}.lock();
2359     \hyperlink{classQLinkedList}{QLinkedList< PixmapRequest * >::const\_iterator} sIt = d->
      \hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.constBegin();
2360     \hyperlink{classQLinkedList}{QLinkedList< PixmapRequest * >::const\_iterator} sEnd = d->
      \hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.constEnd();
2361     \textcolor{keywordflow}{for} ( ; sIt != sEnd; ++sIt )
2362         \textcolor{keyword}{delete} *sIt;
2363     d->\hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.clear();
2364     d->\hyperlink{classOkular_1_1DocumentPrivate_a5c0e919d575a7a3c19a42c64a672fce4}{m\_pixmapRequestsMutex}.unlock();
2365 
2366     QEventLoop loop;
2367     \textcolor{keywordtype}{bool} startEventLoop = \textcolor{keyword}{false};
2368     \textcolor{keywordflow}{do}
2369     \{
2370         d->\hyperlink{classOkular_1_1DocumentPrivate_a5c0e919d575a7a3c19a42c64a672fce4}{m\_pixmapRequestsMutex}.lock();
2371         startEventLoop = !d->\hyperlink{classOkular_1_1DocumentPrivate_adc84c2f8f76e7880b41e155edabf69e7}{m\_executingPixmapRequests}.isEmpty();
2372         d->\hyperlink{classOkular_1_1DocumentPrivate_a5c0e919d575a7a3c19a42c64a672fce4}{m\_pixmapRequestsMutex}.unlock();
2373         \textcolor{keywordflow}{if} ( startEventLoop )
2374         \{
2375             d->\hyperlink{classOkular_1_1DocumentPrivate_a836cb1b614d8d25bad8403dfd746ef00}{m\_closingLoop} = &loop;
2376             loop.exec();
2377             d->\hyperlink{classOkular_1_1DocumentPrivate_a836cb1b614d8d25bad8403dfd746ef00}{m\_closingLoop} = 0;
2378         \}
2379     \}
2380     \textcolor{keywordflow}{while} ( startEventLoop );
2381 
2382     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a7d89f5349531b52b4109855269a6a4c4}{m\_fontThread} )
2383     \{
2384         disconnect( d->\hyperlink{classOkular_1_1DocumentPrivate_a7d89f5349531b52b4109855269a6a4c4}{m\_fontThread}, 0, \textcolor{keyword}{this}, 0 );
2385         d->\hyperlink{classOkular_1_1DocumentPrivate_a7d89f5349531b52b4109855269a6a4c4}{m\_fontThread}->stopExtraction();
2386         d->\hyperlink{classOkular_1_1DocumentPrivate_a7d89f5349531b52b4109855269a6a4c4}{m\_fontThread}->wait();
2387         d->\hyperlink{classOkular_1_1DocumentPrivate_a7d89f5349531b52b4109855269a6a4c4}{m\_fontThread} = 0;
2388     \}
2389 
2390     \textcolor{comment}{// stop any audio playback}
2391     \hyperlink{classOkular_1_1AudioPlayer_a5bbc067e81b46451098a2a0becf23e67}{AudioPlayer::instance}()->\hyperlink{classOkular_1_1AudioPlayer_a48730f5eb7dbc0551679c367e0ba9234}{stopPlaybacks}();
2392 
2393     \textcolor{comment}{// close the current document and save document info if a document is still opened}
2394     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} && d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.size() > 0 )
2395     \{
2396         d->\hyperlink{classOkular_1_1DocumentPrivate_a902754eb52a42389fe3abc3fa10b6b46}{saveDocumentInfo}();
2397         d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_a53fb0b9aa1b38bbc765dc83480fef918}{closeDocument}();
2398     \}
2399 
2400     \textcolor{comment}{// stop timers}
2401     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_aa403a95dfe9f344c12c7409319aaf62f}{m\_memCheckTimer} )
2402         d->\hyperlink{classOkular_1_1DocumentPrivate_aa403a95dfe9f344c12c7409319aaf62f}{m\_memCheckTimer}->stop();
2403     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a1d64b1924e24e32715cc5c7b3471595f}{m\_saveBookmarksTimer} )
2404         d->\hyperlink{classOkular_1_1DocumentPrivate_a1d64b1924e24e32715cc5c7b3471595f}{m\_saveBookmarksTimer}->stop();
2405 
2406     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
2407     \{
2408         \textcolor{comment}{// disconnect the generator from this document ...}
2409         d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->d\_func()->m\_document = 0;
2410         \textcolor{comment}{// .. and this document from the generator signals}
2411         disconnect( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}, 0, \textcolor{keyword}{this}, 0 );
2412 
2413         QHash< QString, GeneratorInfo >::const\_iterator genIt = d->
      \hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.constFind( d->\hyperlink{classOkular_1_1DocumentPrivate_a4f02c151d836f43f47a6eeb614b25bf0}{m\_generatorName} );
2414         Q\_ASSERT( genIt != d->\hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.constEnd() );
2415         \textcolor{keywordflow}{if} ( !genIt.value().catalogName.isEmpty() && !genIt.value().config )
2416             KGlobal::locale()->removeCatalog( genIt.value().catalogName );
2417     \}
2418     d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} = 0;
2419     d->\hyperlink{classOkular_1_1DocumentPrivate_a4f02c151d836f43f47a6eeb614b25bf0}{m\_generatorName} = QString();
2420     d->\hyperlink{classOkular_1_1DocumentPrivate_a1a0145bbb16d15c016000a83d0d2ab2b}{m\_url} = KUrl();
2421     d->\hyperlink{classOkular_1_1DocumentPrivate_af56dcee87c3465c69da7cea920b95fbb}{m\_docFileName} = QString();
2422     d->\hyperlink{classOkular_1_1DocumentPrivate_aae08e3c4d234247bf3d52608649e7c64}{m\_xmlFileName} = QString();
2423     \textcolor{keyword}{delete} d->\hyperlink{classOkular_1_1DocumentPrivate_a09a610ec7c029dd3b73580abfc65059d}{m\_tempFile};
2424     d->\hyperlink{classOkular_1_1DocumentPrivate_a09a610ec7c029dd3b73580abfc65059d}{m\_tempFile} = 0;
2425     \textcolor{keyword}{delete} d->\hyperlink{classOkular_1_1DocumentPrivate_a135bb6fa2886b0eb86e9a1b72fd8d25b}{m\_archiveData};
2426     d->\hyperlink{classOkular_1_1DocumentPrivate_a135bb6fa2886b0eb86e9a1b72fd8d25b}{m\_archiveData} = 0;
2427     d->\hyperlink{classOkular_1_1DocumentPrivate_afe0b6665f1386848faf6e6763e7f6cf4}{m\_docSize} = -1;
2428     d->\hyperlink{classOkular_1_1DocumentPrivate_ad738776539c25a2b18b0d482c406b424}{m\_exportCached} = \textcolor{keyword}{false};
2429     d->\hyperlink{classOkular_1_1DocumentPrivate_a674e49f7a287a70630bc5550b1a44169}{m\_exportFormats}.clear();
2430     d->\hyperlink{classOkular_1_1DocumentPrivate_a6c71a54787a3a6d6c16f79e2eb77ebbd}{m\_exportToText} = \hyperlink{classOkular_1_1ExportFormat}{ExportFormat}();
2431     d->\hyperlink{classOkular_1_1DocumentPrivate_aa33ab887df80e7df7c9d7a5eecff000e}{m\_fontsCached} = \textcolor{keyword}{false};
2432     d->\hyperlink{classOkular_1_1DocumentPrivate_a9be70502279da0a275889e504409c7e5}{m\_fontsCache}.clear();
2433     d->\hyperlink{classOkular_1_1DocumentPrivate_a5b7f4c2b5937d311b277c2e90826ee1b}{m\_rotation} = \hyperlink{namespaceOkular_a8556d00465f61ef533c6b027669e7da6aa4df8fc3dd09e30520c264c8d23d89c2}{Rotation0};
2434 
2435     \textcolor{comment}{// send an empty list to observers (to free their data)}
2436     \hyperlink{core_2document_8cpp_a67e536532b9ae1f36450a4ebff082fea}{foreachObserver}( notifySetup( QVector< Page * >(), 
      \hyperlink{classOkular_1_1DocumentObserver_aba00584af99894f95a9650e91f109d40ae599564392c01b22e96eff7602c4dd03}{DocumentObserver::DocumentChanged} ) );
2437 
2438     \textcolor{comment}{// delete pages and clear 'd->m\_pagesVector' container}
2439     QVector< Page * >::const\_iterator pIt = d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.constBegin();
2440     QVector< Page * >::const\_iterator pEnd = d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.constEnd();
2441     \textcolor{keywordflow}{for} ( ; pIt != pEnd; ++pIt )
2442         \textcolor{keyword}{delete} *pIt;
2443     d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.clear();
2444 
2445     \textcolor{comment}{// clear 'memory allocation' descriptors}
2446     qDeleteAll( d->\hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps} );
2447     d->\hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps}.clear();
2448 
2449     \textcolor{comment}{// clear 'running searches' descriptors}
2450     \hyperlink{classQMap}{QMap< int, RunningSearch * >::const\_iterator} rIt = d->
      \hyperlink{classOkular_1_1DocumentPrivate_a42420dd45075092b921a829b8e9f2214}{m\_searches}.constBegin();
2451     \hyperlink{classQMap}{QMap< int, RunningSearch * >::const\_iterator} rEnd = d->
      \hyperlink{classOkular_1_1DocumentPrivate_a42420dd45075092b921a829b8e9f2214}{m\_searches}.constEnd();
2452     \textcolor{keywordflow}{for} ( ; rIt != rEnd; ++rIt )
2453         \textcolor{keyword}{delete} *rIt;
2454     d->\hyperlink{classOkular_1_1DocumentPrivate_a42420dd45075092b921a829b8e9f2214}{m\_searches}.clear();
2455 
2456     \textcolor{comment}{// clear the visible areas and notify the observers}
2457     QVector< VisiblePageRect * >::const\_iterator vIt = d->\hyperlink{classOkular_1_1DocumentPrivate_a2d167614d4dc602ada64ab925cee6dce}{m\_pageRects}.constBegin();
2458     QVector< VisiblePageRect * >::const\_iterator vEnd = d->\hyperlink{classOkular_1_1DocumentPrivate_a2d167614d4dc602ada64ab925cee6dce}{m\_pageRects}.constEnd();
2459     \textcolor{keywordflow}{for} ( ; vIt != vEnd; ++vIt )
2460         \textcolor{keyword}{delete} *vIt;
2461     d->\hyperlink{classOkular_1_1DocumentPrivate_a2d167614d4dc602ada64ab925cee6dce}{m\_pageRects}.clear();
2462     \hyperlink{core_2document_8cpp_a67e536532b9ae1f36450a4ebff082fea}{foreachObserver}( notifyVisibleRectsChanged() );
2463 
2464     \textcolor{comment}{// reset internal variables}
2465 
2466     d->\hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.clear();
2467     d->\hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.append( \hyperlink{classOkular_1_1DocumentViewport}{DocumentViewport}() );
2468     d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator} = d->\hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.begin();
2469     d->\hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\_allocatedPixmapsTotalMemory} = 0;
2470     d->\hyperlink{classOkular_1_1DocumentPrivate_a2fb5e844b3870b8cff42a4c3b4bdfd48}{m\_allocatedTextPagesFifo}.clear();
2471     d->\hyperlink{classOkular_1_1DocumentPrivate_a6c09eaaed5a1d862bb11074347cc102d}{m\_pageSize} = \hyperlink{classOkular_1_1PageSize}{PageSize}();
2472     d->\hyperlink{classOkular_1_1DocumentPrivate_a71f8c84e54d8cc8a5f3396f18c7dae7a}{m\_pageSizes}.clear();
2473 
2474     \textcolor{keyword}{delete} d->\hyperlink{classOkular_1_1DocumentPrivate_a4452394f3abc747fa0b4910c33806371}{m\_documentInfo};
2475     d->\hyperlink{classOkular_1_1DocumentPrivate_a4452394f3abc747fa0b4910c33806371}{m\_documentInfo} = 0;
2476 
2477     \hyperlink{classOkular_1_1AudioPlayer_a5bbc067e81b46451098a2a0becf23e67}{AudioPlayer::instance}()->d->\hyperlink{classOkular_1_1AudioPlayerPrivate_a086fc9c3cbe263bd8c67a6afa8b7373d}{m\_currentDocument} = KUrl();
2478 
2479     d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack}->clear();
2480 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a31fa703bff8a2ac06d9f296cf12efc5a}{\index{Okular\+::\+Document@{Okular\+::\+Document}!component\+Data@{component\+Data}}
\index{component\+Data@{component\+Data}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{component\+Data}]{\setlength{\rightskip}{0pt plus 5cm}const K\+Component\+Data $\ast$ Document\+::component\+Data (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a31fa703bff8a2ac06d9f296cf12efc5a}
Returns the component data associated with the generator. May be null. 

Definition at line 4024 of file document.\+cpp.


\begin{DoxyCode}
4025 \{
4026     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
4027         \textcolor{keywordflow}{return} 0;
4028 
4029     QHash< QString, GeneratorInfo >::const\_iterator genIt = d->
      \hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.constFind( d->\hyperlink{classOkular_1_1DocumentPrivate_a4f02c151d836f43f47a6eeb614b25bf0}{m\_generatorName} );
4030     Q\_ASSERT( genIt != d->\hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.constEnd() );
4031     \textcolor{keyword}{const} KComponentData* kcd = &genIt.value().data;
4032 
4033     \textcolor{comment}{// empty about data}
4034     \textcolor{keywordflow}{if} ( kcd->isValid() && kcd->aboutData() && kcd->aboutData()->programName().isEmpty() )
4035         \textcolor{keywordflow}{return} 0;
4036 
4037     \textcolor{keywordflow}{return} kcd;
4038 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_aba6f8ba249dbd346e8d34a1a31393917}{\index{Okular\+::\+Document@{Okular\+::\+Document}!configurable\+Generators@{configurable\+Generators}}
\index{configurable\+Generators@{configurable\+Generators}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{configurable\+Generators}]{\setlength{\rightskip}{0pt plus 5cm}int Document\+::configurable\+Generators (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_aba6f8ba249dbd346e8d34a1a31393917}
Returns the number of generators that have a configuration widget. 

Definition at line 3996 of file document.\+cpp.


\begin{DoxyCode}
3997 \{
3998     QString constraint( \textcolor{stringliteral}{"([X-KDE-Priority] > 0) and (exist Library) and ([X-KDE-okularHasInternalSettings])
      "} );
3999     KService::List offers = KServiceTypeTrader::self()->query( \textcolor{stringliteral}{"okular/Generator"}, constraint );
4000     \textcolor{keywordflow}{return} offers.count();
4001 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a36cc2e539c7fd032e5f03b26ffa6ddae}{\index{Okular\+::\+Document@{Okular\+::\+Document}!continue\+Search@{continue\+Search}}
\index{continue\+Search@{continue\+Search}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{continue\+Search}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::continue\+Search (
\begin{DoxyParamCaption}
\item[{int}]{search\+I\+D}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a36cc2e539c7fd032e5f03b26ffa6ddae}
Continues the search for the given {\ttfamily search\+I\+D}. 

Definition at line 3416 of file document.\+cpp.


\begin{DoxyCode}
3417 \{
3418     \textcolor{comment}{// check if searchID is present in runningSearches}
3419     \hyperlink{classQMap}{QMap< int, RunningSearch * >::const\_iterator} it = d->
      \hyperlink{classOkular_1_1DocumentPrivate_a42420dd45075092b921a829b8e9f2214}{m\_searches}.constFind( searchID );
3420     \textcolor{keywordflow}{if} ( it == d->\hyperlink{classOkular_1_1DocumentPrivate_a42420dd45075092b921a829b8e9f2214}{m\_searches}.constEnd() )
3421     \{
3422         emit \hyperlink{classOkular_1_1Document_ae938c994d20bdfef40caa3d37d28d92d}{searchFinished}( searchID, \hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbba6f1e44c2a23dde543d40770f949a2882}{NoMatchFound} );
3423         \textcolor{keywordflow}{return};
3424     \}
3425 
3426     \textcolor{comment}{// start search with cached parameters from last search by searchID}
3427     \hyperlink{structRunningSearch}{RunningSearch} * p = *it;
3428     \textcolor{keywordflow}{if} ( !p->\hyperlink{structRunningSearch_a2683a901cf457f541ca4662294e02cec}{isCurrentlySearching} )
3429         \hyperlink{classOkular_1_1Document_a9da5fe32531f4ab8b515ed553092421f}{searchText}( searchID, p->\hyperlink{structRunningSearch_aeed5bd658d162c7650b2e4cb315df054}{cachedString}, \textcolor{keyword}{false}, p->
      \hyperlink{structRunningSearch_a18e388eb59284584e8bd1f514ef7eaf5}{cachedCaseSensitivity},
3430                     p->\hyperlink{structRunningSearch_a1b4026cf76ef3dce1f2b8b831670d784}{cachedType}, p->\hyperlink{structRunningSearch_a82fb2c89035371061b259d4f1b62ff35}{cachedViewportMove}, p->
      \hyperlink{structRunningSearch_ab49ca5b36bab91976e99620b0701fffe}{cachedColor},
3431                     p->\hyperlink{structRunningSearch_a407eed15ba7e4e73db19b37bda4cf4c1}{cachedNoDialogs} );
3432 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a13301541ff7a60a1511813d75a46a730}{\index{Okular\+::\+Document@{Okular\+::\+Document}!continue\+Search@{continue\+Search}}
\index{continue\+Search@{continue\+Search}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{continue\+Search}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::continue\+Search (
\begin{DoxyParamCaption}
\item[{int}]{search\+I\+D, }
\item[{{\bf Search\+Type}}]{type}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a13301541ff7a60a1511813d75a46a730}
Continues the search for the given {\ttfamily search\+I\+D}, optionally specifying a new direction for the search.

\begin{DoxySince}{Since}
0.\+7 (K\+D\+E 4.\+1) 
\end{DoxySince}


Definition at line 3434 of file document.\+cpp.


\begin{DoxyCode}
3435 \{
3436     \textcolor{comment}{// check if searchID is present in runningSearches}
3437     \hyperlink{classQMap}{QMap< int, RunningSearch * >::const\_iterator} it = d->
      \hyperlink{classOkular_1_1DocumentPrivate_a42420dd45075092b921a829b8e9f2214}{m\_searches}.constFind( searchID );
3438     \textcolor{keywordflow}{if} ( it == d->\hyperlink{classOkular_1_1DocumentPrivate_a42420dd45075092b921a829b8e9f2214}{m\_searches}.constEnd() )
3439     \{
3440         emit \hyperlink{classOkular_1_1Document_ae938c994d20bdfef40caa3d37d28d92d}{searchFinished}( searchID, \hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbba6f1e44c2a23dde543d40770f949a2882}{NoMatchFound} );
3441         \textcolor{keywordflow}{return};
3442     \}
3443 
3444     \textcolor{comment}{// start search with cached parameters from last search by searchID}
3445     \hyperlink{structRunningSearch}{RunningSearch} * p = *it;
3446     \textcolor{keywordflow}{if} ( !p->\hyperlink{structRunningSearch_a2683a901cf457f541ca4662294e02cec}{isCurrentlySearching} )
3447         \hyperlink{classOkular_1_1Document_a9da5fe32531f4ab8b515ed553092421f}{searchText}( searchID, p->\hyperlink{structRunningSearch_aeed5bd658d162c7650b2e4cb315df054}{cachedString}, \textcolor{keyword}{false}, p->
      \hyperlink{structRunningSearch_a18e388eb59284584e8bd1f514ef7eaf5}{cachedCaseSensitivity},
3448                     type, p->\hyperlink{structRunningSearch_a82fb2c89035371061b259d4f1b62ff35}{cachedViewportMove}, p->
      \hyperlink{structRunningSearch_ab49ca5b36bab91976e99620b0701fffe}{cachedColor},
3449                     p->\hyperlink{structRunningSearch_a407eed15ba7e4e73db19b37bda4cf4c1}{cachedNoDialogs} );
3450 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_acb6f05a191623dafbdf5d4788dd98fed}{\index{Okular\+::\+Document@{Okular\+::\+Document}!current\+Document@{current\+Document}}
\index{current\+Document@{current\+Document}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{current\+Document}]{\setlength{\rightskip}{0pt plus 5cm}K\+Url Document\+::current\+Document (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_acb6f05a191623dafbdf5d4788dd98fed}
Returns the url of the currently opened document. 

Definition at line 2708 of file document.\+cpp.


\begin{DoxyCode}
2709 \{
2710     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a1a0145bbb16d15c016000a83d0d2ab2b}{m\_url};
2711 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a42ec374d73794bf56d7e7b11f1f56319}{\index{Okular\+::\+Document@{Okular\+::\+Document}!current\+Page@{current\+Page}}
\index{current\+Page@{current\+Page}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{current\+Page}]{\setlength{\rightskip}{0pt plus 5cm}uint Document\+::current\+Page (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a42ec374d73794bf56d7e7b11f1f56319}
Returns the number of the current page. 

Definition at line 2698 of file document.\+cpp.


\begin{DoxyCode}
2699 \{
2700     \textcolor{keywordflow}{return} (*d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator}).pageNumber;
2701 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a9c0b854496aa923bd575593a299af7e4}{\index{Okular\+::\+Document@{Okular\+::\+Document}!document\+Info@{document\+Info}}
\index{document\+Info@{document\+Info}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{document\+Info}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Document\+Info} $\ast$ Document\+::document\+Info (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a9c0b854496aa923bd575593a299af7e4}
Returns the meta data of the document or 0 if no meta data are available. 

Definition at line 2580 of file document.\+cpp.


\begin{DoxyCode}
2581 \{
2582     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a4452394f3abc747fa0b4910c33806371}{m\_documentInfo} )
2583         \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a4452394f3abc747fa0b4910c33806371}{m\_documentInfo};
2584 
2585     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
2586     \{
2587         \hyperlink{classOkular_1_1DocumentInfo}{DocumentInfo} *info = \textcolor{keyword}{new} \hyperlink{classOkular_1_1DocumentInfo}{DocumentInfo}();
2588         \textcolor{keyword}{const} \hyperlink{classOkular_1_1DocumentInfo}{DocumentInfo} *tmp = d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->
      \hyperlink{classOkular_1_1Generator_a9993dd0a2415499e23d8394e7a447e98}{generateDocumentInfo}();
2589         \textcolor{keywordflow}{if} ( tmp )
2590             *info = *tmp;
2591 
2592         info->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \hyperlink{classOkular_1_1DocumentInfo_a3a6e5f7fb246e29bcb2e830b6f770791a7b8cead9bd84a1c0397d9f56daf0925f}{DocumentInfo::FilePath}, 
      \hyperlink{classOkular_1_1Document_acb6f05a191623dafbdf5d4788dd98fed}{currentDocument}().prettyUrl() );
2593         \textcolor{keyword}{const} QString pagesSize = d->\hyperlink{classOkular_1_1DocumentPrivate_af0885d765ba194642c64d56de66fc96c}{pagesSizeString}();
2594         \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_afe0b6665f1386848faf6e6763e7f6cf4}{m\_docSize} != -1 )
2595         \{
2596             \textcolor{keyword}{const} QString sizeString = KGlobal::locale()->formatByteSize( d->
      \hyperlink{classOkular_1_1DocumentPrivate_afe0b6665f1386848faf6e6763e7f6cf4}{m\_docSize} );
2597             info->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \hyperlink{classOkular_1_1DocumentInfo_a3a6e5f7fb246e29bcb2e830b6f770791ac687d1236964fde6c969f511281feaf1}{DocumentInfo::DocumentSize}, sizeString );
2598         \}
2599         \textcolor{keywordflow}{if} (!pagesSize.isEmpty())
2600         \{
2601             info->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \hyperlink{classOkular_1_1DocumentInfo_a3a6e5f7fb246e29bcb2e830b6f770791a81f3995418922c0bc020a9a578a3699e}{DocumentInfo::PagesSize}, pagesSize );
2602         \}
2603 
2604         \textcolor{keyword}{const} \hyperlink{classOkular_1_1DocumentInfo_a3a6e5f7fb246e29bcb2e830b6f770791}{DocumentInfo::Key} keyPages = \hyperlink{classOkular_1_1DocumentInfo_a3a6e5f7fb246e29bcb2e830b6f770791ac4706afb6f17aac2a6da24699cbd7360}{DocumentInfo::Pages};
2605         \textcolor{keyword}{const} QString keyString = \hyperlink{classOkular_1_1DocumentInfo_a70cb5aa15e85e1690c7793ee9f4832b2}{DocumentInfo::getKeyString}( keyPages );
2606 
2607         \textcolor{keywordflow}{if} ( info->\hyperlink{classOkular_1_1DocumentInfo_a568ea22f19b034255be4c19f55ab1d82}{get}( keyString ).isEmpty() ) \{
2608             info->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( keyString, QString::number( this->\hyperlink{classOkular_1_1Document_aaf5d986758e25127946986abaa401bcd}{pages}() ),
2609                        \hyperlink{classOkular_1_1DocumentInfo_a488083cfce0989e5ec7bc5a1af55a111}{DocumentInfo::getKeyTitle}( keyPages ) );
2610         \}
2611 
2612         d->\hyperlink{classOkular_1_1DocumentPrivate_a4452394f3abc747fa0b4910c33806371}{m\_documentInfo} = info;
2613         \textcolor{keywordflow}{return} info;
2614     \}
2615     \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} NULL;
2616 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_aa9dad88fffd255f0a1112228f58512f2}{\index{Okular\+::\+Document@{Okular\+::\+Document}!document\+Synopsis@{document\+Synopsis}}
\index{document\+Synopsis@{document\+Synopsis}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{document\+Synopsis}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Document\+Synopsis} $\ast$ Document\+::document\+Synopsis (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_aa9dad88fffd255f0a1112228f58512f2}
Returns the table of content of the document or 0 if no table of content is available. 

Definition at line 2618 of file document.\+cpp.


\begin{DoxyCode}
2619 \{
2620     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} ? d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->
      \hyperlink{classOkular_1_1Generator_a1f8b31c19d7a5101cadf3fe3186ab0f1}{generateDocumentSynopsis}() : NULL;
2621 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_ab8a36b616b699744cc58e4f3ab03ed25}{\index{Okular\+::\+Document@{Okular\+::\+Document}!dynamic\+Source\+Reference@{dynamic\+Source\+Reference}}
\index{dynamic\+Source\+Reference@{dynamic\+Source\+Reference}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{dynamic\+Source\+Reference}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Source\+Reference} $\ast$ Document\+::dynamic\+Source\+Reference (
\begin{DoxyParamCaption}
\item[{int}]{page\+Nr, }
\item[{double}]{abs\+X, }
\item[{double}]{abs\+Y}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_ab8a36b616b699744cc58e4f3ab03ed25}
Asks the generator to dynamically generate a \hyperlink{classOkular_1_1SourceReference}{Source\+Reference} for a given page number and absolute X and Y position on this page.

\begin{DoxyAttention}{Attention}
Ownership of the returned \hyperlink{classOkular_1_1SourceReference}{Source\+Reference} is transferred to the caller. 
\end{DoxyAttention}
\begin{DoxyNote}{Note}
This method does not call \hyperlink{classOkular_1_1Document_a211b3b966271e561257def97439732a5}{process\+Source\+Reference( const Source\+Reference $\ast$ )}
\end{DoxyNote}
\begin{DoxySince}{Since}
0.\+10 (K\+D\+E 4.\+4) 
\end{DoxySince}


Definition at line 3873 of file document.\+cpp.


\begin{DoxyCode}
3874 \{
3875     \textcolor{keyword}{const} \hyperlink{classOkular_1_1SourceReference}{SourceReference} * ref = 0;
3876     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
3877     \{
3878         QMetaObject::invokeMethod( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}, \textcolor{stringliteral}{"dynamicSourceReference"}, 
      Qt::DirectConnection, Q\_RETURN\_ARG(\textcolor{keyword}{const} \hyperlink{classOkular_1_1SourceReference}{Okular::SourceReference}*, ref), Q\_ARG(\textcolor{keywordtype}{int}, pageNr), Q\_ARG(\textcolor{keywordtype}{
      double}, absX), Q\_ARG(\textcolor{keywordtype}{double}, absY) );
3879     \}
3880     \textcolor{keywordflow}{return} ref;
3881 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_aa578ae4d0b957bfbc867b14372f287fd}{\index{Okular\+::\+Document@{Okular\+::\+Document}!edit\+Form\+Buttons@{edit\+Form\+Buttons}}
\index{edit\+Form\+Buttons@{edit\+Form\+Buttons}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{edit\+Form\+Buttons}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::edit\+Form\+Buttons (
\begin{DoxyParamCaption}
\item[{int}]{page\+Number, }
\item[{const {\bf Q\+List}$<$ {\bf Okular\+::\+Form\+Field\+Button} $\ast$ $>$ \&}]{form\+Buttons, }
\item[{const {\bf Q\+List}$<$ bool $>$ \&}]{new\+Button\+States}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [slot]}}}\label{classOkular_1_1Document_aa578ae4d0b957bfbc867b14372f287fd}
Set the states of the group of form buttons {\ttfamily form\+Buttons} on page {\ttfamily page} to {\ttfamily new\+Button\+States}. The lists {\ttfamily form\+Buttons} and {\ttfamily new\+Button\+States} should be the same length and true values in {\ttfamily new\+Button\+States} indicate that the corresponding entry in {\ttfamily form\+Buttons} should be enabled. 

Definition at line 3538 of file document.\+cpp.


\begin{DoxyCode}
3539 \{
3540     QUndoCommand *uc = \textcolor{keyword}{new} \hyperlink{classOkular_1_1EditFormButtonsCommand}{EditFormButtonsCommand}( this->d, pageNumber, formButtons, 
      newButtonStates );
3541     d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack}->push( uc );
3542 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_af510014e1ae816d8e602c3b4abb754d5}{\index{Okular\+::\+Document@{Okular\+::\+Document}!edit\+Form\+Combo@{edit\+Form\+Combo}}
\index{edit\+Form\+Combo@{edit\+Form\+Combo}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{edit\+Form\+Combo}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::edit\+Form\+Combo (
\begin{DoxyParamCaption}
\item[{int}]{page\+Number, }
\item[{{\bf Okular\+::\+Form\+Field\+Choice} $\ast$}]{form, }
\item[{const Q\+String \&}]{new\+Text, }
\item[{int}]{new\+Cursor\+Pos, }
\item[{int}]{prev\+Cursor\+Pos, }
\item[{int}]{prev\+Anchor\+Pos}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [slot]}}}\label{classOkular_1_1Document_af510014e1ae816d8e602c3b4abb754d5}
Set the active choice in the combo box {\ttfamily form} on page {\ttfamily page} to {\ttfamily new\+Text} The new cursor position ({\ttfamily new\+Cursor\+Pos}), previous cursor position ({\ttfamily prev\+Cursor\+Pos}), and previous anchor position ({\ttfamily prev\+Anchor\+Pos}) will be restored by the undo / redo commands.

\begin{DoxySince}{Since}
0.\+17 (K\+D\+E 4.\+11) 
\end{DoxySince}


Definition at line 3516 of file document.\+cpp.


\begin{DoxyCode}
3522 \{
3523 
3524     QString prevText;
3525     \textcolor{keywordflow}{if} ( form->\hyperlink{classOkular_1_1FormFieldChoice_a7715f0a6629d8d874c22f436a62165ed}{currentChoices}().isEmpty() )
3526     \{
3527         prevText = form->\hyperlink{classOkular_1_1FormFieldChoice_a63c046d413e912c3b2873bfb25ab83f9}{editChoice}();
3528     \}
3529     \textcolor{keywordflow}{else}
3530     \{
3531         prevText = form->\hyperlink{classOkular_1_1FormFieldChoice_aeb4047c2c4b3b1c06b06e615c073f923}{choices}()[form->\hyperlink{classOkular_1_1FormFieldChoice_a7715f0a6629d8d874c22f436a62165ed}{currentChoices}()[0]];
3532     \}
3533 
3534     QUndoCommand *uc = \textcolor{keyword}{new} \hyperlink{classOkular_1_1EditFormComboCommand}{EditFormComboCommand}( this->d, form, pageNumber, newText, 
      newCursorPos, prevText, prevCursorPos, prevAnchorPos );
3535     d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack}->push( uc );
3536 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a4238ade3326c1ab2d8f4ae1a33947e2c}{\index{Okular\+::\+Document@{Okular\+::\+Document}!edit\+Form\+List@{edit\+Form\+List}}
\index{edit\+Form\+List@{edit\+Form\+List}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{edit\+Form\+List}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::edit\+Form\+List (
\begin{DoxyParamCaption}
\item[{int}]{page\+Number, }
\item[{{\bf Okular\+::\+Form\+Field\+Choice} $\ast$}]{form, }
\item[{const {\bf Q\+List}$<$ int $>$ \&}]{new\+Choices}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [slot]}}}\label{classOkular_1_1Document_a4238ade3326c1ab2d8f4ae1a33947e2c}
Edit the selected list entries in {\ttfamily form} on page {\ttfamily page} to be {\ttfamily new\+Choices}. \begin{DoxySince}{Since}
0.\+17 (K\+D\+E 4.\+11) 
\end{DoxySince}


Definition at line 3507 of file document.\+cpp.


\begin{DoxyCode}
3510 \{
3511     \textcolor{keyword}{const} \hyperlink{classQList}{QList< int >} prevChoices = form->\hyperlink{classOkular_1_1FormFieldChoice_a7715f0a6629d8d874c22f436a62165ed}{currentChoices}();
3512     QUndoCommand *uc = \textcolor{keyword}{new} \hyperlink{classOkular_1_1EditFormListCommand}{EditFormListCommand}( this->d, form, pageNumber, newChoices, 
      prevChoices );
3513     d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack}->push( uc );
3514 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a2ee7954b954aece4dd25faebc24b37e9}{\index{Okular\+::\+Document@{Okular\+::\+Document}!edit\+Form\+Text@{edit\+Form\+Text}}
\index{edit\+Form\+Text@{edit\+Form\+Text}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{edit\+Form\+Text}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::edit\+Form\+Text (
\begin{DoxyParamCaption}
\item[{int}]{page\+Number, }
\item[{{\bf Okular\+::\+Form\+Field\+Text} $\ast$}]{form, }
\item[{const Q\+String \&}]{new\+Contents, }
\item[{int}]{new\+Cursor\+Pos, }
\item[{int}]{prev\+Cursor\+Pos, }
\item[{int}]{prev\+Anchor\+Pos}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [slot]}}}\label{classOkular_1_1Document_a2ee7954b954aece4dd25faebc24b37e9}
Edit the text contents of the specified {\ttfamily form} on page {\ttfamily page} to be {\ttfamily new\+Contents}. The new text cursor position ({\ttfamily new\+Cursor\+Pos}), previous text cursor position ({\ttfamily prev\+Cursor\+Pos}), and previous cursor anchor position will be restored by the undo / redo commands. \begin{DoxySince}{Since}
0.\+17 (K\+D\+E 4.\+11) 
\end{DoxySince}


Definition at line 3496 of file document.\+cpp.


\begin{DoxyCode}
3502 \{
3503     QUndoCommand *uc = \textcolor{keyword}{new} \hyperlink{classOkular_1_1EditFormTextCommand}{EditFormTextCommand}( this->d, form, pageNumber, newContents, 
      newCursorPos, form->\hyperlink{classOkular_1_1FormFieldText_ae81ae855ec36f258bc690a4960c93eb3}{text}(), prevCursorPos, prevAnchorPos );
3504     d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack}->push( uc );
3505 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_ae179a44288462ef286a7f7e38be8a60c}{\index{Okular\+::\+Document@{Okular\+::\+Document}!edit\+Page\+Annotation\+Contents@{edit\+Page\+Annotation\+Contents}}
\index{edit\+Page\+Annotation\+Contents@{edit\+Page\+Annotation\+Contents}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{edit\+Page\+Annotation\+Contents}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::edit\+Page\+Annotation\+Contents (
\begin{DoxyParamCaption}
\item[{int}]{page, }
\item[{{\bf Annotation} $\ast$}]{annotation, }
\item[{const Q\+String \&}]{new\+Contents, }
\item[{int}]{new\+Cursor\+Pos, }
\item[{int}]{prev\+Cursor\+Pos, }
\item[{int}]{prev\+Anchor\+Pos}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_ae179a44288462ef286a7f7e38be8a60c}
Edits the plain text contents of the given {\ttfamily annotation} on the given {\ttfamily page}.

The contents are set to {\ttfamily new\+Contents} with cursor position {\ttfamily new\+Cursor\+Pos}. The previous cursor position {\ttfamily prev\+Cursor\+Pos} and previous anchor position {\ttfamily prev\+Anchor\+Pos} must also be supplied so that they can be restored if the edit action is undone.

The \hyperlink{classOkular_1_1Annotation}{Annotation}'s internal contents should not be modified prior to calling this method.

\begin{DoxySince}{Since}
0.\+17 (K\+D\+E 4.\+11) 
\end{DoxySince}


Definition at line 3041 of file document.\+cpp.


\begin{DoxyCode}
3047 \{
3048     QString prevContents = annotation->\hyperlink{classOkular_1_1Annotation_a3b0c9fcbe9d01e06bfcc7216d0035908}{contents}();
3049     QUndoCommand *uc = \textcolor{keyword}{new} \hyperlink{classOkular_1_1EditAnnotationContentsCommand}{EditAnnotationContentsCommand}( d, annotation, 
      \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page}, newContents, newCursorPos,
3050                                                             prevContents, prevCursorPos, prevAnchorPos );
3051     d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack}->push( uc );
3052 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a0d0f25adc4dab338160d951a2fafd2d3}{\index{Okular\+::\+Document@{Okular\+::\+Document}!embedded\+Files@{embedded\+Files}}
\index{embedded\+Files@{embedded\+Files}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{embedded\+Files}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Q\+List}$<$ {\bf Embedded\+File} $\ast$ $>$ $\ast$ Document\+::embedded\+Files (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a0d0f25adc4dab338160d951a2fafd2d3}
Returns the list of embedded files or 0 if no embedded files are available. 

Definition at line 2665 of file document.\+cpp.


\begin{DoxyCode}
2666 \{
2667     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} ? d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_a1573d9a398806b5b36e7b4b4b175c726}{embeddedFiles}() : NULL;
2668 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a0f6dbe3d679e96b2b91f9b467d12d251}{\index{Okular\+::\+Document@{Okular\+::\+Document}!error@{error}}
\index{error@{error}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{error}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::error (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{text, }
\item[{int}]{duration}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_a0f6dbe3d679e96b2b91f9b467d12d251}
This signal is emitted whenever an error occurred.


\begin{DoxyParams}{Parameters}
{\em text} & The description of the error. \\
\hline
{\em duration} & The time in seconds the message should be shown to the user. \\
\hline
\end{DoxyParams}
\hypertarget{classOkular_1_1Document_acd6e2014d6198fa7411ae02a138eccb7}{\index{Okular\+::\+Document@{Okular\+::\+Document}!export\+Formats@{export\+Formats}}
\index{export\+Formats@{export\+Formats}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{export\+Formats}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Export\+Format\+::\+List} Document\+::export\+Formats (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_acd6e2014d6198fa7411ae02a138eccb7}
Returns the list of supported export formats. \begin{DoxySeeAlso}{See Also}
\hyperlink{classOkular_1_1ExportFormat}{Export\+Format} 
\end{DoxySeeAlso}


Definition at line 2773 of file document.\+cpp.


\begin{DoxyCode}
2774 \{
2775     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
2776         \textcolor{keywordflow}{return} \hyperlink{classOkular_1_1ExportFormat_a987d72c1a1456b8a983a37603a8fa78d}{ExportFormat::List}();
2777 
2778     d->\hyperlink{classOkular_1_1DocumentPrivate_a0319ccf7bd247df318608af697c244b3}{cacheExportFormats}();
2779     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a674e49f7a287a70630bc5550b1a44169}{m\_exportFormats};
2780 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a1f77c325fb8d44dcac9e8bbdda442653}{\index{Okular\+::\+Document@{Okular\+::\+Document}!export\+To@{export\+To}}
\index{export\+To@{export\+To}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{export\+To}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::export\+To (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{file\+Name, }
\item[{const {\bf Export\+Format} \&}]{format}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a1f77c325fb8d44dcac9e8bbdda442653}
Exports the document in the given {\ttfamily format} and saves it under {\ttfamily file\+Name}. 

Definition at line 2782 of file document.\+cpp.


\begin{DoxyCode}
2783 \{
2784     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} ? d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_a9e78f37aafbfdaf04f76f4163c27aa5e}{exportTo}( fileName, format ) : \textcolor{keyword}{
      false};
2785 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a7f78a55a2c779daa2cb77af7c11b1c37}{\index{Okular\+::\+Document@{Okular\+::\+Document}!export\+To\+Text@{export\+To\+Text}}
\index{export\+To\+Text@{export\+To\+Text}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{export\+To\+Text}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::export\+To\+Text (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{file\+Name}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a7f78a55a2c779daa2cb77af7c11b1c37}
Exports the document as A\+S\+C\+I\+I text and saves it under {\ttfamily file\+Name}. 

Definition at line 2761 of file document.\+cpp.


\begin{DoxyCode}
2762 \{
2763     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
2764         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2765 
2766     d->\hyperlink{classOkular_1_1DocumentPrivate_a0319ccf7bd247df318608af697c244b3}{cacheExportFormats}();
2767     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a6c71a54787a3a6d6c16f79e2eb77ebbd}{m\_exportToText}.\hyperlink{classOkular_1_1ExportFormat_a963d2b4cf54835cba6febc4956ad99d9}{isNull}() )
2768         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2769 
2770     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_a9e78f37aafbfdaf04f76f4163c27aa5e}{exportTo}( fileName, d->
      \hyperlink{classOkular_1_1DocumentPrivate_a6c71a54787a3a6d6c16f79e2eb77ebbd}{m\_exportToText} );
2771 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a38ad86fc7b26c7d46db2b2be5893e615}{\index{Okular\+::\+Document@{Okular\+::\+Document}!fill\+Config\+Dialog@{fill\+Config\+Dialog}}
\index{fill\+Config\+Dialog@{fill\+Config\+Dialog}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{fill\+Config\+Dialog}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::fill\+Config\+Dialog (
\begin{DoxyParamCaption}
\item[{K\+Config\+Dialog $\ast$}]{dialog}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a38ad86fc7b26c7d46db2b2be5893e615}
Fill the K\+Config\+Dialog {\ttfamily dialog} with the setting pages of the generators. 

Definition at line 3965 of file document.\+cpp.


\begin{DoxyCode}
3966 \{
3967     \textcolor{keywordflow}{if} ( !dialog )
3968         \textcolor{keywordflow}{return};
3969 
3970     \textcolor{comment}{// ensure that we have all the generators with settings loaded}
3971     QString constraint( \textcolor{stringliteral}{"([X-KDE-Priority] > 0) and (exist Library) and ([X-KDE-okularHasInternalSettings])
      "} );
3972     KService::List offers = KServiceTypeTrader::self()->query( \textcolor{stringliteral}{"okular/Generator"}, constraint );
3973     d->\hyperlink{classOkular_1_1DocumentPrivate_aff87ea26b538d2653644a394c3909271}{loadServiceList}( offers );
3974 
3975     \textcolor{keywordtype}{bool} pagesAdded = \textcolor{keyword}{false};
3976     QHash< QString, GeneratorInfo >::iterator it = d->\hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.begin();
3977     QHash< QString, GeneratorInfo >::iterator itEnd = d->\hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.end();
3978     \textcolor{keywordflow}{for} ( ; it != itEnd; ++it )
3979     \{
3980         \hyperlink{classOkular_1_1ConfigInterface}{Okular::ConfigInterface} * iface = d->
      \hyperlink{classOkular_1_1DocumentPrivate_ac40c31099a6fd5d842ae94e5557b9700}{generatorConfig}( it.value() );
3981         \textcolor{keywordflow}{if} ( iface )
3982         \{
3983             iface->\hyperlink{classOkular_1_1ConfigInterface_a75030ba3abbbd134e388c05154695610}{addPages}( dialog );
3984             pagesAdded = \textcolor{keyword}{true};
3985             \textcolor{keywordflow}{if} ( !it.value().catalogName.isEmpty() )
3986                 KGlobal::locale()->insertCatalog( it.value().catalogName );
3987         \}
3988     \}
3989     \textcolor{keywordflow}{if} ( pagesAdded )
3990     \{
3991         connect( dialog, SIGNAL(settingsChanged(QString)),
3992                  \textcolor{keyword}{this}, SLOT(slotGeneratorConfigChanged(QString)) );
3993     \}
3994 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a88f3b8dadee061c537ff9eb28d1c3257}{\index{Okular\+::\+Document@{Okular\+::\+Document}!font\+Data@{font\+Data}}
\index{font\+Data@{font\+Data}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{font\+Data}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Byte\+Array Document\+::font\+Data (
\begin{DoxyParamCaption}
\item[{const {\bf Font\+Info} \&}]{font}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a88f3b8dadee061c537ff9eb28d1c3257}
Gets the font data for the given font

\begin{DoxySince}{Since}
0.\+8 (K\+D\+E 4.\+2) 
\end{DoxySince}


Definition at line 4125 of file document.\+cpp.


\begin{DoxyCode}
4126 \{
4127     QByteArray result;
4128 
4129     \textcolor{keywordflow}{if} (d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator})
4130     \{
4131         QMetaObject::invokeMethod(d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}, \textcolor{stringliteral}{"requestFontData"}, Qt::DirectConnection, Q\_ARG
      (\hyperlink{classOkular_1_1FontInfo}{Okular::FontInfo}, font), Q\_ARG(QByteArray *, &result));
4132     \}
4133 
4134     \textcolor{keywordflow}{return} result;
4135 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a098247701022e6c967299abd01ce3265}{\index{Okular\+::\+Document@{Okular\+::\+Document}!font\+Reading\+Ended@{font\+Reading\+Ended}}
\index{font\+Reading\+Ended@{font\+Reading\+Ended}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{font\+Reading\+Ended}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::font\+Reading\+Ended (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_a098247701022e6c967299abd01ce3265}
Reports that the reading of the fonts in the document is finished. \hypertarget{classOkular_1_1Document_aa264e97a1d3dd36aab35fd3a09511b5b}{\index{Okular\+::\+Document@{Okular\+::\+Document}!font\+Reading\+Progress@{font\+Reading\+Progress}}
\index{font\+Reading\+Progress@{font\+Reading\+Progress}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{font\+Reading\+Progress}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::font\+Reading\+Progress (
\begin{DoxyParamCaption}
\item[{int}]{page}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_aa264e97a1d3dd36aab35fd3a09511b5b}
Reports the progress when reading the fonts in the document.


\begin{DoxyParams}{Parameters}
{\em page} & is the page that was just finished to scan for fonts \\
\hline
\end{DoxyParams}
\hypertarget{classOkular_1_1Document_adbfa4da2eb8267d4bde6a9c6784e033b}{\index{Okular\+::\+Document@{Okular\+::\+Document}!form\+Buttons\+Changed\+By\+Undo\+Redo@{form\+Buttons\+Changed\+By\+Undo\+Redo}}
\index{form\+Buttons\+Changed\+By\+Undo\+Redo@{form\+Buttons\+Changed\+By\+Undo\+Redo}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{form\+Buttons\+Changed\+By\+Undo\+Redo}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::form\+Buttons\+Changed\+By\+Undo\+Redo (
\begin{DoxyParamCaption}
\item[{int}]{page, }
\item[{const {\bf Q\+List}$<$ {\bf Okular\+::\+Form\+Field\+Button} $\ast$ $>$ \&}]{form\+Buttons}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_adbfa4da2eb8267d4bde6a9c6784e033b}
This signal is emmitted whenever the state of the specified group of form buttons ({\ttfamily form\+Buttons}) on the given {\ttfamily page} is changed by an undo or redo action. \begin{DoxySince}{Since}
0.\+17 (K\+D\+E 4.\+11) 
\end{DoxySince}
\hypertarget{classOkular_1_1Document_ada246b3ac5212e3911dc339b75da13da}{\index{Okular\+::\+Document@{Okular\+::\+Document}!form\+Combo\+Changed\+By\+Undo\+Redo@{form\+Combo\+Changed\+By\+Undo\+Redo}}
\index{form\+Combo\+Changed\+By\+Undo\+Redo@{form\+Combo\+Changed\+By\+Undo\+Redo}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{form\+Combo\+Changed\+By\+Undo\+Redo}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::form\+Combo\+Changed\+By\+Undo\+Redo (
\begin{DoxyParamCaption}
\item[{int}]{page, }
\item[{{\bf Okular\+::\+Form\+Field\+Choice} $\ast$}]{form, }
\item[{const Q\+String \&}]{text, }
\item[{int}]{cursor\+Pos, }
\item[{int}]{anchor\+Pos}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_ada246b3ac5212e3911dc339b75da13da}
This signal is emmitted whenever the active {\ttfamily text} for the given combo {\ttfamily form} on the given {\ttfamily page} is changed by an undo or redo action. \begin{DoxySince}{Since}
0.\+17 (K\+D\+E 4.\+11) 
\end{DoxySince}
\hypertarget{classOkular_1_1Document_aff101795b7dee001d4e8677ded3236be}{\index{Okular\+::\+Document@{Okular\+::\+Document}!form\+List\+Changed\+By\+Undo\+Redo@{form\+List\+Changed\+By\+Undo\+Redo}}
\index{form\+List\+Changed\+By\+Undo\+Redo@{form\+List\+Changed\+By\+Undo\+Redo}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{form\+List\+Changed\+By\+Undo\+Redo}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::form\+List\+Changed\+By\+Undo\+Redo (
\begin{DoxyParamCaption}
\item[{int}]{page, }
\item[{{\bf Okular\+::\+Form\+Field\+Choice} $\ast$}]{form, }
\item[{const {\bf Q\+List}$<$ int $>$ \&}]{choices}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_aff101795b7dee001d4e8677ded3236be}
This signal is emmitted whenever the selected {\ttfamily choices} for the given list {\ttfamily form} on the given {\ttfamily page} are changed by an undo or redo action. \begin{DoxySince}{Since}
0.\+17 (K\+D\+E 4.\+11) 
\end{DoxySince}
\hypertarget{classOkular_1_1Document_af534e0e010225b2a57319845442888bb}{\index{Okular\+::\+Document@{Okular\+::\+Document}!form\+Text\+Changed\+By\+Undo\+Redo@{form\+Text\+Changed\+By\+Undo\+Redo}}
\index{form\+Text\+Changed\+By\+Undo\+Redo@{form\+Text\+Changed\+By\+Undo\+Redo}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{form\+Text\+Changed\+By\+Undo\+Redo}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::form\+Text\+Changed\+By\+Undo\+Redo (
\begin{DoxyParamCaption}
\item[{int}]{page, }
\item[{{\bf Okular\+::\+Form\+Field\+Text} $\ast$}]{form, }
\item[{const Q\+String \&}]{contents, }
\item[{int}]{cursor\+Pos, }
\item[{int}]{anchor\+Pos}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_af534e0e010225b2a57319845442888bb}
This signal is emmitted whenever the text contents of the given text {\ttfamily form} on the given {\ttfamily page} are changed by an undo or redo action.

The new text contents ({\ttfamily contents}), cursor position ({\ttfamily cursor\+Pos}), and anchor position ({\ttfamily anchor\+Pos}) are included \begin{DoxySince}{Since}
0.\+17 (K\+D\+E 4.\+11) 
\end{DoxySince}
\hypertarget{classOkular_1_1Document_a66902f0fbc6c9068568f8a1eb923583d}{\index{Okular\+::\+Document@{Okular\+::\+Document}!got\+Font@{got\+Font}}
\index{got\+Font@{got\+Font}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{got\+Font}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::got\+Font (
\begin{DoxyParamCaption}
\item[{const {\bf Okular\+::\+Font\+Info} \&}]{font}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_a66902f0fbc6c9068568f8a1eb923583d}
Emitted when a new font is found during the reading of the fonts of the document. \hypertarget{classOkular_1_1Document_a414f0d44e1bb2b44fd31e68c0bc79dfe}{\index{Okular\+::\+Document@{Okular\+::\+Document}!gui\+Client@{gui\+Client}}
\index{gui\+Client@{gui\+Client}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{gui\+Client}]{\setlength{\rightskip}{0pt plus 5cm}K\+X\+M\+L\+G\+U\+I\+Client $\ast$ Document\+::gui\+Client (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a414f0d44e1bb2b44fd31e68c0bc79dfe}
Returns the gui client of the generator, if it provides one. 

Definition at line 2334 of file document.\+cpp.


\begin{DoxyCode}
2335 \{
2336     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
2337     \{
2338         \hyperlink{classOkular_1_1GuiInterface}{Okular::GuiInterface} * iface = qobject\_cast< 
      \hyperlink{classOkular_1_1GuiInterface}{Okular::GuiInterface} * >( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} );
2339         \textcolor{keywordflow}{if} ( iface )
2340             \textcolor{keywordflow}{return} iface->\hyperlink{classOkular_1_1GuiInterface_a723b44e54af18ea90a612ee9a51667cc}{guiClient}();
2341     \}
2342     \textcolor{keywordflow}{return} 0;
2343 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a571e0df4ac4b081e4c81698d589163b0}{\index{Okular\+::\+Document@{Okular\+::\+Document}!history\+At\+Begin@{history\+At\+Begin}}
\index{history\+At\+Begin@{history\+At\+Begin}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{history\+At\+Begin}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::history\+At\+Begin (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a571e0df4ac4b081e4c81698d589163b0}
Returns whether the document history is at the begin. 

Definition at line 2787 of file document.\+cpp.


\begin{DoxyCode}
2788 \{
2789     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator} == d->\hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.begin();
2790 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a7360baadbd779d106c38d12a3e0c911e}{\index{Okular\+::\+Document@{Okular\+::\+Document}!history\+At\+End@{history\+At\+End}}
\index{history\+At\+End@{history\+At\+End}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{history\+At\+End}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::history\+At\+End (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a7360baadbd779d106c38d12a3e0c911e}
Returns whether the document history is at the end. 

Definition at line 2792 of file document.\+cpp.


\begin{DoxyCode}
2793 \{
2794     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator} == --(d->\hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.end());
2795 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a6dd7a475b14222c07d1c410311f35cdb}{\index{Okular\+::\+Document@{Okular\+::\+Document}!is\+Allowed@{is\+Allowed}}
\index{is\+Allowed@{is\+Allowed}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{is\+Allowed}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::is\+Allowed (
\begin{DoxyParamCaption}
\item[{{\bf Permission}}]{action}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a6dd7a475b14222c07d1c410311f35cdb}
Returns whether the given {\ttfamily action} is allowed in the document. \begin{DoxySeeAlso}{See Also}
\hyperlink{namespaceOkular_a3601f4e702453ddf1125476dd6e7577b}{Permission} 
\end{DoxySeeAlso}


Definition at line 2713 of file document.\+cpp.


\begin{DoxyCode}
2714 \{
2715     \textcolor{keywordflow}{if} ( action == \hyperlink{namespaceOkular_a3601f4e702453ddf1125476dd6e7577ba6c10962833bd58ea0f8d63e448eba8e9}{Okular::AllowNotes} && !d->
      \hyperlink{classOkular_1_1DocumentPrivate_a700587218254ae03f4ade5fee8ff487c}{m\_annotationEditingEnabled} )
2716         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2717 
2718 \textcolor{preprocessor}{#if !OKULAR\_FORCE\_DRM}
2719     \textcolor{keywordflow}{if} ( KAuthorized::authorize( \textcolor{stringliteral}{"skip\_drm"} ) && !\hyperlink{classOkular_1_1SettingsCore_a82fd038193ed2d82ac25e7c1918c09e6}{Okular::SettingsCore::obeyDRM}
      () )
2720         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
2721 \textcolor{preprocessor}{#endif}
2722 
2723     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} ? d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_a19c839d0ce232775f4fe51af85e822b1}{isAllowed}( action ) : \textcolor{keyword}{false};
2724 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a909ad69d556a6525e194a28c7fbf643a}{\index{Okular\+::\+Document@{Okular\+::\+Document}!is\+Opened@{is\+Opened}}
\index{is\+Opened@{is\+Opened}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{is\+Opened}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::is\+Opened (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a909ad69d556a6525e194a28c7fbf643a}
Returns whether the document is currently opened. 

Definition at line 2564 of file document.\+cpp.


\begin{DoxyCode}
2565 \{
2566     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator};
2567 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a191d6d17e084e1c10d8278963420ef6d}{\index{Okular\+::\+Document@{Okular\+::\+Document}!link\+End\+Presentation@{link\+End\+Presentation}}
\index{link\+End\+Presentation@{link\+End\+Presentation}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{link\+End\+Presentation}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::link\+End\+Presentation (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_a191d6d17e084e1c10d8278963420ef6d}
This signal is emitted whenever an action requests an end presentation operation. \hypertarget{classOkular_1_1Document_a5fc2584f750c347596ca9b8f8b94338c}{\index{Okular\+::\+Document@{Okular\+::\+Document}!link\+Find@{link\+Find}}
\index{link\+Find@{link\+Find}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{link\+Find}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::link\+Find (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_a5fc2584f750c347596ca9b8f8b94338c}
This signal is emitted whenever an action requests a find operation. \hypertarget{classOkular_1_1Document_a400ff9bcef27418b96a7dd3cdd0f5ec0}{\index{Okular\+::\+Document@{Okular\+::\+Document}!link\+Go\+To\+Page@{link\+Go\+To\+Page}}
\index{link\+Go\+To\+Page@{link\+Go\+To\+Page}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{link\+Go\+To\+Page}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::link\+Go\+To\+Page (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_a400ff9bcef27418b96a7dd3cdd0f5ec0}
This signal is emitted whenever an action requests a goto operation. \hypertarget{classOkular_1_1Document_a508d62333a719a476c280d7336550009}{\index{Okular\+::\+Document@{Okular\+::\+Document}!link\+Presentation@{link\+Presentation}}
\index{link\+Presentation@{link\+Presentation}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{link\+Presentation}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::link\+Presentation (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_a508d62333a719a476c280d7336550009}
This signal is emitted whenever an action requests a start presentation operation. \hypertarget{classOkular_1_1Document_a44c7c367dbe37fffeeb3d08171ff9ab6}{\index{Okular\+::\+Document@{Okular\+::\+Document}!meta\+Data@{meta\+Data}}
\index{meta\+Data@{meta\+Data}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{meta\+Data}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Variant Document\+::meta\+Data (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{key, }
\item[{const Q\+Variant \&}]{option = {\ttfamily QVariant()}}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a44c7c367dbe37fffeeb3d08171ff9ab6}
Returns the meta data for the given {\ttfamily key} and {\ttfamily option} or an empty variant if the key doesn't exists. 

Definition at line 2797 of file document.\+cpp.


\begin{DoxyCode}
2798 \{
2799     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} ? d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_a74f6b91e31ead5b572ffb9fb6b06c188}{metaData}( key, option ) : 
      QVariant();
2800 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a6124172e56443498f612a32bab2e1e94}{\index{Okular\+::\+Document@{Okular\+::\+Document}!modify\+Page\+Annotation\+Properties@{modify\+Page\+Annotation\+Properties}}
\index{modify\+Page\+Annotation\+Properties@{modify\+Page\+Annotation\+Properties}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{modify\+Page\+Annotation\+Properties}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::modify\+Page\+Annotation\+Properties (
\begin{DoxyParamCaption}
\item[{int}]{page, }
\item[{{\bf Annotation} $\ast$}]{annotation}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a6124172e56443498f612a32bab2e1e94}
Modifies the given {\ttfamily annotation} on the given {\ttfamily page}. Must be preceded by a call to prepare\+To\+Modify\+Annotation\+Properties before the annotation's properties are modified

\begin{DoxySince}{Since}
0.\+17 (K\+D\+E 4.\+11) 
\end{DoxySince}


Definition at line 3016 of file document.\+cpp.


\begin{DoxyCode}
3017 \{
3018     Q\_ASSERT(!d->\hyperlink{classOkular_1_1DocumentPrivate_a7f5fc408d6af006eaa4c2991ee263403}{m\_prevPropsOfAnnotBeingModified}.isNull());
3019     \textcolor{keywordflow}{if} (d->\hyperlink{classOkular_1_1DocumentPrivate_a7f5fc408d6af006eaa4c2991ee263403}{m\_prevPropsOfAnnotBeingModified}.isNull())
3020     \{
3021         kError(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}) << \textcolor{stringliteral}{"Error: Document::prepareToModifyAnnotationProperties must be
       called before Annotation is modified"};
3022         \textcolor{keywordflow}{return};
3023     \}
3024     QDomNode prevProps = d->\hyperlink{classOkular_1_1DocumentPrivate_a7f5fc408d6af006eaa4c2991ee263403}{m\_prevPropsOfAnnotBeingModified};
3025     QUndoCommand *uc = \textcolor{keyword}{new} \hyperlink{classOkular_1_1ModifyAnnotationPropertiesCommand}{Okular::ModifyAnnotationPropertiesCommand}
      ( d,
3026                                                                       annotation,
3027                                                                       \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page},
3028                                                                       prevProps,
3029                                                                       annotation->
      \hyperlink{classOkular_1_1Annotation_ad7c117b9cc13d8987d2bcff8e4ed25f7}{getAnnotationPropertiesDomNode}() );
3030     d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack}->push( uc );
3031     d->\hyperlink{classOkular_1_1DocumentPrivate_a7f5fc408d6af006eaa4c2991ee263403}{m\_prevPropsOfAnnotBeingModified}.clear();
3032 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a873400e880e01d6ccf99bfce18dd0e26}{\index{Okular\+::\+Document@{Okular\+::\+Document}!notice@{notice}}
\index{notice@{notice}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{notice}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::notice (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{text, }
\item[{int}]{duration}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_a873400e880e01d6ccf99bfce18dd0e26}
This signal is emitted to signal a notice.


\begin{DoxyParams}{Parameters}
{\em text} & The description of the notice. \\
\hline
{\em duration} & The time in seconds the message should be shown to the user. \\
\hline
\end{DoxyParams}
\hypertarget{classOkular_1_1Document_aaec42a1303846888ea6d3151d2be2c3e}{\index{Okular\+::\+Document@{Okular\+::\+Document}!open\+Document@{open\+Document}}
\index{open\+Document@{open\+Document}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{open\+Document}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::open\+Document (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{doc\+File, }
\item[{const K\+Url \&}]{url, }
\item[{const K\+Mime\+Type\+::\+Ptr \&}]{mime}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_aaec42a1303846888ea6d3151d2be2c3e}
Opens the document. 

Definition at line 2111 of file document.\+cpp.


\begin{DoxyCode}
2112 \{
2113     KMimeType::Ptr mime = \_mime;
2114     QByteArray filedata;
2115     qint64 document\_size = -1;
2116     \textcolor{keywordtype}{bool} isstdin = url.fileName( KUrl::ObeyTrailingSlash ) == QLatin1String( \textcolor{stringliteral}{"-"} );
2117     \textcolor{keywordtype}{bool} triedMimeFromFileContent = \textcolor{keyword}{false};
2118     \textcolor{keywordflow}{if} ( !isstdin )
2119     \{
2120         \textcolor{keywordflow}{if} ( mime.count() <= 0 )
2121             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2122 
2123         \textcolor{comment}{// docFile is always local so we can use QFileInfo on it}
2124         QFileInfo fileReadTest( docFile );
2125         \textcolor{keywordflow}{if} ( fileReadTest.isFile() && !fileReadTest.isReadable() )
2126         \{
2127             d->\hyperlink{classOkular_1_1DocumentPrivate_af56dcee87c3465c69da7cea920b95fbb}{m\_docFileName}.clear();
2128             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2129         \}
2130         \textcolor{comment}{// determine the related "xml document-info" filename}
2131         d->\hyperlink{classOkular_1_1DocumentPrivate_a1a0145bbb16d15c016000a83d0d2ab2b}{m\_url} = url;
2132         d->\hyperlink{classOkular_1_1DocumentPrivate_af56dcee87c3465c69da7cea920b95fbb}{m\_docFileName} = docFile;
2133         \textcolor{keywordflow}{if} ( url.isLocalFile() && !d->\hyperlink{classOkular_1_1DocumentPrivate_a135bb6fa2886b0eb86e9a1b72fd8d25b}{m\_archiveData} )
2134         \{
2135             QString fn = url.fileName();
2136             document\_size = fileReadTest.size();
2137             fn = QString::number( document\_size ) + \textcolor{charliteral}{'.'} + fn + \textcolor{stringliteral}{".xml"};
2138             QString newokular = \textcolor{stringliteral}{"okular/docdata/"} + fn;
2139             QString newokularfile = KStandardDirs::locateLocal( \textcolor{stringliteral}{"data"}, newokular );
2140             \textcolor{keywordflow}{if} ( !QFile::exists( newokularfile ) )
2141             \{
2142                 QString oldkpdf = \textcolor{stringliteral}{"kpdf/"} + fn;
2143                 QString oldkpdffile = KStandardDirs::locateLocal( \textcolor{stringliteral}{"data"}, oldkpdf );
2144                 \textcolor{keywordflow}{if} ( QFile::exists( oldkpdffile ) )
2145                 \{
2146                     \textcolor{comment}{// ### copy or move?}
2147                     \textcolor{keywordflow}{if} ( !QFile::copy( oldkpdffile, newokularfile ) )
2148                         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2149                 \}
2150             \}
2151             d->\hyperlink{classOkular_1_1DocumentPrivate_aae08e3c4d234247bf3d52608649e7c64}{m\_xmlFileName} = newokularfile;
2152         \}
2153     \}
2154     \textcolor{keywordflow}{else}
2155     \{
2156         QFile qstdin;
2157         qstdin.open( stdin, QIODevice::ReadOnly );
2158         filedata = qstdin.readAll();
2159         mime = KMimeType::findByContent( filedata );
2160         \textcolor{keywordflow}{if} ( !mime || mime->name() == QLatin1String( \textcolor{stringliteral}{"application/octet-stream"} ) )
2161             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2162         document\_size = filedata.size();
2163         triedMimeFromFileContent = \textcolor{keyword}{true};
2164     \}
2165 
2166     \textcolor{comment}{// 0. load Generator}
2167     \textcolor{comment}{// request only valid non-disabled plugins suitable for the mimetype}
2168     QString constraint(\textcolor{stringliteral}{"([X-KDE-Priority] > 0) and (exist Library)"}) ;
2169     KService::List offers = KMimeTypeTrader::self()->query(mime->name(),\textcolor{stringliteral}{"okular/Generator"},constraint);
2170     \textcolor{keywordflow}{if} ( offers.isEmpty() && !triedMimeFromFileContent )
2171     \{
2172         KMimeType::Ptr newmime = KMimeType::findByFileContent( docFile );
2173         triedMimeFromFileContent = \textcolor{keyword}{true};
2174         \textcolor{keywordflow}{if} ( newmime->name() != mime->name() )
2175         \{
2176             mime = newmime;
2177             offers = KMimeTypeTrader::self()->query( mime->name(), \textcolor{stringliteral}{"okular/Generator"}, constraint );
2178         \}
2179         \textcolor{keywordflow}{if} ( offers.isEmpty() )
2180         \{
2181             \textcolor{comment}{// There's still no offers, do a final mime search based on the filename}
2182             \textcolor{comment}{// We need this because sometimes (e.g. when downloading from a webserver) the mimetype we}
2183             \textcolor{comment}{// use is the one fed by the server, that may be wrong}
2184             newmime = KMimeType::findByUrl( docFile );
2185             \textcolor{keywordflow}{if} ( newmime->name() != mime->name() )
2186             \{
2187                 mime = newmime;
2188                 offers = KMimeTypeTrader::self()->query( mime->name(), \textcolor{stringliteral}{"okular/Generator"}, constraint );
2189             \}
2190         \}
2191     \}
2192     \textcolor{keywordflow}{if} (offers.isEmpty())
2193     \{
2194         emit \hyperlink{classOkular_1_1Document_a0f6dbe3d679e96b2b91f9b467d12d251}{error}( i18n( \textcolor{stringliteral}{"Can not find a plugin which is able to handle the document being passed."} )
      , -1 );
2195         kWarning(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}).nospace() << \textcolor{stringliteral}{"No plugin for mimetype '"} << mime->name() << \textcolor{stringliteral}{"'."};
2196         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2197     \}
2198     \textcolor{keywordtype}{int} hRank=0;
2199     \textcolor{comment}{// best ranked offer search}
2200     \textcolor{keywordtype}{int} offercount = offers.count();
2201     \textcolor{keywordflow}{if} ( offercount > 1 )
2202     \{
2203         \textcolor{comment}{// sort the offers: the offers with an higher priority come before}
2204         qStableSort( offers.begin(), offers.end(), \hyperlink{classkMimeTypeMoreThan}{kMimeTypeMoreThan}( mime ) );
2205 
2206         \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1SettingsCore_acceeadb86e54c1c6b6141ff06c3165f1}{SettingsCore::chooseGenerators}() )
2207         \{
2208             QStringList list;
2209             \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} i = 0; i < offercount; ++i )
2210             \{
2211                 list << offers.at(i)->name();
2212             \}
2213 
2214             \hyperlink{classChooseEngineDialog}{ChooseEngineDialog} choose( list, mime, \hyperlink{classOkular_1_1Document_aef26598eca4c2fe772cc77d7730a9e8b}{widget}() );
2215 
2216             \textcolor{keywordflow}{if} ( choose.exec() == QDialog::Rejected )
2217                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2218 
2219             hRank = choose.selectedGenerator();
2220         \}
2221     \}
2222 
2223     KService::Ptr offer = offers.at( hRank );
2224     \textcolor{comment}{// 1. load Document}
2225     \textcolor{keywordtype}{bool} openOk = d->\hyperlink{classOkular_1_1DocumentPrivate_a446649f974127476851f6a1d55e49d4d}{openDocumentInternal}( offer, isstdin, docFile, filedata );
2226     \textcolor{keywordflow}{if} ( !openOk && !triedMimeFromFileContent )
2227     \{
2228         KMimeType::Ptr newmime = KMimeType::findByFileContent( docFile );
2229         triedMimeFromFileContent = \textcolor{keyword}{true};
2230         \textcolor{keywordflow}{if} ( newmime->name() != mime->name() )
2231         \{
2232             mime = newmime;
2233             offers = KMimeTypeTrader::self()->query( mime->name(), \textcolor{stringliteral}{"okular/Generator"}, constraint );
2234             \textcolor{keywordflow}{if} ( !offers.isEmpty() )
2235             \{
2236                 offer = offers.first();
2237                 openOk = d->\hyperlink{classOkular_1_1DocumentPrivate_a446649f974127476851f6a1d55e49d4d}{openDocumentInternal}( offer, isstdin, docFile, filedata );
2238             \}
2239         \}
2240     \}
2241     \textcolor{keywordflow}{if} ( !openOk )
2242     \{
2243         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2244     \}
2245 
2246     d->\hyperlink{classOkular_1_1DocumentPrivate_a4f02c151d836f43f47a6eeb614b25bf0}{m\_generatorName} = offer->name();
2247     d->\hyperlink{classOkular_1_1DocumentPrivate_a0764e01a78ed52ece9229f50300522f1}{m\_pageController} = \textcolor{keyword}{new} \hyperlink{classOkular_1_1PageController}{PageController}();
2248     connect( d->\hyperlink{classOkular_1_1DocumentPrivate_a0764e01a78ed52ece9229f50300522f1}{m\_pageController}, SIGNAL(rotationFinished(\textcolor{keywordtype}{int},
      \hyperlink{classOkular_1_1Page}{Okular::Page}*)),
2249              \textcolor{keyword}{this}, SLOT(rotationFinished(\textcolor{keywordtype}{int},\hyperlink{classOkular_1_1Page}{Okular::Page}*)) );
2250 
2251     \textcolor{keywordtype}{bool} containsExternalAnnotations = \textcolor{keyword}{false};
2252     \textcolor{keywordflow}{foreach} ( \hyperlink{classOkular_1_1Page}{Page} * p, d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector} )
2253     \{
2254         p->d->\hyperlink{classOkular_1_1PagePrivate_ab08c9b47d5e631b19dd2d5c85360d351}{m\_doc} = d;
2255         \textcolor{keywordflow}{if} ( !p->\hyperlink{classOkular_1_1Page_ad82e0f26d5435b5ccfa3d23c359ac23c}{annotations}().empty() )
2256             containsExternalAnnotations = \textcolor{keyword}{true};
2257     \}
2258 
2259     \textcolor{comment}{// Be quiet while restoring local annotations}
2260     d->\hyperlink{classOkular_1_1DocumentPrivate_a1d12aaa9b1f2726a8e19b416587062c9}{m\_showWarningLimitedAnnotSupport} = \textcolor{keyword}{false};
2261     d->\hyperlink{classOkular_1_1DocumentPrivate_a44f722aa34fee888929abd92fe54ad82}{m\_annotationsNeedSaveAs} = \textcolor{keyword}{false};
2262 
2263     \textcolor{comment}{// 2. load Additional Data (bookmarks, local annotations and metadata) about the document}
2264     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a135bb6fa2886b0eb86e9a1b72fd8d25b}{m\_archiveData} )
2265     \{
2266         d->\hyperlink{classOkular_1_1DocumentPrivate_ab3b82ad8d5fbe55c02af3b21a9e2459e}{loadDocumentInfo}( d->\hyperlink{classOkular_1_1DocumentPrivate_a135bb6fa2886b0eb86e9a1b72fd8d25b}{m\_archiveData}->
      \hyperlink{structArchiveData_aed05c74b518d7f05506d14c32cc46846}{metadataFileName} );
2267         d->\hyperlink{classOkular_1_1DocumentPrivate_a44f722aa34fee888929abd92fe54ad82}{m\_annotationsNeedSaveAs} = \textcolor{keyword}{true};
2268     \}
2269     \textcolor{keywordflow}{else}
2270     \{
2271         d->\hyperlink{classOkular_1_1DocumentPrivate_ab3b82ad8d5fbe55c02af3b21a9e2459e}{loadDocumentInfo}();
2272         d->\hyperlink{classOkular_1_1DocumentPrivate_a44f722aa34fee888929abd92fe54ad82}{m\_annotationsNeedSaveAs} = ( d->
      \hyperlink{classOkular_1_1DocumentPrivate_ac0e0b9633df5fbd632e9ffa865b0f04b}{canAddAnnotationsNatively}() && containsExternalAnnotations );
2273     \}
2274 
2275     d->\hyperlink{classOkular_1_1DocumentPrivate_a1d12aaa9b1f2726a8e19b416587062c9}{m\_showWarningLimitedAnnotSupport} = \textcolor{keyword}{true};
2276     d->\hyperlink{classOkular_1_1DocumentPrivate_a098282fb7e82c81ea9402333864fd389}{m\_bookmarkManager}->setUrl( d->\hyperlink{classOkular_1_1DocumentPrivate_a1a0145bbb16d15c016000a83d0d2ab2b}{m\_url} );
2277 
2278     \textcolor{comment}{// 3. setup observers inernal lists and data}
2279     \hyperlink{core_2document_8cpp_a67e536532b9ae1f36450a4ebff082fea}{foreachObserver}( notifySetup( d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}, 
      \hyperlink{classOkular_1_1DocumentObserver_aba00584af99894f95a9650e91f109d40ae599564392c01b22e96eff7602c4dd03}{DocumentObserver::DocumentChanged} ) );
2280 
2281     \textcolor{comment}{// 4. set initial page (restoring the page saved in xml if loaded)}
2282     \hyperlink{classOkular_1_1DocumentViewport}{DocumentViewport} loadedViewport = (*d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator});
2283     \textcolor{keywordflow}{if} ( loadedViewport.\hyperlink{classOkular_1_1DocumentViewport_a13161b17f2d0b68bf033955f81d41584}{isValid}() )
2284     \{
2285         (*d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator}) = \hyperlink{classOkular_1_1DocumentViewport}{DocumentViewport}();
2286         \textcolor{keywordflow}{if} ( loadedViewport.\hyperlink{classOkular_1_1DocumentViewport_a122674d4a493e79b1aa5fd5c00e81c93}{pageNumber} >= (\textcolor{keywordtype}{int})d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.size() )
2287             loadedViewport.\hyperlink{classOkular_1_1DocumentViewport_a122674d4a493e79b1aa5fd5c00e81c93}{pageNumber} = d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.size() - 1;
2288     \}
2289     \textcolor{keywordflow}{else}
2290         loadedViewport.\hyperlink{classOkular_1_1DocumentViewport_a122674d4a493e79b1aa5fd5c00e81c93}{pageNumber} = 0;
2291     \hyperlink{classOkular_1_1Document_a1afaf8b8b5cb1e715949024fb75bb767}{setViewport}( loadedViewport );
2292 
2293     \textcolor{comment}{// start bookmark saver timer}
2294     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a1d64b1924e24e32715cc5c7b3471595f}{m\_saveBookmarksTimer} )
2295     \{
2296         d->\hyperlink{classOkular_1_1DocumentPrivate_a1d64b1924e24e32715cc5c7b3471595f}{m\_saveBookmarksTimer} = \textcolor{keyword}{new} QTimer( \textcolor{keyword}{this} );
2297         connect( d->\hyperlink{classOkular_1_1DocumentPrivate_a1d64b1924e24e32715cc5c7b3471595f}{m\_saveBookmarksTimer}, SIGNAL(timeout()), \textcolor{keyword}{this}, SLOT(
      saveDocumentInfo()) );
2298     \}
2299     d->\hyperlink{classOkular_1_1DocumentPrivate_a1d64b1924e24e32715cc5c7b3471595f}{m\_saveBookmarksTimer}->start( 5 * 60 * 1000 );
2300 
2301     \textcolor{comment}{// start memory check timer}
2302     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_aa403a95dfe9f344c12c7409319aaf62f}{m\_memCheckTimer} )
2303     \{
2304         d->\hyperlink{classOkular_1_1DocumentPrivate_aa403a95dfe9f344c12c7409319aaf62f}{m\_memCheckTimer} = \textcolor{keyword}{new} QTimer( \textcolor{keyword}{this} );
2305         connect( d->\hyperlink{classOkular_1_1DocumentPrivate_aa403a95dfe9f344c12c7409319aaf62f}{m\_memCheckTimer}, SIGNAL(timeout()), \textcolor{keyword}{this}, SLOT(slotTimedMemoryCheck()) )
      ;
2306     \}
2307     d->\hyperlink{classOkular_1_1DocumentPrivate_aa403a95dfe9f344c12c7409319aaf62f}{m\_memCheckTimer}->start( 2000 );
2308 
2309     \textcolor{keyword}{const} \hyperlink{classOkular_1_1DocumentViewport}{DocumentViewport} nextViewport = d->
      \hyperlink{classOkular_1_1DocumentPrivate_a53d9d28d2ad9555b577ab0c9b1a1c142}{nextDocumentViewport}();
2310     \textcolor{keywordflow}{if} ( nextViewport.\hyperlink{classOkular_1_1DocumentViewport_a13161b17f2d0b68bf033955f81d41584}{isValid}() )
2311     \{
2312         \hyperlink{classOkular_1_1Document_a1afaf8b8b5cb1e715949024fb75bb767}{setViewport}( nextViewport );
2313         d->\hyperlink{classOkular_1_1DocumentPrivate_af6aae2128fb788ae1693699506a86c0d}{m\_nextDocumentViewport} = \hyperlink{classOkular_1_1DocumentViewport}{DocumentViewport}();
2314         d->\hyperlink{classOkular_1_1DocumentPrivate_a0c531a03865395da325584dbae6e1efe}{m\_nextDocumentDestination} = QString();
2315     \}
2316 
2317     \hyperlink{classOkular_1_1AudioPlayer_a5bbc067e81b46451098a2a0becf23e67}{AudioPlayer::instance}()->d->\hyperlink{classOkular_1_1AudioPlayerPrivate_a086fc9c3cbe263bd8c67a6afa8b7373d}{m\_currentDocument} = isstdin ? KUrl() 
      : d->m\_url;
2318     d->\hyperlink{classOkular_1_1DocumentPrivate_afe0b6665f1386848faf6e6763e7f6cf4}{m\_docSize} = document\_size;
2319 
2320     \textcolor{keyword}{const} QStringList docScripts = d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_a74f6b91e31ead5b572ffb9fb6b06c188}{metaData}( \textcolor{stringliteral}{"DocumentScripts"}, \textcolor{stringliteral}{"
      JavaScript"} ).toStringList();
2321     \textcolor{keywordflow}{if} ( !docScripts.isEmpty() )
2322     \{
2323         d->\hyperlink{classOkular_1_1DocumentPrivate_aa92ce51e07aaab18bd40542eb9bc31e6}{m\_scripter} = \textcolor{keyword}{new} \hyperlink{classOkular_1_1Scripter}{Scripter}( d );
2324         Q\_FOREACH ( \textcolor{keyword}{const} QString &docscript, docScripts )
2325         \{
2326             d->\hyperlink{classOkular_1_1DocumentPrivate_aa92ce51e07aaab18bd40542eb9bc31e6}{m\_scripter}->\hyperlink{classOkular_1_1Scripter_a9d1b55529ba63006f42f2322e9da9e18}{execute}( \hyperlink{namespaceOkular_a061f34ff835b2d2142fef28bcfd09325ac61eb96a387ac39266f6eb71948796ea}{JavaScript}, docscript );
2327         \}
2328     \}
2329 
2330     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
2331 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a203b2307aa0d4baf08628cf70e21a3b4}{\index{Okular\+::\+Document@{Okular\+::\+Document}!open\+Document\+Archive@{open\+Document\+Archive}}
\index{open\+Document\+Archive@{open\+Document\+Archive}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{open\+Document\+Archive}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::open\+Document\+Archive (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{doc\+File, }
\item[{const K\+Url \&}]{url}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a203b2307aa0d4baf08628cf70e21a3b4}
Opens a document archive.

\begin{DoxySince}{Since}
0.\+8 (K\+D\+E 4.\+2) 
\end{DoxySince}


Definition at line 4137 of file document.\+cpp.


\begin{DoxyCode}
4138 \{
4139     \textcolor{keyword}{const} KMimeType::Ptr mime = KMimeType::findByPath( docFile, 0, \textcolor{keyword}{false} \textcolor{comment}{/* content too */} );
4140     \textcolor{keywordflow}{if} ( !mime->is( \textcolor{stringliteral}{"application/vnd.kde.okular-archive"} ) )
4141         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4142 
4143     KZip okularArchive( docFile );
4144     \textcolor{keywordflow}{if} ( !okularArchive.open( QIODevice::ReadOnly ) )
4145        \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4146 
4147     \textcolor{keyword}{const} KArchiveDirectory * mainDir = okularArchive.directory();
4148     \textcolor{keyword}{const} KArchiveEntry * mainEntry = mainDir->entry( \textcolor{stringliteral}{"content.xml"} );
4149     \textcolor{keywordflow}{if} ( !mainEntry || !mainEntry->isFile() )
4150         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4151 
4152     std::auto\_ptr< QIODevice > mainEntryDevice( static\_cast< const KZipFileEntry * >( mainEntry )->
      createDevice() );
4153     QDomDocument doc;
4154     \textcolor{keywordflow}{if} ( !doc.setContent( mainEntryDevice.get() ) )
4155         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4156     mainEntryDevice.reset();
4157 
4158     QDomElement root = doc.documentElement();
4159     \textcolor{keywordflow}{if} ( root.tagName() != \textcolor{stringliteral}{"OkularArchive"} )
4160         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4161 
4162     QString documentFileName;
4163     QString metadataFileName;
4164     QDomElement el = root.firstChild().toElement();
4165     \textcolor{keywordflow}{for} ( ; !el.isNull(); el = el.nextSibling().toElement() )
4166     \{
4167         \textcolor{keywordflow}{if} ( el.tagName() == \textcolor{stringliteral}{"Files"} )
4168         \{
4169             QDomElement fileEl = el.firstChild().toElement();
4170             \textcolor{keywordflow}{for} ( ; !fileEl.isNull(); fileEl = fileEl.nextSibling().toElement() )
4171             \{
4172                 \textcolor{keywordflow}{if} ( fileEl.tagName() == \textcolor{stringliteral}{"DocumentFileName"} )
4173                     documentFileName = fileEl.text();
4174                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( fileEl.tagName() == \textcolor{stringliteral}{"MetadataFileName"} )
4175                     metadataFileName = fileEl.text();
4176             \}
4177         \}
4178     \}
4179     \textcolor{keywordflow}{if} ( documentFileName.isEmpty() )
4180         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4181 
4182     \textcolor{keyword}{const} KArchiveEntry * docEntry = mainDir->entry( documentFileName );
4183     \textcolor{keywordflow}{if} ( !docEntry || !docEntry->isFile() )
4184         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4185 
4186     std::auto\_ptr< ArchiveData > archiveData( \textcolor{keyword}{new} \hyperlink{structArchiveData}{ArchiveData}() );
4187     \textcolor{keyword}{const} \textcolor{keywordtype}{int} dotPos = documentFileName.indexOf( \textcolor{charliteral}{'.'} );
4188     \textcolor{keywordflow}{if} ( dotPos != -1 )
4189         archiveData->document.setSuffix( documentFileName.mid( dotPos ) );
4190     \textcolor{keywordflow}{if} ( !archiveData->document.open() )
4191         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4192 
4193     QString tempFileName = archiveData->document.fileName();
4194     \{
4195     std::auto\_ptr< QIODevice > docEntryDevice( static\_cast< const KZipFileEntry * >( docEntry )->
      createDevice() );
4196     \hyperlink{namespaceOkular_a862e1662eae79bca93b3d148ada9ad88}{copyQIODevice}( docEntryDevice.get(), &archiveData->document );
4197     archiveData->document.close();
4198     \}
4199 
4200     std::auto\_ptr< KTemporaryFile > tempMetadataFileName;
4201     \textcolor{keyword}{const} KArchiveEntry * metadataEntry = mainDir->entry( metadataFileName );
4202     \textcolor{keywordflow}{if} ( metadataEntry && metadataEntry->isFile() )
4203     \{
4204         std::auto\_ptr< QIODevice > metadataEntryDevice( static\_cast< const KZipFileEntry * >( metadataEntry
       )->createDevice() );
4205         tempMetadataFileName.reset( \textcolor{keyword}{new} KTemporaryFile() );
4206         tempMetadataFileName->setSuffix( \textcolor{stringliteral}{".xml"} );
4207         tempMetadataFileName->setAutoRemove( \textcolor{keyword}{false} );
4208         \textcolor{keywordflow}{if} ( tempMetadataFileName->open() )
4209         \{
4210             \hyperlink{namespaceOkular_a862e1662eae79bca93b3d148ada9ad88}{copyQIODevice}( metadataEntryDevice.get(), tempMetadataFileName.get() );
4211             archiveData->metadataFileName = tempMetadataFileName->fileName();
4212             tempMetadataFileName->close();
4213         \}
4214     \}
4215 
4216     \textcolor{keyword}{const} KMimeType::Ptr docMime = KMimeType::findByPath( tempFileName, 0, \textcolor{keyword}{true} \textcolor{comment}{/* local file */} );
4217     d->\hyperlink{classOkular_1_1DocumentPrivate_a135bb6fa2886b0eb86e9a1b72fd8d25b}{m\_archiveData} = archiveData.get();
4218     d->\hyperlink{classOkular_1_1DocumentPrivate_ac47be11934cb0cb3e7d8876e3e4653af}{m\_archivedFileName} = documentFileName;
4219     \textcolor{keywordtype}{bool} ret = \hyperlink{classOkular_1_1Document_aaec42a1303846888ea6d3151d2be2c3e}{openDocument}( tempFileName, url, docMime );
4220 
4221     \textcolor{keywordflow}{if} ( ret )
4222     \{
4223         archiveData.release();
4224     \}
4225     \textcolor{keywordflow}{else}
4226     \{
4227         d->\hyperlink{classOkular_1_1DocumentPrivate_a135bb6fa2886b0eb86e9a1b72fd8d25b}{m\_archiveData} = 0;
4228     \}
4229 
4230     \textcolor{keywordflow}{return} ret;
4231 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a02ced6263d4d216ba2e38d8ab9cc96b7}{\index{Okular\+::\+Document@{Okular\+::\+Document}!open\+Url@{open\+Url}}
\index{open\+Url@{open\+Url}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{open\+Url}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::open\+Url (
\begin{DoxyParamCaption}
\item[{const K\+Url \&}]{url}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_a02ced6263d4d216ba2e38d8ab9cc96b7}
This signal is emitted whenever an action requests an open url operation for the given document {\ttfamily url}. \hypertarget{classOkular_1_1Document_a0865032f8934fca262b382a6af9a5671}{\index{Okular\+::\+Document@{Okular\+::\+Document}!orientation@{orientation}}
\index{orientation@{orientation}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{orientation}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Printer\+::\+Orientation Document\+::orientation (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a0865032f8934fca262b382a6af9a5671}
Returns the orientation of the document (for printing purposes). This is used in the K\+Part to initialize the print dialog and in the generators to check whether the document needs to be rotated or not.

\begin{DoxySince}{Since}
0.\+14 (K\+D\+E 4.\+8) 
\end{DoxySince}


Definition at line 4319 of file document.\+cpp.


\begin{DoxyCode}
4320 \{
4321     \textcolor{keywordtype}{double} width, height;
4322     \textcolor{keywordtype}{int} landscape, portrait;
4323     \textcolor{keyword}{const} \hyperlink{classOkular_1_1Page}{Okular::Page} *\hyperlink{classOkular_1_1Document_a42ec374d73794bf56d7e7b11f1f56319}{currentPage};
4324 
4325     \textcolor{comment}{// if some pages are landscape and others are not, the most common wins, as}
4326     \textcolor{comment}{// QPrinter does not accept a per-page setting}
4327     landscape = 0;
4328     portrait = 0;
4329     \textcolor{keywordflow}{for} (uint i = 0; i < \hyperlink{classOkular_1_1Document_aaf5d986758e25127946986abaa401bcd}{pages}(); i++)
4330     \{
4331         currentPage = \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page}(i);
4332         width = currentPage->\hyperlink{classOkular_1_1Page_a57114e88281da2a51b1bb0d5d4996d53}{width}();
4333         height = currentPage->\hyperlink{classOkular_1_1Page_a67246a32b3e625946eb5c685b8372a4f}{height}();
4334         \textcolor{keywordflow}{if} (currentPage->\hyperlink{classOkular_1_1Page_ab99c3e1660eb4a87afdb093ae0daf06c}{orientation}() == \hyperlink{namespaceOkular_a8556d00465f61ef533c6b027669e7da6a72f281f9a68957920dc968695de4363a}{Okular::Rotation90} || currentPage->
      \hyperlink{classOkular_1_1Page_ab99c3e1660eb4a87afdb093ae0daf06c}{orientation}() == \hyperlink{namespaceOkular_a8556d00465f61ef533c6b027669e7da6a01963dd547f5723a6b3975ae67090390}{Okular::Rotation270}) \hyperlink{htmlextension_8h_a6aa0d61b42274f15f4a693b0c7bea484}{qSwap}(width, height);
4335         \textcolor{keywordflow}{if} (width > height) landscape++;
4336         \textcolor{keywordflow}{else} portrait++;
4337     \}
4338     \textcolor{keywordflow}{return} (landscape > portrait) ? QPrinter::Landscape : QPrinter::Portrait;
4339 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{\index{Okular\+::\+Document@{Okular\+::\+Document}!page@{page}}
\index{page@{page}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{page}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Page} $\ast$ Document\+::page (
\begin{DoxyParamCaption}
\item[{int}]{number}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}
Returns the page object for the given page {\ttfamily number} or 0 if the number is out of range. 

Definition at line 2670 of file document.\+cpp.


\begin{DoxyCode}
2671 \{
2672     \textcolor{keywordflow}{return} ( n < d->m\_pagesVector.count() ) ? d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.at(n) : 0;
2673 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_aaf5d986758e25127946986abaa401bcd}{\index{Okular\+::\+Document@{Okular\+::\+Document}!pages@{pages}}
\index{pages@{pages}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{pages}]{\setlength{\rightskip}{0pt plus 5cm}uint Document\+::pages (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_aaf5d986758e25127946986abaa401bcd}
Returns the number of pages of the document. 

Definition at line 2703 of file document.\+cpp.


\begin{DoxyCode}
2704 \{
2705     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.size();
2706 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_ab27493b7a9aafe7e9bf7fe2d8e291703}{\index{Okular\+::\+Document@{Okular\+::\+Document}!page\+Sizes@{page\+Sizes}}
\index{page\+Sizes@{page\+Sizes}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{page\+Sizes}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Page\+Size\+::\+List} Document\+::page\+Sizes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_ab27493b7a9aafe7e9bf7fe2d8e291703}
Returns the list of supported page sizes or an empty list if this feature is not available. \begin{DoxySeeAlso}{See Also}
\hyperlink{classOkular_1_1Document_abda5404bb65d7bc671494e589dec3aaf}{supports\+Page\+Sizes()} 
\end{DoxySeeAlso}


Definition at line 2741 of file document.\+cpp.


\begin{DoxyCode}
2742 \{
2743     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
2744     \{
2745         \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a71f8c84e54d8cc8a5f3396f18c7dae7a}{m\_pageSizes}.isEmpty() )
2746             d->\hyperlink{classOkular_1_1DocumentPrivate_a71f8c84e54d8cc8a5f3396f18c7dae7a}{m\_pageSizes} = d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_a5693e2448611c1cc68015ec26fb3cd5d}{pageSizes}();
2747         \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a71f8c84e54d8cc8a5f3396f18c7dae7a}{m\_pageSizes};
2748     \}
2749     \textcolor{keywordflow}{return} \hyperlink{classOkular_1_1PageSize_a6c450ee7c579f47402a21588403ea0ab}{PageSize::List}();
2750 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a4dab280eb08b17c40feefe6bd2e46886}{\index{Okular\+::\+Document@{Okular\+::\+Document}!page\+Size\+String@{page\+Size\+String}}
\index{page\+Size\+String@{page\+Size\+String}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{page\+Size\+String}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String Document\+::page\+Size\+String (
\begin{DoxyParamCaption}
\item[{int}]{page}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a4dab280eb08b17c40feefe6bd2e46886}
Returns the size string for the given {\ttfamily page} or an empty string if the page is out of range. 

Definition at line 2824 of file document.\+cpp.


\begin{DoxyCode}
2825 \{
2826     \textcolor{keywordflow}{if} (d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator})
2827     \{
2828         \textcolor{keywordflow}{if} (d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_add5b37f6ed7b6ce0b3bc72f72d26ec26}{pagesSizeMetric}() != 
      \hyperlink{classOkular_1_1Generator_aa09b8aeb5398ea5f07644f35bd5934f3af29abc1614145cb6d332f22f8e1131d6}{Generator::None})
2829         \{
2830             \textcolor{keyword}{const} \hyperlink{classOkular_1_1Page}{Page} *p = d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.at( \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page} );
2831             \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a7cac2460a84aaba0b164f8e757df381a}{localizedSize}(QSizeF(p->\hyperlink{classOkular_1_1Page_a57114e88281da2a51b1bb0d5d4996d53}{width}(), p->
      \hyperlink{classOkular_1_1Page_a67246a32b3e625946eb5c685b8372a4f}{height}()));
2832         \}
2833     \}
2834     \textcolor{keywordflow}{return} QString();
2835 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_afa545702ebb74572fd51361c4675bb92}{\index{Okular\+::\+Document@{Okular\+::\+Document}!prepare\+To\+Modify\+Annotation\+Properties@{prepare\+To\+Modify\+Annotation\+Properties}}
\index{prepare\+To\+Modify\+Annotation\+Properties@{prepare\+To\+Modify\+Annotation\+Properties}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{prepare\+To\+Modify\+Annotation\+Properties}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::prepare\+To\+Modify\+Annotation\+Properties (
\begin{DoxyParamCaption}
\item[{{\bf Annotation} $\ast$}]{annotation}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_afa545702ebb74572fd51361c4675bb92}
Prepares to modify the properties of the given {\ttfamily annotation}. Must be called before the annotation's properties are modified

\begin{DoxySince}{Since}
0.\+17 (K\+D\+E 4.\+11) 
\end{DoxySince}


Definition at line 3005 of file document.\+cpp.


\begin{DoxyCode}
3006 \{
3007     Q\_ASSERT(d->\hyperlink{classOkular_1_1DocumentPrivate_a7f5fc408d6af006eaa4c2991ee263403}{m\_prevPropsOfAnnotBeingModified}.isNull());
3008     \textcolor{keywordflow}{if} (!d->\hyperlink{classOkular_1_1DocumentPrivate_a7f5fc408d6af006eaa4c2991ee263403}{m\_prevPropsOfAnnotBeingModified}.isNull())
3009     \{
3010         kError(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}) << \textcolor{stringliteral}{"Error: Document::prepareToModifyAnnotationProperties has already
       been called since last call to Document::modifyPageAnnotationProperties"};
3011         \textcolor{keywordflow}{return};
3012     \}
3013     d->\hyperlink{classOkular_1_1DocumentPrivate_a7f5fc408d6af006eaa4c2991ee263403}{m\_prevPropsOfAnnotBeingModified} = annotation->
      \hyperlink{classOkular_1_1Annotation_ad7c117b9cc13d8987d2bcff8e4ed25f7}{getAnnotationPropertiesDomNode}();
3014 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a122291e23a4ba2fc7750ca0e81eb4796}{\index{Okular\+::\+Document@{Okular\+::\+Document}!print@{print}}
\index{print@{print}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{print}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::print (
\begin{DoxyParamCaption}
\item[{Q\+Printer \&}]{printer}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a122291e23a4ba2fc7750ca0e81eb4796}
Prints the document to the given {\ttfamily printer}. 

Definition at line 3910 of file document.\+cpp.


\begin{DoxyCode}
3911 \{
3912     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} ? d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_aa786d406a1b0db6679a3bc62bbe2dc82}{print}( printer ) : \textcolor{keyword}{false};
3913 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_acf0fed7059a1b6c96a674074d1b92ffc}{\index{Okular\+::\+Document@{Okular\+::\+Document}!print\+Configuration\+Widget@{print\+Configuration\+Widget}}
\index{print\+Configuration\+Widget@{print\+Configuration\+Widget}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{print\+Configuration\+Widget}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Widget $\ast$ Document\+::print\+Configuration\+Widget (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_acf0fed7059a1b6c96a674074d1b92ffc}
Returns a custom printer configuration page or 0 if no custom printer configuration page is available. 

Definition at line 3954 of file document.\+cpp.


\begin{DoxyCode}
3955 \{
3956     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
3957     \{
3958         \hyperlink{classOkular_1_1PrintInterface}{PrintInterface} * iface = qobject\_cast< 
      \hyperlink{classOkular_1_1PrintInterface}{Okular::PrintInterface} * >( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} );
3959         \textcolor{keywordflow}{return} iface ? iface->\hyperlink{classOkular_1_1PrintInterface_abb520895dfde25d3c0befac5c0f77b80}{printConfigurationWidget}() : 0;
3960     \}
3961     \textcolor{keywordflow}{else}
3962         \textcolor{keywordflow}{return} 0;
3963 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a585768ca7f9436edb0260c9682d94464}{\index{Okular\+::\+Document@{Okular\+::\+Document}!print\+Error@{print\+Error}}
\index{print\+Error@{print\+Error}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{print\+Error}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String Document\+::print\+Error (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a585768ca7f9436edb0260c9682d94464}
Returns the last print error in case \hyperlink{classOkular_1_1Document_a122291e23a4ba2fc7750ca0e81eb4796}{print()} failed \begin{DoxySince}{Since}
0.\+11 (K\+D\+E 4.\+5) 
\end{DoxySince}


Definition at line 3915 of file document.\+cpp.


\begin{DoxyCode}
3916 \{
3917     \hyperlink{classOkular_1_1Generator_a43266d4eb3e7929924dd10ea53bc1d61}{Okular::Generator::PrintError} err = 
      \hyperlink{classOkular_1_1Generator_a43266d4eb3e7929924dd10ea53bc1d61a263e9cc38c84824414ea0b65e8deb408}{Generator::UnknownPrintError};
3918     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
3919     \{
3920         QMetaObject::invokeMethod( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}, \textcolor{stringliteral}{"printError"}, Qt::DirectConnection, 
      Q\_RETURN\_ARG(\hyperlink{classOkular_1_1Generator_a43266d4eb3e7929924dd10ea53bc1d61}{Okular::Generator::PrintError}, err) );
3921     \}
3922     Q\_ASSERT( err != \hyperlink{classOkular_1_1Generator_a43266d4eb3e7929924dd10ea53bc1d61a6186f0488397997c9a950b5e5c1b472d}{Generator::NoPrintError} );
3923     \textcolor{keywordflow}{switch} ( err )
3924     \{
3925         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Generator_a43266d4eb3e7929924dd10ea53bc1d61adbece3d0a13cec6d66bbc310be83da49}{Generator::TemporaryFileOpenPrintError}:
3926             \textcolor{keywordflow}{return} i18n( \textcolor{stringliteral}{"Could not open a temporary file"} );
3927         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Generator_a43266d4eb3e7929924dd10ea53bc1d61aec9027f4e5cfdae52f83de14e52dde41}{Generator::FileConversionPrintError}:
3928             \textcolor{keywordflow}{return} i18n( \textcolor{stringliteral}{"Print conversion failed"} );
3929         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Generator_a43266d4eb3e7929924dd10ea53bc1d61a4888a7455baba78b6f8cfe351956ba5e}{Generator::PrintingProcessCrashPrintError}:
3930             \textcolor{keywordflow}{return} i18n( \textcolor{stringliteral}{"Printing process crashed"} );
3931         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Generator_a43266d4eb3e7929924dd10ea53bc1d61a2266cdd2bd6a63a77c566cd49e73839f}{Generator::PrintingProcessStartPrintError}:
3932             \textcolor{keywordflow}{return} i18n( \textcolor{stringliteral}{"Printing process could not start"} );
3933         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Generator_a43266d4eb3e7929924dd10ea53bc1d61a0730ff074dea39b2f31be7d33812918a}{Generator::PrintToFilePrintError}:
3934             \textcolor{keywordflow}{return} i18n( \textcolor{stringliteral}{"Printing to file failed"} );
3935         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Generator_a43266d4eb3e7929924dd10ea53bc1d61ae485c9d2113f08df22f841cdec5a6916}{Generator::InvalidPrinterStatePrintError}:
3936             \textcolor{keywordflow}{return} i18n( \textcolor{stringliteral}{"Printer was in invalid state"} );
3937         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Generator_a43266d4eb3e7929924dd10ea53bc1d61a53237e1ad4d6e5145e29604834057b59}{Generator::UnableToFindFilePrintError}:
3938             \textcolor{keywordflow}{return} i18n( \textcolor{stringliteral}{"Unable to find file to print"} );
3939         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Generator_a43266d4eb3e7929924dd10ea53bc1d61ae954cba05c7a5435588cf0ed29e2a890}{Generator::NoFileToPrintError}:
3940             \textcolor{keywordflow}{return} i18n( \textcolor{stringliteral}{"There was no file to print"} );
3941         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Generator_a43266d4eb3e7929924dd10ea53bc1d61aa872427640e4ae32edc173645f3673d9}{Generator::NoBinaryToPrintError}:
3942             \textcolor{keywordflow}{return} i18n( \textcolor{stringliteral}{"Could not find a suitable binary for printing. Make sure CUPS lpr binary is
       available"} );
3943         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Generator_a43266d4eb3e7929924dd10ea53bc1d61a48f3e94e2e31e0b7d7d8d40bcc25f504}{Generator::InvalidPageSizePrintError}:
3944             \textcolor{keywordflow}{return} i18n( \textcolor{stringliteral}{"The page print size is invalid"} );
3945         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Generator_a43266d4eb3e7929924dd10ea53bc1d61a6186f0488397997c9a950b5e5c1b472d}{Generator::NoPrintError}:
3946             \textcolor{keywordflow}{return} QString();
3947         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Generator_a43266d4eb3e7929924dd10ea53bc1d61a263e9cc38c84824414ea0b65e8deb408}{Generator::UnknownPrintError}:
3948             \textcolor{keywordflow}{return} QString();
3949     \}
3950 
3951     \textcolor{keywordflow}{return} QString();
3952 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_ab126b62cb37b419a4d51b4c30729e85b}{\index{Okular\+::\+Document@{Okular\+::\+Document}!printing\+Support@{printing\+Support}}
\index{printing\+Support@{printing\+Support}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{printing\+Support}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Document\+::\+Printing\+Type} Document\+::printing\+Support (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_ab126b62cb37b419a4d51b4c30729e85b}
Returns what sort of printing the document supports\+: Native, Postscript, None 

Definition at line 3883 of file document.\+cpp.


\begin{DoxyCode}
3884 \{
3885     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
3886     \{
3887 
3888         \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_aacad530ef4f0c31a4addc89eb85ec8da}{hasFeature}( 
      \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a7b40b8f6b9e4330bddff3cdf0baf07a9}{Generator::PrintNative} ) )
3889         \{
3890             \textcolor{keywordflow}{return} \hyperlink{classOkular_1_1Document_ad5630e57d57d854b37ed4b362f7dab12a5745a55426d5d26628e5f6246ef19b73}{NativePrinting};
3891         \}
3892 
3893 \textcolor{preprocessor}{#ifndef Q\_OS\_WIN}
3894         \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_aacad530ef4f0c31a4addc89eb85ec8da}{hasFeature}( 
      \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77af0ce4775bf5c69b470c2cce6011d576b}{Generator::PrintPostscript} ) )
3895         \{
3896             \textcolor{keywordflow}{return} \hyperlink{classOkular_1_1Document_ad5630e57d57d854b37ed4b362f7dab12a4b3d87d5a23cf38f190a7da005453995}{PostscriptPrinting};
3897         \}
3898 \textcolor{preprocessor}{#endif}
3899 
3900     \}
3901 
3902     \textcolor{keywordflow}{return} \hyperlink{classOkular_1_1Document_ad5630e57d57d854b37ed4b362f7dab12a81a8466201e7cb753617f7af99308ae7}{NoPrinting};
3903 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_aabdf41f40fe0391590391e303891b5ed}{\index{Okular\+::\+Document@{Okular\+::\+Document}!process\+Action@{process\+Action}}
\index{process\+Action@{process\+Action}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{process\+Action}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::process\+Action (
\begin{DoxyParamCaption}
\item[{const {\bf Action} $\ast$}]{action}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_aabdf41f40fe0391590391e303891b5ed}
Processes the given {\ttfamily action}. 

Definition at line 3611 of file document.\+cpp.


\begin{DoxyCode}
3612 \{
3613     \textcolor{keywordflow}{if} ( !action )
3614         \textcolor{keywordflow}{return};
3615 
3616     \textcolor{keywordflow}{switch}( action->\hyperlink{classOkular_1_1Action_ac4c2ef09b350b4041f8d1cfb261c3234}{actionType}() )
3617     \{
3618         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Action_abe474735af30ea76105595533df9ec47a3561c8768d2c750b59fbed36c41f336d}{Action::Goto}: \{
3619             \textcolor{keyword}{const} \hyperlink{classOkular_1_1GotoAction}{GotoAction} * go = \textcolor{keyword}{static\_cast<} \textcolor{keyword}{const }\hyperlink{classOkular_1_1GotoAction}{GotoAction} * \textcolor{keyword}{>}( action );
3620             d->\hyperlink{classOkular_1_1DocumentPrivate_af6aae2128fb788ae1693699506a86c0d}{m\_nextDocumentViewport} = go->\hyperlink{classOkular_1_1GotoAction_a98c99e66d65f81da1b25004ae6c13236}{destViewport}();
3621             d->\hyperlink{classOkular_1_1DocumentPrivate_a0c531a03865395da325584dbae6e1efe}{m\_nextDocumentDestination} = go->
      \hyperlink{classOkular_1_1GotoAction_a261f49a00494e690f18dc5a0d89ee6e1}{destinationName}();
3622 
3623             \textcolor{comment}{// Explanation of why d->m\_nextDocumentViewport is needed:}
3624             \textcolor{comment}{// all openRelativeFile does is launch a signal telling we}
3625             \textcolor{comment}{// want to open another URL, the problem is that when the file is}
3626             \textcolor{comment}{// non local, the loading is done assynchronously so you can't}
3627             \textcolor{comment}{// do a setViewport after the if as it was because you are doing the setViewport}
3628             \textcolor{comment}{// on the old file and when the new arrives there is no setViewport for it and}
3629             \textcolor{comment}{// it does not show anything}
3630 
3631             \textcolor{comment}{// first open filename if link is pointing outside this document}
3632             \textcolor{keywordflow}{if} ( go->\hyperlink{classOkular_1_1GotoAction_ace11529e3cc9ddb1f1706dd906b23f45}{isExternal}() && !d->\hyperlink{classOkular_1_1DocumentPrivate_a4853d128c2eb810795bf2cd4ca3665e2}{openRelativeFile}( go->
      \hyperlink{classOkular_1_1GotoAction_a310a286fa9e6e3cae3417d7d537274b1}{fileName}() ) )
3633             \{
3634                 kWarning(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}).nospace() << \textcolor{stringliteral}{"Action: Error opening '"} << go->
      \hyperlink{classOkular_1_1GotoAction_a310a286fa9e6e3cae3417d7d537274b1}{fileName}() << \textcolor{stringliteral}{"'."};
3635                 \textcolor{keywordflow}{return};
3636             \}
3637             \textcolor{keywordflow}{else}
3638             \{
3639                 \textcolor{keyword}{const} \hyperlink{classOkular_1_1DocumentViewport}{DocumentViewport} nextViewport = d->
      \hyperlink{classOkular_1_1DocumentPrivate_a53d9d28d2ad9555b577ab0c9b1a1c142}{nextDocumentViewport}();
3640                 \textcolor{comment}{// skip local links that point to nowhere (broken ones)}
3641                 \textcolor{keywordflow}{if} ( !nextViewport.\hyperlink{classOkular_1_1DocumentViewport_a13161b17f2d0b68bf033955f81d41584}{isValid}() )
3642                     \textcolor{keywordflow}{return};
3643 
3644                 \hyperlink{classOkular_1_1Document_a1afaf8b8b5cb1e715949024fb75bb767}{setViewport}( nextViewport, 0, \textcolor{keyword}{true} );
3645                 d->\hyperlink{classOkular_1_1DocumentPrivate_af6aae2128fb788ae1693699506a86c0d}{m\_nextDocumentViewport} = 
      \hyperlink{classOkular_1_1DocumentViewport}{DocumentViewport}();
3646                 d->\hyperlink{classOkular_1_1DocumentPrivate_a0c531a03865395da325584dbae6e1efe}{m\_nextDocumentDestination} = QString();
3647             \}
3648 
3649             \} \textcolor{keywordflow}{break};
3650 
3651         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Action_abe474735af30ea76105595533df9ec47a04ece2216c075107b03f6d91739252c2}{Action::Execute}: \{
3652             \textcolor{keyword}{const} \hyperlink{classOkular_1_1ExecuteAction}{ExecuteAction} * exe  = \textcolor{keyword}{static\_cast<} \textcolor{keyword}{const }
      \hyperlink{classOkular_1_1ExecuteAction}{ExecuteAction} * \textcolor{keyword}{>}( action );
3653             QString fileName = exe->\hyperlink{classOkular_1_1ExecuteAction_a9deef6fa77e658cc0bf65fb811209c28}{fileName}();
3654             \textcolor{keywordflow}{if} ( fileName.endsWith( \textcolor{stringliteral}{".pdf"} ) || fileName.endsWith( \textcolor{stringliteral}{".PDF"} ) )
3655             \{
3656                 d->\hyperlink{classOkular_1_1DocumentPrivate_a4853d128c2eb810795bf2cd4ca3665e2}{openRelativeFile}( fileName );
3657                 \textcolor{keywordflow}{return};
3658             \}
3659 
3660             \textcolor{comment}{// Albert: the only pdf i have that has that kind of link don't define}
3661             \textcolor{comment}{// an application and use the fileName as the file to open}
3662             fileName = d->\hyperlink{classOkular_1_1DocumentPrivate_a1c665a65d08f7b032bba757b298e26a6}{giveAbsolutePath}( fileName );
3663             KMimeType::Ptr mime = KMimeType::findByPath( fileName );
3664             \textcolor{comment}{// Check executables}
3665             \textcolor{keywordflow}{if} ( KRun::isExecutableFile( fileName, mime->name() ) )
3666             \{
3667                 \textcolor{comment}{// Don't have any pdf that uses this code path, just a guess on how it should work}
3668                 \textcolor{keywordflow}{if} ( !exe->\hyperlink{classOkular_1_1ExecuteAction_a5c2b9ecd8b20b9ff12edb792c04132ea}{parameters}().isEmpty() )
3669                 \{
3670                     fileName = d->\hyperlink{classOkular_1_1DocumentPrivate_a1c665a65d08f7b032bba757b298e26a6}{giveAbsolutePath}( exe->
      \hyperlink{classOkular_1_1ExecuteAction_a5c2b9ecd8b20b9ff12edb792c04132ea}{parameters}() );
3671                     mime = KMimeType::findByPath( fileName );
3672                     \textcolor{keywordflow}{if} ( KRun::isExecutableFile( fileName, mime->name() ) )
3673                     \{
3674                         \textcolor{comment}{// this case is a link pointing to an executable with a parameter}
3675                         \textcolor{comment}{// that also is an executable, possibly a hand-crafted pdf}
3676                         KMessageBox::information( \hyperlink{classOkular_1_1Document_aef26598eca4c2fe772cc77d7730a9e8b}{widget}(), i18n(\textcolor{stringliteral}{"The document is trying to execute
       an external application and, for your safety, Okular does not allow that."}) );
3677                         \textcolor{keywordflow}{return};
3678                     \}
3679                 \}
3680                 \textcolor{keywordflow}{else}
3681                 \{
3682                     \textcolor{comment}{// this case is a link pointing to an executable with no parameters}
3683                     \textcolor{comment}{// core developers find unacceptable executing it even after asking the user}
3684                     KMessageBox::information( \hyperlink{classOkular_1_1Document_aef26598eca4c2fe772cc77d7730a9e8b}{widget}(), i18n(\textcolor{stringliteral}{"The document is trying to execute an
       external application and, for your safety, Okular does not allow that."}) );
3685                     \textcolor{keywordflow}{return};
3686                 \}
3687             \}
3688 
3689             KService::Ptr ptr = KMimeTypeTrader::self()->preferredService( mime->name(), \textcolor{stringliteral}{"Application"} );
3690             \textcolor{keywordflow}{if} ( ptr )
3691             \{
3692                 KUrl::List lst;
3693                 lst.append( fileName );
3694                 KRun::run( *ptr, lst, 0 );
3695             \}
3696             \textcolor{keywordflow}{else}
3697                 KMessageBox::information( \hyperlink{classOkular_1_1Document_aef26598eca4c2fe772cc77d7730a9e8b}{widget}(), i18n( \textcolor{stringliteral}{"No application found for opening file of
       mimetype %1."}, mime->name() ) );
3698             \} \textcolor{keywordflow}{break};
3699 
3700         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Action_abe474735af30ea76105595533df9ec47a3830ede3c1951ff5b024691981fa3385}{Action::DocAction}: \{
3701             \textcolor{keyword}{const} \hyperlink{classOkular_1_1DocumentAction}{DocumentAction} * docaction = \textcolor{keyword}{static\_cast<} \textcolor{keyword}{const }
      \hyperlink{classOkular_1_1DocumentAction}{DocumentAction} * \textcolor{keyword}{>}( action );
3702             \textcolor{keywordflow}{switch}( docaction->\hyperlink{classOkular_1_1DocumentAction_ab08e1e40bf9d37fc7e91b4515a6296d9}{documentActionType}() )
3703             \{
3704                 \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1DocumentAction_a59b262b16719b9b55005d7c143f9415da7869da1d0b74ce9ce9a9070b34b2be24}{DocumentAction::PageFirst}:
3705                     \hyperlink{classOkular_1_1Document_ac3bdbd5137c7fd4d5e960646affc25ec}{setViewportPage}( 0 );
3706                     \textcolor{keywordflow}{break};
3707                 \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1DocumentAction_a59b262b16719b9b55005d7c143f9415dac1474e9f7d9e6b6c11a34886e50b1b65}{DocumentAction::PagePrev}:
3708                     \textcolor{keywordflow}{if} ( (*d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator}).pageNumber > 0 )
3709                         \hyperlink{classOkular_1_1Document_ac3bdbd5137c7fd4d5e960646affc25ec}{setViewportPage}( (*d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator}).
      pageNumber - 1 );
3710                     \textcolor{keywordflow}{break};
3711                 \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1DocumentAction_a59b262b16719b9b55005d7c143f9415da2d3cbb486bd211639576abfd5fd94e84}{DocumentAction::PageNext}:
3712                     \textcolor{keywordflow}{if} ( (*d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator}).pageNumber < (\textcolor{keywordtype}{int})d->
      \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.count() - 1 )
3713                         \hyperlink{classOkular_1_1Document_ac3bdbd5137c7fd4d5e960646affc25ec}{setViewportPage}( (*d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator}).
      pageNumber + 1 );
3714                     \textcolor{keywordflow}{break};
3715                 \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1DocumentAction_a59b262b16719b9b55005d7c143f9415da709252da0779def85883e4bf7cc62f9d}{DocumentAction::PageLast}:
3716                     \hyperlink{classOkular_1_1Document_ac3bdbd5137c7fd4d5e960646affc25ec}{setViewportPage}( d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.count() - 1 );
3717                     \textcolor{keywordflow}{break};
3718                 \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1DocumentAction_a59b262b16719b9b55005d7c143f9415dae079522fa5f0031dbbeed33268539e76}{DocumentAction::HistoryBack}:
3719                     \hyperlink{classOkular_1_1Document_accbb6fd94e985749d46f47bfcf03f197}{setPrevViewport}();
3720                     \textcolor{keywordflow}{break};
3721                 \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1DocumentAction_a59b262b16719b9b55005d7c143f9415dab58e7d7531192c958120707dfb6ff207}{DocumentAction::HistoryForward}:
3722                     \hyperlink{classOkular_1_1Document_a47ece85a3cf51760d5f6aa7642a1eeeb}{setNextViewport}();
3723                     \textcolor{keywordflow}{break};
3724                 \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1DocumentAction_a59b262b16719b9b55005d7c143f9415da1a39122cb11c1670518ac8e2e0172580}{DocumentAction::Quit}:
3725                     emit \hyperlink{classOkular_1_1Document_aa04cd4b2c38ee3fbf65d2b3b567e23a2}{quit}();
3726                     \textcolor{keywordflow}{break};
3727                 \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1DocumentAction_a59b262b16719b9b55005d7c143f9415da3fa4633dc079caff574aa6cf53ecd9e2}{DocumentAction::Presentation}:
3728                     emit \hyperlink{classOkular_1_1Document_a508d62333a719a476c280d7336550009}{linkPresentation}();
3729                     \textcolor{keywordflow}{break};
3730                 \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1DocumentAction_a59b262b16719b9b55005d7c143f9415dabf1a56bd98eb58d5c7551e8b081f53d9}{DocumentAction::EndPresentation}:
3731                     emit \hyperlink{classOkular_1_1Document_a191d6d17e084e1c10d8278963420ef6d}{linkEndPresentation}();
3732                     \textcolor{keywordflow}{break};
3733                 \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1DocumentAction_a59b262b16719b9b55005d7c143f9415da2e1fb485a14ebf1b0c50391e20a20d09}{DocumentAction::Find}:
3734                     emit \hyperlink{classOkular_1_1Document_a5fc2584f750c347596ca9b8f8b94338c}{linkFind}();
3735                     \textcolor{keywordflow}{break};
3736                 \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1DocumentAction_a59b262b16719b9b55005d7c143f9415da8a1b21cdefb94d4a0a2277704e43028d}{DocumentAction::GoToPage}:
3737                     emit \hyperlink{classOkular_1_1Document_a400ff9bcef27418b96a7dd3cdd0f5ec0}{linkGoToPage}();
3738                     \textcolor{keywordflow}{break};
3739                 \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1DocumentAction_a59b262b16719b9b55005d7c143f9415da953dd7dbf1b08110bb7018597de9033a}{DocumentAction::Close}:
3740                     emit \hyperlink{classOkular_1_1Document_a703b5ba4788bacfc7ab9b49e479eb07f}{close}();
3741                     \textcolor{keywordflow}{break};
3742             \}
3743             \} \textcolor{keywordflow}{break};
3744 
3745         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Action_abe474735af30ea76105595533df9ec47a7b94e3d79ff6813ba8444b1d98ca4756}{Action::Browse}: \{
3746             \textcolor{keyword}{const} \hyperlink{classOkular_1_1BrowseAction}{BrowseAction} * browse = \textcolor{keyword}{static\_cast<} \textcolor{keyword}{const }
      \hyperlink{classOkular_1_1BrowseAction}{BrowseAction} * \textcolor{keyword}{>}( action );
3747             QString lilySource;
3748             \textcolor{keywordtype}{int} lilyRow = 0, lilyCol = 0;
3749             \textcolor{comment}{// if the url is a mailto one, invoke mailer}
3750             \textcolor{keywordflow}{if} ( browse->\hyperlink{classOkular_1_1BrowseAction_a02dfb682ec078bd783e125696bd00964}{url}().startsWith( \textcolor{stringliteral}{"mailto:"}, Qt::CaseInsensitive ) )
3751                 KToolInvocation::invokeMailer( browse->\hyperlink{classOkular_1_1BrowseAction_a02dfb682ec078bd783e125696bd00964}{url}() );
3752             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( \hyperlink{namespaceOkular_ad195b608d5b6294feba9a4b095185d23}{extractLilyPondSourceReference}( browse->
      \hyperlink{classOkular_1_1BrowseAction_a02dfb682ec078bd783e125696bd00964}{url}(), &lilySource, &lilyRow, &lilyCol ) )
3753             \{
3754                 \textcolor{keyword}{const} \hyperlink{classOkular_1_1SourceReference}{SourceReference} ref( lilySource, lilyRow, lilyCol );
3755                 \hyperlink{classOkular_1_1Document_a211b3b966271e561257def97439732a5}{processSourceReference}( &ref );
3756             \}
3757             \textcolor{keywordflow}{else}
3758             \{
3759                 QString url = browse->\hyperlink{classOkular_1_1BrowseAction_a02dfb682ec078bd783e125696bd00964}{url}();
3760 
3761                 \textcolor{comment}{// fix for #100366, documents with relative links that are the form of http:foo.pdf}
3762                 \textcolor{keywordflow}{if} (url.indexOf(\textcolor{stringliteral}{"http:"}) == 0 && url.indexOf(\textcolor{stringliteral}{"http://"}) == -1 && url.right(4) == \textcolor{stringliteral}{".pdf"})
3763                 \{
3764                     d->\hyperlink{classOkular_1_1DocumentPrivate_a4853d128c2eb810795bf2cd4ca3665e2}{openRelativeFile}(url.mid(5));
3765                     \textcolor{keywordflow}{return};
3766                 \}
3767 
3768                 KUrl realUrl = KUrl( url );
3769 
3770                 \textcolor{comment}{// handle documents with relative path}
3771                 \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a1a0145bbb16d15c016000a83d0d2ab2b}{m\_url}.isValid() )
3772                 \{
3773                     realUrl = KUrl( d->\hyperlink{classOkular_1_1DocumentPrivate_a1a0145bbb16d15c016000a83d0d2ab2b}{m\_url}.upUrl(), url );
3774                 \}
3775 
3776                 \textcolor{comment}{// Albert: this is not a leak!}
3777                 \textcolor{keyword}{new} KRun( realUrl, \hyperlink{classOkular_1_1Document_aef26598eca4c2fe772cc77d7730a9e8b}{widget}() );
3778             \}
3779             \} \textcolor{keywordflow}{break};
3780 
3781         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Action_abe474735af30ea76105595533df9ec47ae1bf0d24610ef55451f2a122bbf48a3c}{Action::Sound}: \{
3782             \textcolor{keyword}{const} \hyperlink{classOkular_1_1SoundAction}{SoundAction} * linksound = \textcolor{keyword}{static\_cast<} \textcolor{keyword}{const }
      \hyperlink{classOkular_1_1SoundAction}{SoundAction} * \textcolor{keyword}{>}( action );
3783             \hyperlink{classOkular_1_1AudioPlayer_a5bbc067e81b46451098a2a0becf23e67}{AudioPlayer::instance}()->\hyperlink{classOkular_1_1AudioPlayer_aaac62ab7c23b6ff11162c1943cd535a5}{playSound}( linksound->
      \hyperlink{classOkular_1_1SoundAction_aeca8e94b61e8b5a1c9ee5abf35b6569a}{sound}(), linksound );
3784             \} \textcolor{keywordflow}{break};
3785 
3786         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Action_abe474735af30ea76105595533df9ec47ab8871d08c0e3ac56f1ecc9521d4abeb8}{Action::Script}: \{
3787             \textcolor{keyword}{const} \hyperlink{classOkular_1_1ScriptAction}{ScriptAction} * linkscript = \textcolor{keyword}{static\_cast<} \textcolor{keyword}{const }
      \hyperlink{classOkular_1_1ScriptAction}{ScriptAction} * \textcolor{keyword}{>}( action );
3788             \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_aa92ce51e07aaab18bd40542eb9bc31e6}{m\_scripter} )
3789                 d->\hyperlink{classOkular_1_1DocumentPrivate_aa92ce51e07aaab18bd40542eb9bc31e6}{m\_scripter} = \textcolor{keyword}{new} \hyperlink{classOkular_1_1Scripter}{Scripter}( d );
3790             d->\hyperlink{classOkular_1_1DocumentPrivate_aa92ce51e07aaab18bd40542eb9bc31e6}{m\_scripter}->\hyperlink{classOkular_1_1Scripter_a9d1b55529ba63006f42f2322e9da9e18}{execute}( linkscript->\hyperlink{classOkular_1_1ScriptAction_a9690816eccf3fc982a69841c890547f0}{scriptType}(), linkscript->
      \hyperlink{classOkular_1_1ScriptAction_ae0b45ddc3153b398e89748429aa27b06}{script}() );
3791             \} \textcolor{keywordflow}{break};
3792 
3793         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Action_abe474735af30ea76105595533df9ec47a3f395946dc29cf3a0db5f3d6d67d653a}{Action::Movie}:
3794             emit \hyperlink{classOkular_1_1Document_ad89902f864830b39f5a7a5c2ebaffb65}{processMovieAction}( static\_cast< const MovieAction * >( action ) );
3795             \textcolor{keywordflow}{break};
3796         \textcolor{keywordflow}{case} \hyperlink{classOkular_1_1Action_abe474735af30ea76105595533df9ec47abb9c459303f1d82e284acada9ba28ee5}{Action::Rendition}: \{
3797             \textcolor{keyword}{const} \hyperlink{classOkular_1_1RenditionAction}{RenditionAction} * linkrendition = \textcolor{keyword}{static\_cast<} \textcolor{keyword}{const }
      \hyperlink{classOkular_1_1RenditionAction}{RenditionAction} * \textcolor{keyword}{>}( action );
3798             \textcolor{keywordflow}{if} ( !linkrendition->\hyperlink{classOkular_1_1RenditionAction_aa417843d31585700a4b1d68803ddffb0}{script}().isEmpty() )
3799             \{
3800                 \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_aa92ce51e07aaab18bd40542eb9bc31e6}{m\_scripter} )
3801                     d->\hyperlink{classOkular_1_1DocumentPrivate_aa92ce51e07aaab18bd40542eb9bc31e6}{m\_scripter} = \textcolor{keyword}{new} \hyperlink{classOkular_1_1Scripter}{Scripter}( d );
3802                 d->\hyperlink{classOkular_1_1DocumentPrivate_aa92ce51e07aaab18bd40542eb9bc31e6}{m\_scripter}->\hyperlink{classOkular_1_1Scripter_a9d1b55529ba63006f42f2322e9da9e18}{execute}( linkrendition->
      \hyperlink{classOkular_1_1RenditionAction_a66495366865408d8c8c10122186f7fdd}{scriptType}(), linkrendition->\hyperlink{classOkular_1_1RenditionAction_aa417843d31585700a4b1d68803ddffb0}{script}() );
3803             \}
3804             \textcolor{keywordflow}{else}
3805             \{
3806                 emit \hyperlink{classOkular_1_1Document_ade897d8484f476a2224eac652d9ece77}{processRenditionAction}( static\_cast< const RenditionAction * >( 
      action ) );
3807             \}
3808             \} \textcolor{keywordflow}{break};
3809     \}
3810 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_ad89902f864830b39f5a7a5c2ebaffb65}{\index{Okular\+::\+Document@{Okular\+::\+Document}!process\+Movie\+Action@{process\+Movie\+Action}}
\index{process\+Movie\+Action@{process\+Movie\+Action}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{process\+Movie\+Action}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::process\+Movie\+Action (
\begin{DoxyParamCaption}
\item[{const {\bf Okular\+::\+Movie\+Action} $\ast$}]{action}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_ad89902f864830b39f5a7a5c2ebaffb65}
This signal is emitted whenever an movie action is triggered and the U\+I should process it. \hypertarget{classOkular_1_1Document_ade897d8484f476a2224eac652d9ece77}{\index{Okular\+::\+Document@{Okular\+::\+Document}!process\+Rendition\+Action@{process\+Rendition\+Action}}
\index{process\+Rendition\+Action@{process\+Rendition\+Action}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{process\+Rendition\+Action}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::process\+Rendition\+Action (
\begin{DoxyParamCaption}
\item[{const {\bf Okular\+::\+Rendition\+Action} $\ast$}]{action}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_ade897d8484f476a2224eac652d9ece77}
This signal is emitted whenever an rendition action is triggered and the U\+I should process it.

\begin{DoxySince}{Since}
0.\+16 (K\+D\+E 4.\+10) 
\end{DoxySince}
\hypertarget{classOkular_1_1Document_a211b3b966271e561257def97439732a5}{\index{Okular\+::\+Document@{Okular\+::\+Document}!process\+Source\+Reference@{process\+Source\+Reference}}
\index{process\+Source\+Reference@{process\+Source\+Reference}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{process\+Source\+Reference}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::process\+Source\+Reference (
\begin{DoxyParamCaption}
\item[{const {\bf Source\+Reference} $\ast$}]{reference}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a211b3b966271e561257def97439732a5}
Processes/\+Executes the given source {\ttfamily reference}. 

Definition at line 3812 of file document.\+cpp.


\begin{DoxyCode}
3813 \{
3814     \textcolor{keywordflow}{if} ( !ref )
3815         \textcolor{keywordflow}{return};
3816 
3817     \textcolor{keyword}{const} KUrl url( d->\hyperlink{classOkular_1_1DocumentPrivate_a1c665a65d08f7b032bba757b298e26a6}{giveAbsolutePath}( ref->fileName() ) );
3818     \textcolor{keywordflow}{if} ( !url.isLocalFile() )
3819     \{
3820         kDebug(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}) << url.url() << \textcolor{stringliteral}{"is not a local file."};
3821         \textcolor{keywordflow}{return};
3822     \}
3823 
3824     \textcolor{keyword}{const} QString absFileName = url.toLocalFile();
3825     \textcolor{keywordflow}{if} ( !QFile::exists( absFileName ) )
3826     \{
3827         kDebug(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}) << \textcolor{stringliteral}{"No such file:"} << absFileName;
3828         \textcolor{keywordflow}{return};
3829     \}
3830 
3831     \textcolor{keywordtype}{bool} handled = \textcolor{keyword}{false};
3832     emit \hyperlink{classOkular_1_1Document_a7a445d187c36e3c37b282dabbcafe8a0}{sourceReferenceActivated}(absFileName, ref->row(), ref->column(), &handled)
      ;
3833     \textcolor{keywordflow}{if}(handled) \{
3834         \textcolor{keywordflow}{return};
3835     \}
3836 
3837     \textcolor{keyword}{static} QHash< int, QString > editors;
3838     \textcolor{comment}{// init the editors table if empty (on first run, usually)}
3839     \textcolor{keywordflow}{if} ( editors.isEmpty() )
3840     \{
3841         editors = buildEditorsMap();
3842     \}
3843 
3844     QHash< int, QString >::const\_iterator it = editors.constFind( 
      \hyperlink{classOkular_1_1SettingsCore_afb3fbb0d886a4d9619be4f289e091caf}{SettingsCore::externalEditor}() );
3845     QString p;
3846     \textcolor{keywordflow}{if} ( it != editors.constEnd() )
3847         p = *it;
3848     \textcolor{keywordflow}{else}
3849         p = \hyperlink{classOkular_1_1SettingsCore_a2eae0942d8ffbed99c7b9198f2dc03f2}{SettingsCore::externalEditorCommand}();
3850     \textcolor{comment}{// custom editor not yet configured}
3851     \textcolor{keywordflow}{if} ( p.isEmpty() )
3852         \textcolor{keywordflow}{return};
3853 
3854     \textcolor{comment}{// manually append the %f placeholder if not specified}
3855     \textcolor{keywordflow}{if} ( p.indexOf( QLatin1String( \textcolor{stringliteral}{"%f"} ) ) == -1 )
3856         p.append( QLatin1String( \textcolor{stringliteral}{" %f"} ) );
3857 
3858     \textcolor{comment}{// replacing the placeholders}
3859     QHash< QChar, QString > map;
3860     map.insert( \textcolor{charliteral}{'f'}, absFileName );
3861     map.insert( \textcolor{charliteral}{'c'}, QString::number( ref->column() ) );
3862     map.insert( \textcolor{charliteral}{'l'}, QString::number( ref->row() ) );
3863     \textcolor{keyword}{const} QString cmd = KMacroExpander::expandMacrosShellQuote( p, map );
3864     \textcolor{keywordflow}{if} ( cmd.isEmpty() )
3865         \textcolor{keywordflow}{return};
3866     \textcolor{keyword}{const} QStringList args = KShell::splitArgs( cmd );
3867     \textcolor{keywordflow}{if} ( args.isEmpty() )
3868         \textcolor{keywordflow}{return};
3869 
3870     KProcess::startDetached( args );
3871 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_aa04cd4b2c38ee3fbf65d2b3b567e23a2}{\index{Okular\+::\+Document@{Okular\+::\+Document}!quit@{quit}}
\index{quit@{quit}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{quit}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::quit (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_aa04cd4b2c38ee3fbf65d2b3b567e23a2}
This signal is emitted whenever an action requests an application quit operation. \hypertarget{classOkular_1_1Document_a55a775164d34b00f74c4242ed952f676}{\index{Okular\+::\+Document@{Okular\+::\+Document}!redo@{redo}}
\index{redo@{redo}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{redo}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::redo (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [slot]}}}\label{classOkular_1_1Document_a55a775164d34b00f74c4242ed952f676}
Redo last undone edit command \begin{DoxySince}{Since}
0.\+17 (K\+D\+E 4.\+11) 
\end{DoxySince}


Definition at line 3491 of file document.\+cpp.


\begin{DoxyCode}
3492 \{
3493     d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack}->redo();
3494 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a92956a4adc2ebbf3c346204655e2a8a1}{\index{Okular\+::\+Document@{Okular\+::\+Document}!register\+View@{register\+View}}
\index{register\+View@{register\+View}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{register\+View}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::register\+View (
\begin{DoxyParamCaption}
\item[{{\bf View} $\ast$}]{view}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a92956a4adc2ebbf3c346204655e2a8a1}
Register the specified {\ttfamily view} for the current document.

It is unregistered from the previous document, if any.

\begin{DoxySince}{Since}
0.\+7 (K\+D\+E 4.\+1) 
\end{DoxySince}


Definition at line 4093 of file document.\+cpp.


\begin{DoxyCode}
4094 \{
4095     \textcolor{keywordflow}{if} ( !view )
4096         \textcolor{keywordflow}{return};
4097 
4098     \hyperlink{classOkular_1_1Document}{Document} *viewDoc = view->\hyperlink{classOkular_1_1View_a0971e5296142cba87af2af289079efea}{viewDocument}();
4099     \textcolor{keywordflow}{if} ( viewDoc )
4100     \{
4101         \textcolor{comment}{// check if already registered for this document}
4102         \textcolor{keywordflow}{if} ( viewDoc == \textcolor{keyword}{this} )
4103             \textcolor{keywordflow}{return};
4104 
4105         viewDoc->\hyperlink{classOkular_1_1Document_a16aedf5b18ed8216350979ae9e9dd72f}{unregisterView}( view );
4106     \}
4107 
4108     d->\hyperlink{classOkular_1_1DocumentPrivate_aae4139cb4cb2f63fd7c7c88f26199976}{m\_views}.insert( view );
4109     view->d\_func()->document = d;
4110 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a2d704dea2ab28c846e58443ac38841f2}{\index{Okular\+::\+Document@{Okular\+::\+Document}!remove\+Observer@{remove\+Observer}}
\index{remove\+Observer@{remove\+Observer}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{remove\+Observer}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::remove\+Observer (
\begin{DoxyParamCaption}
\item[{{\bf Document\+Observer} $\ast$}]{observer}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a2d704dea2ab28c846e58443ac38841f2}
Unregisters the given {\ttfamily observer} for the document. 

Definition at line 2495 of file document.\+cpp.


\begin{DoxyCode}
2496 \{
2497     \textcolor{comment}{// remove observer from the map. it won't receive notifications anymore}
2498     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}{m\_observers}.contains( pObserver ) )
2499     \{
2500         \textcolor{comment}{// free observer's pixmap data}
2501         QVector<Page*>::const\_iterator it = d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.constBegin(), end = d->
      \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.constEnd();
2502         \textcolor{keywordflow}{for} ( ; it != end; ++it )
2503             (*it)->deletePixmap( pObserver );
2504 
2505         \textcolor{comment}{// [MEM] free observer's allocation descriptors}
2506         \hyperlink{classQLinkedList}{QLinkedList< AllocatedPixmap * >::iterator} aIt = d->
      \hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps}.begin();
2507         \hyperlink{classQLinkedList}{QLinkedList< AllocatedPixmap * >::iterator} aEnd = d->
      \hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps}.end();
2508         \textcolor{keywordflow}{while} ( aIt != aEnd )
2509         \{
2510             \hyperlink{structAllocatedPixmap}{AllocatedPixmap} * p = *aIt;
2511             \textcolor{keywordflow}{if} ( p->\hyperlink{structAllocatedPixmap_a5ee1fe9a6b1a37583c0ea54045cc7800}{observer} == pObserver )
2512             \{
2513                 aIt = d->\hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps}.erase( aIt );
2514                 \textcolor{keyword}{delete} p;
2515             \}
2516             \textcolor{keywordflow}{else}
2517                 ++aIt;
2518         \}
2519 
2520         \textcolor{comment}{// delete observer entry from the map}
2521         d->\hyperlink{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}{m\_observers}.remove( pObserver );
2522     \}
2523 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_af8ae711ce34ff903a589423e73a45cbb}{\index{Okular\+::\+Document@{Okular\+::\+Document}!remove\+Page\+Annotation@{remove\+Page\+Annotation}}
\index{remove\+Page\+Annotation@{remove\+Page\+Annotation}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{remove\+Page\+Annotation}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::remove\+Page\+Annotation (
\begin{DoxyParamCaption}
\item[{int}]{page, }
\item[{{\bf Annotation} $\ast$}]{annotation}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_af8ae711ce34ff903a589423e73a45cbb}
Removes the given {\ttfamily annotation} from the given {\ttfamily page}. 

Definition at line 3076 of file document.\+cpp.


\begin{DoxyCode}
3077 \{
3078     QUndoCommand *uc = \textcolor{keyword}{new} \hyperlink{classOkular_1_1RemoveAnnotationCommand}{RemoveAnnotationCommand}(this->d, annotation, 
      \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page});
3079     d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack}->push(uc);
3080 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a5a0c81783a20c5403038e9fc4556ebbc}{\index{Okular\+::\+Document@{Okular\+::\+Document}!remove\+Page\+Annotations@{remove\+Page\+Annotations}}
\index{remove\+Page\+Annotations@{remove\+Page\+Annotations}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{remove\+Page\+Annotations}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::remove\+Page\+Annotations (
\begin{DoxyParamCaption}
\item[{int}]{page, }
\item[{const {\bf Q\+List}$<$ {\bf Annotation} $\ast$ $>$ \&}]{annotations}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a5a0c81783a20c5403038e9fc4556ebbc}
Removes the given {\ttfamily annotations} from the given {\ttfamily page}. 

Definition at line 3082 of file document.\+cpp.


\begin{DoxyCode}
3083 \{
3084     d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack}->beginMacro(i18nc(\textcolor{stringliteral}{"remove a collection of annotations from the page"}, \textcolor{stringliteral}{"remove
       annotations"}));
3085     \textcolor{keywordflow}{foreach}(\hyperlink{classOkular_1_1Annotation}{Annotation}* annotation, annotations)
3086     \{
3087         QUndoCommand *uc = \textcolor{keyword}{new} \hyperlink{classOkular_1_1RemoveAnnotationCommand}{RemoveAnnotationCommand}(this->d, annotation, 
      \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page});
3088         d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack}->push(uc);
3089     \}
3090     d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack}->endMacro();
3091 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_aa866452da62472e6b52ef395da8d4d9c}{\index{Okular\+::\+Document@{Okular\+::\+Document}!reparse\+Config@{reparse\+Config}}
\index{reparse\+Config@{reparse\+Config}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{reparse\+Config}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::reparse\+Config (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_aa866452da62472e6b52ef395da8d4d9c}
Reparses and applies the configuration. 

Definition at line 2525 of file document.\+cpp.


\begin{DoxyCode}
2526 \{
2527     \textcolor{comment}{// reparse generator config and if something changed clear Pages}
2528     \textcolor{keywordtype}{bool} configchanged = \textcolor{keyword}{false};
2529     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
2530     \{
2531         \hyperlink{classOkular_1_1ConfigInterface}{Okular::ConfigInterface} * iface = qobject\_cast< 
      \hyperlink{classOkular_1_1ConfigInterface}{Okular::ConfigInterface} * >( d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} );
2532         \textcolor{keywordflow}{if} ( iface )
2533             configchanged = iface->\hyperlink{classOkular_1_1ConfigInterface_a0f61ec6852e483b898efd9709b1ef63b}{reparseConfig}();
2534     \}
2535     \textcolor{keywordflow}{if} ( configchanged )
2536     \{
2537         \textcolor{comment}{// invalidate pixmaps}
2538         QVector<Page*>::const\_iterator it = d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.constBegin(), end = d->
      \hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.constEnd();
2539         \textcolor{keywordflow}{for} ( ; it != end; ++it ) \{
2540             (*it)->deletePixmaps();
2541         \}
2542 
2543         \textcolor{comment}{// [MEM] remove allocation descriptors}
2544         qDeleteAll( d->\hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps} );
2545         d->\hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps}.clear();
2546         d->\hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\_allocatedPixmapsTotalMemory} = 0;
2547 
2548         \textcolor{comment}{// send reload signals to observers}
2549         \hyperlink{core_2document_8cpp_a67e536532b9ae1f36450a4ebff082fea}{foreachObserver}( notifyContentsCleared( 
      \hyperlink{classOkular_1_1DocumentObserver_af0e6b09d5fc7ecb673bd4895ef2710dca3263576701c6ec7dc0a8e8945054db56}{DocumentObserver::Pixmap} ) );
2550     \}
2551 
2552     \textcolor{comment}{// free memory if in 'low' profile}
2553     \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1SettingsCore_a07d75a8b7db6da9213663287a87e3226}{SettingsCore::memoryLevel}() == 
      \hyperlink{classOkular_1_1SettingsCore_1_1EnumMemoryLevel_a6dcad4c36c335a5cab78f24dd88090b4aa61e4f07eed0bf070a41fb0998e8c3b5}{SettingsCore::EnumMemoryLevel::Low} &&
2554          !d->\hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps}.isEmpty() && !d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.isEmpty() )
2555         d->\hyperlink{classOkular_1_1DocumentPrivate_a8490b106f8f873de76b7ca6dcb1320f0}{cleanupPixmapMemory}();
2556 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a05f652fba2651b2602a2a71f474d008d}{\index{Okular\+::\+Document@{Okular\+::\+Document}!request\+Pixmaps@{request\+Pixmaps}}
\index{request\+Pixmaps@{request\+Pixmaps}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{request\+Pixmaps}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::request\+Pixmaps (
\begin{DoxyParamCaption}
\item[{const {\bf Q\+Linked\+List}$<$ {\bf Pixmap\+Request} $\ast$ $>$ \&}]{requests}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a05f652fba2651b2602a2a71f474d008d}
Sends {\ttfamily requests} for pixmap generation.

The same as request\+Pixmaps( requests, Remove\+All\+Previous ); 

Definition at line 2837 of file document.\+cpp.


\begin{DoxyCode}
2838 \{
2839     \hyperlink{classOkular_1_1Document_a05f652fba2651b2602a2a71f474d008d}{requestPixmaps}( requests, \hyperlink{classOkular_1_1Document_a34c1f67c024cfbdd46379c5fac3674d7a3e895c552ec2119c4a743aaefa3d00af}{RemoveAllPrevious} );
2840 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a80c2914b996d425ee0f6745df8e62429}{\index{Okular\+::\+Document@{Okular\+::\+Document}!request\+Pixmaps@{request\+Pixmaps}}
\index{request\+Pixmaps@{request\+Pixmaps}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{request\+Pixmaps}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::request\+Pixmaps (
\begin{DoxyParamCaption}
\item[{const {\bf Q\+Linked\+List}$<$ {\bf Pixmap\+Request} $\ast$ $>$ \&}]{requests, }
\item[{Pixmap\+Request\+Flags}]{req\+Options}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a80c2914b996d425ee0f6745df8e62429}
Sends {\ttfamily requests} for pixmap generation.


\begin{DoxyParams}{Parameters}
{\em req\+Options} & the options for the request\\
\hline
\end{DoxyParams}
\begin{DoxySince}{Since}
0.\+7 (K\+D\+E 4.\+1) 
\end{DoxySince}


Definition at line 2842 of file document.\+cpp.


\begin{DoxyCode}
2843 \{
2844     \textcolor{keywordflow}{if} ( requests.isEmpty() )
2845         \textcolor{keywordflow}{return};
2846 
2847     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} || d->\hyperlink{classOkular_1_1DocumentPrivate_a836cb1b614d8d25bad8403dfd746ef00}{m\_closingLoop} )
2848     \{
2849         \textcolor{comment}{// delete requests..}
2850         \hyperlink{classQLinkedList}{QLinkedList< PixmapRequest * >::const\_iterator} rIt = 
      requests.constBegin(), rEnd = requests.constEnd();
2851         \textcolor{keywordflow}{for} ( ; rIt != rEnd; ++rIt )
2852             \textcolor{keyword}{delete} *rIt;
2853         \textcolor{comment}{// ..and return}
2854         \textcolor{keywordflow}{return};
2855     \}
2856 
2857     \textcolor{comment}{// 1. [CLEAN STACK] remove previous requests of requesterID}
2858     \textcolor{comment}{// FIXME This assumes all requests come from the same observer, that is true atm but not enforced
       anywhere}
2859     \hyperlink{classOkular_1_1DocumentObserver}{DocumentObserver} *requesterObserver = requests.first()->observer();
2860     QSet< int > requestedPages;
2861     \{
2862         \hyperlink{classQLinkedList}{QLinkedList< PixmapRequest * >::const\_iterator} rIt = 
      requests.constBegin(), rEnd = requests.constEnd();
2863         \textcolor{keywordflow}{for} ( ; rIt != rEnd; ++rIt )
2864             requestedPages.insert( (*rIt)->pageNumber() );
2865     \}
2866     \textcolor{keyword}{const} \textcolor{keywordtype}{bool} removeAllPrevious = reqOptions & \hyperlink{classOkular_1_1Document_a34c1f67c024cfbdd46379c5fac3674d7a3e895c552ec2119c4a743aaefa3d00af}{RemoveAllPrevious};
2867     d->\hyperlink{classOkular_1_1DocumentPrivate_a5c0e919d575a7a3c19a42c64a672fce4}{m\_pixmapRequestsMutex}.lock();
2868     \hyperlink{classQLinkedList}{QLinkedList< PixmapRequest * >::iterator} sIt = d->
      \hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.begin(), sEnd = d->
      \hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.end();
2869     \textcolor{keywordflow}{while} ( sIt != sEnd )
2870     \{
2871         \textcolor{keywordflow}{if} ( (*sIt)->observer() == requesterObserver
2872              && ( removeAllPrevious || requestedPages.contains( (*sIt)->pageNumber() ) ) )
2873         \{
2874             \textcolor{comment}{// delete request and remove it from stack}
2875             \textcolor{keyword}{delete} *sIt;
2876             sIt = d->\hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.erase( sIt );
2877         \}
2878         \textcolor{keywordflow}{else}
2879             ++sIt;
2880     \}
2881 
2882     \textcolor{comment}{// 2. [ADD TO STACK] add requests to stack}
2883     \hyperlink{classQLinkedList}{QLinkedList< PixmapRequest * >::const\_iterator} rIt = 
      requests.constBegin(), rEnd = requests.constEnd();
2884     \textcolor{keywordflow}{for} ( ; rIt != rEnd; ++rIt )
2885     \{
2886         \textcolor{comment}{// set the 'page field' (see PixmapRequest) and check if it is valid}
2887         \hyperlink{classOkular_1_1PixmapRequest}{PixmapRequest} * request = *rIt;
2888         kDebug(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}).nospace() << \textcolor{stringliteral}{"request observer="} << request->
      \hyperlink{classOkular_1_1PixmapRequest_af7abb325ca484ded40c556cf0ad5b793}{observer}() << \textcolor{stringliteral}{" "} <<request->\hyperlink{classOkular_1_1PixmapRequest_a3e82f09b91a52efed7435eeb9903e5fc}{width}() << \textcolor{stringliteral}{"x"} << request->\hyperlink{classOkular_1_1PixmapRequest_a782392a2efc6303994c7e0158c76ee06}{height}() << \textcolor{stringliteral}{"@"} << request->
      \hyperlink{classOkular_1_1PixmapRequest_a50f959175182137dbb9e2dbd6ddd71aa}{pageNumber}();
2889         \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.value( request->\hyperlink{classOkular_1_1PixmapRequest_a50f959175182137dbb9e2dbd6ddd71aa}{pageNumber}() ) == 0 )
2890         \{
2891             \textcolor{comment}{// skip requests referencing an invalid page (must not happen)}
2892             \textcolor{keyword}{delete} request;
2893             \textcolor{keywordflow}{continue};
2894         \}
2895 
2896         request->d->\hyperlink{classOkular_1_1PixmapRequestPrivate_a8de6dea67745c17947f997857c77ed07}{mPage} = d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.value( request->
      \hyperlink{classOkular_1_1PixmapRequest_a50f959175182137dbb9e2dbd6ddd71aa}{pageNumber}() );
2897 
2898         \textcolor{keywordflow}{if} ( request->\hyperlink{classOkular_1_1PixmapRequest_a7e50105623628d53dc9d82c45d7863bd}{isTile}() )
2899         \{
2900             \textcolor{comment}{// Change the current request rect so that only invalid tiles are}
2901             \textcolor{comment}{// requested. Also make sure the rect is tile-aligned.}
2902             \hyperlink{classOkular_1_1NormalizedRect}{NormalizedRect} tilesRect;
2903             \textcolor{keyword}{const} \hyperlink{classQList}{QList<Tile>} tiles = request->d->\hyperlink{classOkular_1_1PixmapRequestPrivate_a1765ff434c6bd718628d02bbca3cb271}{tilesManager}()->
      \hyperlink{classOkular_1_1TilesManager_a11cc64225aa62df9d25e294ce71e4dcf}{tilesAt}( request->\hyperlink{classOkular_1_1PixmapRequest_ab867bc095f18ece11fb14ac0201a227d}{normalizedRect}(), 
      \hyperlink{classOkular_1_1TilesManager_a89f92ae8fdfb530b5625343876f63e29a24b2eb2966bd8c2768047de2d1048d2d}{TilesManager::TerminalTile} );
2904             \hyperlink{classQList}{QList<Tile>::const\_iterator} tIt = tiles.constBegin(), tEnd = tiles.
      constEnd();
2905             \textcolor{keywordflow}{while} ( tIt != tEnd )
2906             \{
2907                 \textcolor{keyword}{const} \hyperlink{classOkular_1_1Tile}{Tile} &tile = *tIt;
2908                 \textcolor{keywordflow}{if} ( !tile.\hyperlink{classOkular_1_1Tile_a45926c52fd6e31590fb2c7b293d3b59f}{isValid}() )
2909                 \{
2910                     \textcolor{keywordflow}{if} ( tilesRect.\hyperlink{classOkular_1_1NormalizedRect_a8f9a332a6247f4716d23513af00ac045}{isNull}() )
2911                         tilesRect = tile.\hyperlink{classOkular_1_1Tile_af98992ebbaa390a12a942bff6c246fca}{rect}();
2912                     \textcolor{keywordflow}{else}
2913                         tilesRect |= tile.\hyperlink{classOkular_1_1Tile_af98992ebbaa390a12a942bff6c246fca}{rect}();
2914                 \}
2915 
2916                 tIt++;
2917             \}
2918 
2919             request->\hyperlink{classOkular_1_1PixmapRequest_ada39238e8f4748b0c65dd97a3abcda77}{setNormalizedRect}( tilesRect );
2920         \}
2921 
2922         \textcolor{keywordflow}{if} ( !request->\hyperlink{classOkular_1_1PixmapRequest_a11fee76ef3da1589a28d455519c946a7}{asynchronous}() )
2923             request->d->\hyperlink{classOkular_1_1PixmapRequestPrivate_a9d9712057a03c6148d820d57b6840d4a}{mPriority} = 0;
2924 
2925         \textcolor{comment}{// add request to the 'stack' at the right place}
2926         if ( !request->\hyperlink{classOkular_1_1PixmapRequest_ae6ea9158b7d643d3ace82da2e7231473}{priority}() )
2927             \textcolor{comment}{// add priority zero requests to the top of the stack}
2928             d->\hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.append( request );
2929         \textcolor{keywordflow}{else}
2930         \{
2931             \textcolor{comment}{// insert in stack sorted by priority}
2932             sIt = d->\hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.begin();
2933             sEnd = d->\hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.end();
2934             \textcolor{keywordflow}{while} ( sIt != sEnd && (*sIt)->priority() > request->\hyperlink{classOkular_1_1PixmapRequest_ae6ea9158b7d643d3ace82da2e7231473}{priority}() )
2935                 ++sIt;
2936             d->\hyperlink{classOkular_1_1DocumentPrivate_af903e531960617af53b4bc79b3a95efa}{m\_pixmapRequestsStack}.insert( sIt, request );
2937         \}
2938     \}
2939     d->\hyperlink{classOkular_1_1DocumentPrivate_a5c0e919d575a7a3c19a42c64a672fce4}{m\_pixmapRequestsMutex}.unlock();
2940 
2941     \textcolor{comment}{// 3. [START FIRST GENERATION] if <NO>generator is ready, start a new generation,}
2942     \textcolor{comment}{// or else (if gen is running) it will be started when the new contents will}
2943     \textcolor{comment}{//come from generator (in requestDone())</NO>}
2944     \textcolor{comment}{// all handling of requests put into sendGeneratorPixmapRequest}
2945     \textcolor{comment}{//    if ( generator->canRequestPixmap() )}
2946         d->\hyperlink{classOkular_1_1DocumentPrivate_a0b3b0924831ddf8b6b68bd74a9d6f162}{sendGeneratorPixmapRequest}();
2947 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_ad4909d8411d3ad8faf716f30a6e9f417}{\index{Okular\+::\+Document@{Okular\+::\+Document}!request\+Text\+Page@{request\+Text\+Page}}
\index{request\+Text\+Page@{request\+Text\+Page}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{request\+Text\+Page}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::request\+Text\+Page (
\begin{DoxyParamCaption}
\item[{uint}]{number}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_ad4909d8411d3ad8faf716f30a6e9f417}
Sends a request for text page generation for the given page {\ttfamily number}. 

Definition at line 2949 of file document.\+cpp.


\begin{DoxyCode}
2950 \{
2951     \hyperlink{classOkular_1_1Page}{Page} * kp = d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}[ \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page} ];
2952     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} || !kp )
2953         \textcolor{keywordflow}{return};
2954 
2955     \textcolor{comment}{// Memory management for TextPages}
2956 
2957     d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_a1e2d8c81ac97ec012098c09047d2ddef}{generateTextPage}( kp );
2958 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a9a6bfbdfcf7a07fcf3b2624fdea81126}{\index{Okular\+::\+Document@{Okular\+::\+Document}!reset\+Search@{reset\+Search}}
\index{reset\+Search@{reset\+Search}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{reset\+Search}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::reset\+Search (
\begin{DoxyParamCaption}
\item[{int}]{search\+I\+D}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a9a6bfbdfcf7a07fcf3b2624fdea81126}
Resets the search for the given {\ttfamily search\+I\+D}. 

Definition at line 3452 of file document.\+cpp.


\begin{DoxyCode}
3453 \{
3454     \textcolor{comment}{// if we are closing down, don't bother doing anything}
3455     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
3456         \textcolor{keywordflow}{return};
3457 
3458     \textcolor{comment}{// check if searchID is present in runningSearches}
3459     \hyperlink{classQMap}{QMap< int, RunningSearch * >::iterator} searchIt = d->
      \hyperlink{classOkular_1_1DocumentPrivate_a42420dd45075092b921a829b8e9f2214}{m\_searches}.find( searchID );
3460     \textcolor{keywordflow}{if} ( searchIt == d->\hyperlink{classOkular_1_1DocumentPrivate_a42420dd45075092b921a829b8e9f2214}{m\_searches}.end() )
3461         \textcolor{keywordflow}{return};
3462 
3463     \textcolor{comment}{// get previous parameters for search}
3464     \hyperlink{structRunningSearch}{RunningSearch} * s = *searchIt;
3465 
3466     \textcolor{comment}{// unhighlight pages and inform observers about that}
3467     \textcolor{keywordflow}{foreach}(\textcolor{keywordtype}{int} pageNumber, s->\hyperlink{structRunningSearch_a5827c4228354199d0a4447dca7f19fb1}{highlightedPages})
3468     \{
3469         d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.at(pageNumber)->d->deleteHighlights( searchID );
3470         \hyperlink{core_2document_8cpp_a67e536532b9ae1f36450a4ebff082fea}{foreachObserver}( notifyPageChanged( pageNumber, 
      \hyperlink{classOkular_1_1DocumentObserver_af0e6b09d5fc7ecb673bd4895ef2710dcac6ac9d40408f28401cdde8b2e57c3afc}{DocumentObserver::Highlights} ) );
3471     \}
3472 
3473     \textcolor{comment}{// send the setup signal too (to update views that filter on matches)}
3474     \hyperlink{core_2document_8cpp_a67e536532b9ae1f36450a4ebff082fea}{foreachObserver}( notifySetup( d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}, 0 ) );
3475 
3476     \textcolor{comment}{// remove serch from the runningSearches list and delete it}
3477     d->\hyperlink{classOkular_1_1DocumentPrivate_a42420dd45075092b921a829b8e9f2214}{m\_searches}.erase( searchIt );
3478     \textcolor{keyword}{delete} s;
3479 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_aa419f95f101b5672926c7cd4485f12e6}{\index{Okular\+::\+Document@{Okular\+::\+Document}!rotation@{rotation}}
\index{rotation@{rotation}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{rotation}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Rotation} Document\+::rotation (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_aa419f95f101b5672926c7cd4485f12e6}
Returns the current rotation of the document. 

Definition at line 2802 of file document.\+cpp.


\begin{DoxyCode}
2803 \{
2804     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a5b7f4c2b5937d311b277c2e90826ee1b}{m\_rotation};
2805 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_ac3e0b31133ab8ef36bb95038c8f93380}{\index{Okular\+::\+Document@{Okular\+::\+Document}!save\+Changes@{save\+Changes}}
\index{save\+Changes@{save\+Changes}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{save\+Changes}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::save\+Changes (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{file\+Name}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_ac3e0b31133ab8ef36bb95038c8f93380}
Save the document and the optional changes to it to the specified {\ttfamily file\+Name}.

\begin{DoxySince}{Since}
0.\+7 (K\+D\+E 4.\+1) 
\end{DoxySince}


Definition at line 4072 of file document.\+cpp.


\begin{DoxyCode}
4073 \{
4074     QString errorText;
4075     \textcolor{keywordflow}{return} \hyperlink{classOkular_1_1Document_ac3e0b31133ab8ef36bb95038c8f93380}{saveChanges}( fileName, &errorText );
4076 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a1440b26721585658914765294039f350}{\index{Okular\+::\+Document@{Okular\+::\+Document}!save\+Changes@{save\+Changes}}
\index{save\+Changes@{save\+Changes}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{save\+Changes}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::save\+Changes (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{file\+Name, }
\item[{Q\+String $\ast$}]{error\+Text}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a1440b26721585658914765294039f350}
Save the document and the optional changes to it to the specified {\ttfamily file\+Name} and returns a {\ttfamily error\+Text} if fails.

\begin{DoxySince}{Since}
0.\+10 (K\+D\+E 4.\+4) 
\end{DoxySince}


Definition at line 4078 of file document.\+cpp.


\begin{DoxyCode}
4079 \{
4080     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} || fileName.isEmpty() )
4081         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4082     Q\_ASSERT( !d->\hyperlink{classOkular_1_1DocumentPrivate_a4f02c151d836f43f47a6eeb614b25bf0}{m\_generatorName}.isEmpty() );
4083 
4084     QHash< QString, GeneratorInfo >::iterator genIt = d->\hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.find( d->
      \hyperlink{classOkular_1_1DocumentPrivate_a4f02c151d836f43f47a6eeb614b25bf0}{m\_generatorName} );
4085     Q\_ASSERT( genIt != d->\hyperlink{classOkular_1_1DocumentPrivate_a449d3ae52e95d649dba62225f20a4195}{m\_loadedGenerators}.end() );
4086     \hyperlink{classOkular_1_1SaveInterface}{SaveInterface}* saveIface = d->\hyperlink{classOkular_1_1DocumentPrivate_a5f41002e3d3c2951033ae41e3443675b}{generatorSave}( genIt.value() );
4087     \textcolor{keywordflow}{if} ( !saveIface || !saveIface->supportsOption( \hyperlink{classOkular_1_1SaveInterface_ada9624051ff917ec66ca12b6d6684399a595c02ea3ea3f3c841cdf3b7a0824d68}{SaveInterface::SaveChanges} ) )
4088         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4089 
4090     \textcolor{keywordflow}{return} saveIface->\hyperlink{classOkular_1_1SaveInterface_a5a417719832a6c6fc245e305b6b64268}{save}( fileName, \hyperlink{classOkular_1_1SaveInterface_ada9624051ff917ec66ca12b6d6684399a595c02ea3ea3f3c841cdf3b7a0824d68}{SaveInterface::SaveChanges}, errorText )
      ;
4091 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_aa5e6cbdeb702f6671847ca94b63a277a}{\index{Okular\+::\+Document@{Okular\+::\+Document}!save\+Document\+Archive@{save\+Document\+Archive}}
\index{save\+Document\+Archive@{save\+Document\+Archive}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{save\+Document\+Archive}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::save\+Document\+Archive (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{file\+Name}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_aa5e6cbdeb702f6671847ca94b63a277a}
Saves a document archive.

\begin{DoxySince}{Since}
0.\+8 (K\+D\+E 4.\+2) 
\end{DoxySince}


Definition at line 4233 of file document.\+cpp.


\begin{DoxyCode}
4234 \{
4235     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} )
4236         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4237 
4238     \textcolor{comment}{/* If we opened an archive, use the name of original file (eg foo.pdf)}
4239 \textcolor{comment}{     * instead of the archive's one (eg foo.okular) */}
4240     QString docFileName = d->\hyperlink{classOkular_1_1DocumentPrivate_a135bb6fa2886b0eb86e9a1b72fd8d25b}{m\_archiveData} ? d->\hyperlink{classOkular_1_1DocumentPrivate_ac47be11934cb0cb3e7d8876e3e4653af}{m\_archivedFileName} : d->
      \hyperlink{classOkular_1_1DocumentPrivate_a1a0145bbb16d15c016000a83d0d2ab2b}{m\_url}.fileName();
4241     \textcolor{keywordflow}{if} ( docFileName == QLatin1String( \textcolor{stringliteral}{"-"} ) )
4242         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4243 
4244     QString docPath = d->\hyperlink{classOkular_1_1DocumentPrivate_af56dcee87c3465c69da7cea920b95fbb}{m\_docFileName};
4245     \textcolor{keyword}{const} QFileInfo fi( docPath );
4246     \textcolor{keywordflow}{if} ( fi.isSymLink() )
4247         docPath = fi.symLinkTarget();
4248 
4249     KZip okularArchive( fileName );
4250     \textcolor{keywordflow}{if} ( !okularArchive.open( QIODevice::WriteOnly ) )
4251         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4252 
4253     \textcolor{keyword}{const} KUser user;
4254 \textcolor{preprocessor}{#ifndef Q\_OS\_WIN}
4255     \textcolor{keyword}{const} KUserGroup userGroup( user.gid() );
4256 \textcolor{preprocessor}{#else}
4257     \textcolor{keyword}{const} KUserGroup userGroup( QString( \textcolor{stringliteral}{""} ) );
4258 \textcolor{preprocessor}{#endif}
4259 
4260     QDomDocument contentDoc( \textcolor{stringliteral}{"OkularArchive"} );
4261     QDomProcessingInstruction xmlPi = contentDoc.createProcessingInstruction(
4262             QString::fromLatin1( \textcolor{stringliteral}{"xml"} ), QString::fromLatin1( \textcolor{stringliteral}{"version=\(\backslash\)"1.0\(\backslash\)" encoding=\(\backslash\)"utf-8\(\backslash\)""} ) );
4263     contentDoc.appendChild( xmlPi );
4264     QDomElement root = contentDoc.createElement( \textcolor{stringliteral}{"OkularArchive"} );
4265     contentDoc.appendChild( root );
4266 
4267     QDomElement filesNode = contentDoc.createElement( \textcolor{stringliteral}{"Files"} );
4268     root.appendChild( filesNode );
4269 
4270     QDomElement fileNameNode = contentDoc.createElement( \textcolor{stringliteral}{"DocumentFileName"} );
4271     filesNode.appendChild( fileNameNode );
4272     fileNameNode.appendChild( contentDoc.createTextNode( docFileName ) );
4273 
4274     QDomElement metadataFileNameNode = contentDoc.createElement( \textcolor{stringliteral}{"MetadataFileName"} );
4275     filesNode.appendChild( metadataFileNameNode );
4276     metadataFileNameNode.appendChild( contentDoc.createTextNode( \textcolor{stringliteral}{"metadata.xml"} ) );
4277 
4278     \textcolor{comment}{// If the generator can save annotations natively, do it}
4279     KTemporaryFile modifiedFile;
4280     \textcolor{keywordtype}{bool} annotationsSavedNatively = \textcolor{keyword}{false};
4281     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_ac0e0b9633df5fbd632e9ffa865b0f04b}{canAddAnnotationsNatively}() )
4282     \{
4283         \textcolor{keywordflow}{if} ( !modifiedFile.open() )
4284             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4285 
4286         modifiedFile.close(); \textcolor{comment}{// We're only interested in the file name}
4287 
4288         QString errorText;
4289         \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1Document_ac3e0b31133ab8ef36bb95038c8f93380}{saveChanges}( modifiedFile.fileName(), &errorText ) )
4290         \{
4291             docPath = modifiedFile.fileName(); \textcolor{comment}{// Save this instead of the original file}
4292             annotationsSavedNatively = \textcolor{keyword}{true};
4293         \}
4294         \textcolor{keywordflow}{else}
4295         \{
4296             kWarning(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}) << \textcolor{stringliteral}{"saveChanges failed: "} << errorText;
4297             kDebug(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}) << \textcolor{stringliteral}{"Falling back to saving a copy of the original file"};
4298         \}
4299     \}
4300 
4301     KTemporaryFile metadataFile;
4302     PageItems saveWhat = annotationsSavedNatively ? \hyperlink{namespaceOkular_ad8955fd515cc3f63a14cdff6723e6c1ba6969c0e2e87cc779dae8be495740eda6}{None} : 
      \hyperlink{namespaceOkular_ad8955fd515cc3f63a14cdff6723e6c1bae381057ad4a79c350a0d4a9aaaaa995b}{AnnotationPageItems};
4303     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a7d06a43560a005a4a4a98ab1dafda83f}{savePageDocumentInfo}( &metadataFile, saveWhat ) )
4304         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4305 
4306     \textcolor{keyword}{const} QByteArray contentDocXml = contentDoc.toByteArray();
4307     okularArchive.writeFile( \textcolor{stringliteral}{"content.xml"}, user.loginName(), userGroup.name(),
4308                              contentDocXml.constData(), contentDocXml.length() );
4309 
4310     okularArchive.addLocalFile( docPath, docFileName );
4311     okularArchive.addLocalFile( metadataFile.fileName(), \textcolor{stringliteral}{"metadata.xml"} );
4312 
4313     \textcolor{keywordflow}{if} ( !okularArchive.close() )
4314         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
4315 
4316     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
4317 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_ae938c994d20bdfef40caa3d37d28d92d}{\index{Okular\+::\+Document@{Okular\+::\+Document}!search\+Finished@{search\+Finished}}
\index{search\+Finished@{search\+Finished}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{search\+Finished}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::search\+Finished (
\begin{DoxyParamCaption}
\item[{int}]{id, }
\item[{{\bf Okular\+::\+Document\+::\+Search\+Status}}]{end\+Status}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_ae938c994d20bdfef40caa3d37d28d92d}
Reports that the current search finished \hypertarget{classOkular_1_1Document_a9da5fe32531f4ab8b515ed553092421f}{\index{Okular\+::\+Document@{Okular\+::\+Document}!search\+Text@{search\+Text}}
\index{search\+Text@{search\+Text}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{search\+Text}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::search\+Text (
\begin{DoxyParamCaption}
\item[{int}]{search\+I\+D, }
\item[{const Q\+String \&}]{text, }
\item[{bool}]{from\+Start, }
\item[{Qt\+::\+Case\+Sensitivity}]{case\+Sensitivity, }
\item[{{\bf Search\+Type}}]{type, }
\item[{bool}]{move\+Viewport, }
\item[{const Q\+Color \&}]{color, }
\item[{bool}]{no\+Dialogs = {\ttfamily false}}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a9da5fe32531f4ab8b515ed553092421f}
Searches the given {\ttfamily text} in the document.


\begin{DoxyParams}{Parameters}
{\em search\+I\+D} & The unique id for this search request. \\
\hline
{\em from\+Start} & Whether the search should be started at begin of the document. \\
\hline
{\em case\+Sensitivity} & Whether the search is case sensitive. \\
\hline
{\em type} & The type of the search. \hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bad}{Search\+Type} \\
\hline
{\em move\+Viewport} & Whether the viewport shall be moved to the position of the matches. \\
\hline
{\em color} & The highlighting color of the matches. \\
\hline
{\em no\+Dialogs} & Whether a search dialog shall be shown. \\
\hline
\end{DoxyParams}


Definition at line 3288 of file document.\+cpp.


\begin{DoxyCode}
3290 \{
3291     d->\hyperlink{classOkular_1_1DocumentPrivate_ad852d630ad63f8fd4ce1b2cc93179c91}{m\_searchCancelled} = \textcolor{keyword}{false};
3292 
3293     \textcolor{comment}{// safety checks: don't perform searches on empty or unsearchable docs}
3294     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} || !d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_aacad530ef4f0c31a4addc89eb85ec8da}{hasFeature}( 
      \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a1bf7de5d98ec0333e392ce7f004d6578}{Generator::TextExtraction} ) || d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.isEmpty() )
3295     \{
3296         emit \hyperlink{classOkular_1_1Document_ae938c994d20bdfef40caa3d37d28d92d}{searchFinished}( searchID, \hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbba6f1e44c2a23dde543d40770f949a2882}{NoMatchFound} );
3297         \textcolor{keywordflow}{return};
3298     \}
3299 
3300     \textcolor{keywordflow}{if} ( !noDialogs )
3301     \{
3302 \textcolor{preprocessor}{#if 0}
3303         KDialog *searchDialog = \textcolor{keyword}{new} KDialog(\hyperlink{classOkular_1_1Document_aef26598eca4c2fe772cc77d7730a9e8b}{widget}());
3304         searchDialog->setCaption( i18n(\textcolor{stringliteral}{"Search in progress..."}) );
3305         searchDialog->setButtons( KDialog::Cancel );
3306         QLabel *searchLabel = \textcolor{keyword}{new} QLabel(i18n(\textcolor{stringliteral}{"Searching for %1"}, text), searchDialog);
3307         searchDialog->setMainWidget( searchLabel );
3308 
3309         QTimer::singleShot(500, searchDialog, SLOT(show()));
3310         connect(\textcolor{keyword}{this}, SIGNAL(\hyperlink{classOkular_1_1Document_ae938c994d20bdfef40caa3d37d28d92d}{searchFinished}(\textcolor{keywordtype}{int},
      \hyperlink{classOkular_1_1Document_aa9c2934f6abce7b0440ec74bb56eefbb}{Okular::Document::SearchStatus})), searchDialog, SLOT(deleteLater()));
3311         connect(searchDialog, SIGNAL(finished()), \textcolor{keyword}{this}, SLOT(\hyperlink{classOkular_1_1Document_a1f2fa321ed9357c5110b78a0c2502a8d}{cancelSearch}()));
3312 \textcolor{preprocessor}{#endif}
3313     \}
3314 
3315     \textcolor{comment}{// if searchID search not recorded, create new descriptor and init params}
3316     \hyperlink{classQMap}{QMap< int, RunningSearch * >::iterator} searchIt = d->
      \hyperlink{classOkular_1_1DocumentPrivate_a42420dd45075092b921a829b8e9f2214}{m\_searches}.find( searchID );
3317     \textcolor{keywordflow}{if} ( searchIt == d->\hyperlink{classOkular_1_1DocumentPrivate_a42420dd45075092b921a829b8e9f2214}{m\_searches}.end() )
3318     \{
3319         \hyperlink{structRunningSearch}{RunningSearch} * search = \textcolor{keyword}{new} \hyperlink{structRunningSearch}{RunningSearch}();
3320         search->\hyperlink{structRunningSearch_a69213b1663cb154fee0cca4b877c4c05}{continueOnPage} = -1;
3321         searchIt = d->\hyperlink{classOkular_1_1DocumentPrivate_a42420dd45075092b921a829b8e9f2214}{m\_searches}.insert( searchID, search );
3322     \}
3323     \textcolor{keywordflow}{if} (d->\hyperlink{classOkular_1_1DocumentPrivate_a83278116cf6b0e38d834c8e416e17de6}{m\_lastSearchID} != searchID)
3324     \{
3325         \hyperlink{classOkular_1_1Document_a9a6bfbdfcf7a07fcf3b2624fdea81126}{resetSearch}(d->\hyperlink{classOkular_1_1DocumentPrivate_a83278116cf6b0e38d834c8e416e17de6}{m\_lastSearchID});
3326     \}
3327     d->\hyperlink{classOkular_1_1DocumentPrivate_a83278116cf6b0e38d834c8e416e17de6}{m\_lastSearchID} = searchID;
3328     \hyperlink{structRunningSearch}{RunningSearch} * s = *searchIt;
3329 
3330     \textcolor{comment}{// update search structure}
3331     \textcolor{keywordtype}{bool} newText = text != s->\hyperlink{structRunningSearch_aeed5bd658d162c7650b2e4cb315df054}{cachedString};
3332     s->\hyperlink{structRunningSearch_aeed5bd658d162c7650b2e4cb315df054}{cachedString} = text;
3333     s->\hyperlink{structRunningSearch_a1b4026cf76ef3dce1f2b8b831670d784}{cachedType} = type;
3334     s->\hyperlink{structRunningSearch_a18e388eb59284584e8bd1f514ef7eaf5}{cachedCaseSensitivity} = caseSensitivity;
3335     s->\hyperlink{structRunningSearch_a82fb2c89035371061b259d4f1b62ff35}{cachedViewportMove} = moveViewport;
3336     s->\hyperlink{structRunningSearch_a407eed15ba7e4e73db19b37bda4cf4c1}{cachedNoDialogs} = noDialogs;
3337     s->\hyperlink{structRunningSearch_ab49ca5b36bab91976e99620b0701fffe}{cachedColor} = color;
3338     s->\hyperlink{structRunningSearch_a2683a901cf457f541ca4662294e02cec}{isCurrentlySearching} = \textcolor{keyword}{true};
3339 
3340     \textcolor{comment}{// global data for search}
3341     QSet< int > *pagesToNotify = \textcolor{keyword}{new} QSet< int >;
3342 
3343     \textcolor{comment}{// remove highlights from pages and queue them for notifying changes}
3344     *pagesToNotify += s->\hyperlink{structRunningSearch_a5827c4228354199d0a4447dca7f19fb1}{highlightedPages};
3345     \textcolor{keywordflow}{foreach}(\textcolor{keywordtype}{int} pageNumber, s->\hyperlink{structRunningSearch_a5827c4228354199d0a4447dca7f19fb1}{highlightedPages})
3346         d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.at(pageNumber)->d->deleteHighlights( searchID );
3347     s->\hyperlink{structRunningSearch_a5827c4228354199d0a4447dca7f19fb1}{highlightedPages}.clear();
3348 
3349     \textcolor{comment}{// set hourglass cursor}
3350     QApplication::setOverrideCursor( Qt::WaitCursor );
3351 
3352     \textcolor{comment}{// 1. ALLDOC - proces all document marking pages}
3353     \textcolor{keywordflow}{if} ( type == \hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada3b5d0384aa5f19eb1336ffbecfd20131}{AllDocument} )
3354     \{
3355         \hyperlink{classQMap}{QMap< Page *, QVector<RegularAreaRect *>} > *pageMatches = \textcolor{keyword}{
      new} \hyperlink{classQMap}{QMap< Page *, QVector<RegularAreaRect *>} >;
3356 
3357         \textcolor{comment}{// search and highlight 'text' (as a solid phrase) on all pages}
3358         QMetaObject::invokeMethod(\textcolor{keyword}{this}, \textcolor{stringliteral}{"doContinueAllDocumentSearch"}, Qt::QueuedConnection, Q\_ARG(\textcolor{keywordtype}{void} *, 
      pagesToNotify), Q\_ARG(\textcolor{keywordtype}{void} *, pageMatches), Q\_ARG(\textcolor{keywordtype}{int}, 0), Q\_ARG(\textcolor{keywordtype}{int}, searchID), Q\_ARG(QString, text), Q\_ARG
      (\textcolor{keywordtype}{int}, caseSensitivity), Q\_ARG(QColor, color));
3359     \}
3360     \textcolor{comment}{// 2. NEXTMATCH - find next matching item (or start from top)}
3361     \textcolor{comment}{// 3. PREVMATCH - find previous matching item (or start from bottom)}
3362     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( type == \hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7badab071628bda8b6bfb432ceae4eaca8792}{NextMatch} || type == \hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada092b092af6301535f9e11921195c1e14}{PreviousMatch} )
3363     \{
3364         \textcolor{comment}{// find out from where to start/resume search from}
3365         \textcolor{keyword}{const} \textcolor{keywordtype}{bool} forward = type == \hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7badab071628bda8b6bfb432ceae4eaca8792}{NextMatch};
3366         \textcolor{keyword}{const} \textcolor{keywordtype}{int} viewportPage = (*d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator}).pageNumber;
3367         \textcolor{keyword}{const} \textcolor{keywordtype}{int} fromStartSearchPage = forward ? 0 : d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.count() - 1;
3368         \textcolor{keywordtype}{int} \hyperlink{classOkular_1_1Document_a42ec374d73794bf56d7e7b11f1f56319}{currentPage} = fromStart ? fromStartSearchPage : ((s->
      \hyperlink{structRunningSearch_a69213b1663cb154fee0cca4b877c4c05}{continueOnPage} != -1) ? s->\hyperlink{structRunningSearch_a69213b1663cb154fee0cca4b877c4c05}{continueOnPage} : viewportPage);
3369         \hyperlink{classOkular_1_1Page}{Page} * lastPage = fromStart ? 0 : d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}[ 
      \hyperlink{classOkular_1_1Document_a42ec374d73794bf56d7e7b11f1f56319}{currentPage} ];
3370         \textcolor{keywordtype}{int} pagesDone = 0;
3371 
3372         \textcolor{comment}{// continue checking last TextPage first (if it is the current page)}
3373         \hyperlink{classOkular_1_1RegularAreaRect}{RegularAreaRect} * match = 0;
3374         \textcolor{keywordflow}{if} ( lastPage && lastPage->\hyperlink{classOkular_1_1Page_a6eee5f157a130b47d81ddd63e501664b}{number}() == s->\hyperlink{structRunningSearch_a69213b1663cb154fee0cca4b877c4c05}{continueOnPage} )
3375         \{
3376             \textcolor{keywordflow}{if} ( newText )
3377                 match = lastPage->\hyperlink{classOkular_1_1Page_a02f1143ff5c69b04f4b514c04566864f}{findText}( searchID, text, forward ? 
      \hyperlink{namespaceOkular_ad7ede3c5a1b1a8bfd83f133e7e3ed9d2a12e1e0d5fba44b6eb075863eb0992cf6}{FromTop} : \hyperlink{namespaceOkular_ad7ede3c5a1b1a8bfd83f133e7e3ed9d2a1a146d4130e3d6f0ad12fd5ee6fc3497}{FromBottom}, caseSensitivity );
3378             \textcolor{keywordflow}{else}
3379                 match = lastPage->\hyperlink{classOkular_1_1Page_a02f1143ff5c69b04f4b514c04566864f}{findText}( searchID, text, forward ? 
      \hyperlink{namespaceOkular_ad7ede3c5a1b1a8bfd83f133e7e3ed9d2ae206453ab991a0ffea7c198f8ef600c4}{NextResult} : \hyperlink{namespaceOkular_ad7ede3c5a1b1a8bfd83f133e7e3ed9d2ad604ce7efcb1e2987d9503404f34a504}{PreviousResult}, caseSensitivity, &s->
      \hyperlink{structRunningSearch_acd3938eb8c9ccc97de83af80d68e55bf}{continueOnMatch} );
3380             \textcolor{keywordflow}{if} ( !match )
3381             \{
3382                 \textcolor{keywordflow}{if} (forward) currentPage++;
3383                 \textcolor{keywordflow}{else} currentPage--;
3384                 pagesDone++;
3385             \}
3386         \}
3387 
3388         \hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct}{DoContinueDirectionMatchSearchStruct} *searchStruct = \textcolor{keyword}{new} 
      \hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct}{DoContinueDirectionMatchSearchStruct}();
3389         searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_ac33cf94809ed8498fc706efacd1cc79e}{forward} = forward;
3390         searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a27dfab7440a3e4889b39307626a6aa7a}{pagesToNotify} = pagesToNotify;
3391         searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a549890917311bf7520a62da5c6bf0861}{match} = match;
3392         searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a52b83c7586463bfa968075de2d131250}{currentPage} = \hyperlink{classOkular_1_1Document_a42ec374d73794bf56d7e7b11f1f56319}{currentPage};
3393         searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a311791184c19130a099f65f84384db6e}{searchID} = searchID;
3394         searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a69c1b9beb5762d997a0dfeff5c714239}{text} = text;
3395         searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_afe83f59649cbdbac5029e6f37c6840f5}{caseSensitivity} = caseSensitivity;
3396         searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a071c07e92481fedb9f382ae2e8935be9}{moveViewport} = moveViewport;
3397         searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_ae80b5fde810c935ec5436acc3821a485}{color} = color;
3398         searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a3092dffdbf938354e545665e1d6b575d}{noDialogs} = noDialogs;
3399         searchStruct->\hyperlink{structOkular_1_1DoContinueDirectionMatchSearchStruct_a0fe5f9b4cf4ef21a355f87a180fae56f}{pagesDone} = pagesDone;
3400 
3401         QMetaObject::invokeMethod(\textcolor{keyword}{this}, \textcolor{stringliteral}{"doContinueDirectionMatchSearch"}, Qt::QueuedConnection, Q\_ARG(\textcolor{keywordtype}{void} 
      *, searchStruct));
3402     \}
3403     \textcolor{comment}{// 4. GOOGLE* - process all document marking pages}
3404     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( type == \hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada6f81a31b92307bd8a97aca7c109b3239}{GoogleAll} || type == \hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada1ec423a1f00db8dbfd842b8d6c1f3d7f}{GoogleAny} )
3405     \{
3406         \textcolor{keywordtype}{bool} matchAll = type == \hyperlink{classOkular_1_1Document_af4b4b32563d6013d6da10be1667a7bada6f81a31b92307bd8a97aca7c109b3239}{GoogleAll};
3407 
3408         \hyperlink{classQMap}{QMap< Page *, QVector< QPair<RegularAreaRect *, QColor>}
       > > *pageMatches = \textcolor{keyword}{new} \hyperlink{classQMap}{QMap< Page *, QVector<QPair<RegularAreaRect *, QColor>}
       > >;
3409         \textcolor{keyword}{const} QStringList words = text.split( \textcolor{charliteral}{' '}, QString::SkipEmptyParts );
3410 
3411         \textcolor{comment}{// search and highlight every word in 'text' on all pages}
3412         QMetaObject::invokeMethod(\textcolor{keyword}{this}, \textcolor{stringliteral}{"doContinueGooglesDocumentSearch"}, Qt::QueuedConnection, Q\_ARG(\textcolor{keywordtype}{void}
       *, pagesToNotify), Q\_ARG(\textcolor{keywordtype}{void} *, pageMatches), Q\_ARG(\textcolor{keywordtype}{int}, 0), Q\_ARG(\textcolor{keywordtype}{int}, searchID), Q\_ARG(QStringList, 
      words), Q\_ARG(\textcolor{keywordtype}{int}, caseSensitivity), Q\_ARG(QColor, color), Q\_ARG(\textcolor{keywordtype}{bool}, matchAll));
3413     \}
3414 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a064fa5a01f9597ef38858744ea17001b}{\index{Okular\+::\+Document@{Okular\+::\+Document}!set\+Annotation\+Editing\+Enabled@{set\+Annotation\+Editing\+Enabled}}
\index{set\+Annotation\+Editing\+Enabled@{set\+Annotation\+Editing\+Enabled}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{set\+Annotation\+Editing\+Enabled}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::set\+Annotation\+Editing\+Enabled (
\begin{DoxyParamCaption}
\item[{bool}]{enable}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a064fa5a01f9597ef38858744ea17001b}
Control annotation editing (creation, modification and removal), which is enabled by default.

\begin{DoxySince}{Since}
0.\+15 (K\+D\+E 4.\+9) 
\end{DoxySince}


Definition at line 4341 of file document.\+cpp.


\begin{DoxyCode}
4342 \{
4343     d->\hyperlink{classOkular_1_1DocumentPrivate_a700587218254ae03f4ade5fee8ff487c}{m\_annotationEditingEnabled} = enable;
4344     \hyperlink{core_2document_8cpp_a67e536532b9ae1f36450a4ebff082fea}{foreachObserver}( notifySetup( d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}, 0 ) );
4345 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a96c5a2356ab9416499e2a757ab41aa83}{\index{Okular\+::\+Document@{Okular\+::\+Document}!set\+Next\+Document\+Destination@{set\+Next\+Document\+Destination}}
\index{set\+Next\+Document\+Destination@{set\+Next\+Document\+Destination}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{set\+Next\+Document\+Destination}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::set\+Next\+Document\+Destination (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{named\+Destination}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a96c5a2356ab9416499e2a757ab41aa83}
Sets the next {\ttfamily named\+Destination} in the viewport history.

\begin{DoxySince}{Since}
0.\+9 (K\+D\+E 4.\+3) 
\end{DoxySince}


Definition at line 3283 of file document.\+cpp.


\begin{DoxyCode}
3284 \{
3285     d->\hyperlink{classOkular_1_1DocumentPrivate_a0c531a03865395da325584dbae6e1efe}{m\_nextDocumentDestination} = namedDestination;
3286 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_ad7014dea947b69fc28637aba4cbc53ae}{\index{Okular\+::\+Document@{Okular\+::\+Document}!set\+Next\+Document\+Viewport@{set\+Next\+Document\+Viewport}}
\index{set\+Next\+Document\+Viewport@{set\+Next\+Document\+Viewport}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{set\+Next\+Document\+Viewport}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::set\+Next\+Document\+Viewport (
\begin{DoxyParamCaption}
\item[{const {\bf Document\+Viewport} \&}]{viewport}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_ad7014dea947b69fc28637aba4cbc53ae}
Sets the next {\ttfamily viewport} in the viewport history. 

Definition at line 3278 of file document.\+cpp.


\begin{DoxyCode}
3279 \{
3280     d->\hyperlink{classOkular_1_1DocumentPrivate_af6aae2128fb788ae1693699506a86c0d}{m\_nextDocumentViewport} = \hyperlink{classOkular_1_1Document_abb8738de0a53aa4a9f552de0e1e749f8}{viewport};
3281 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a47ece85a3cf51760d5f6aa7642a1eeeb}{\index{Okular\+::\+Document@{Okular\+::\+Document}!set\+Next\+Viewport@{set\+Next\+Viewport}}
\index{set\+Next\+Viewport@{set\+Next\+Viewport}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{set\+Next\+Viewport}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::set\+Next\+Viewport (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a47ece85a3cf51760d5f6aa7642a1eeeb}
Sets the current document viewport to the previous viewport in the viewport history. 

Definition at line 3259 of file document.\+cpp.


\begin{DoxyCode}
3261 \{
3262     \hyperlink{classQLinkedList}{QLinkedList< DocumentViewport >::const\_iterator} 
      nextIterator = d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator};
3263     ++nextIterator;
3264     \textcolor{keywordflow}{if} ( nextIterator != d->\hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.end() )
3265     \{
3266         \textcolor{keyword}{const} \textcolor{keywordtype}{int} oldViewportPage = (*d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator}).pageNumber;
3267 
3268         \textcolor{comment}{// restore next viewport and notify it to observers}
3269         ++d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator};
3270         \hyperlink{core_2document_8cpp_a67e536532b9ae1f36450a4ebff082fea}{foreachObserver}( notifyViewportChanged( \textcolor{keyword}{true} ) );
3271 
3272         \textcolor{keyword}{const} \textcolor{keywordtype}{int} currentViewportPage = (*d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator}).pageNumber;
3273         \textcolor{keywordflow}{if} (oldViewportPage != currentViewportPage)
3274             \hyperlink{core_2document_8cpp_a67e536532b9ae1f36450a4ebff082fea}{foreachObserver}( notifyCurrentPageChanged( oldViewportPage, currentViewportPage 
      ) );
3275     \}
3276 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a21c63211b744c1fd6e6357cfa0eda7f7}{\index{Okular\+::\+Document@{Okular\+::\+Document}!set\+Page\+Size@{set\+Page\+Size}}
\index{set\+Page\+Size@{set\+Page\+Size}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{set\+Page\+Size}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::set\+Page\+Size (
\begin{DoxyParamCaption}
\item[{const {\bf Page\+Size} \&}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [slot]}}}\label{classOkular_1_1Document_a21c63211b744c1fd6e6357cfa0eda7f7}
This slot is called whenever the user changes the page {\ttfamily size} of the document. 

Definition at line 4511 of file document.\+cpp.


\begin{DoxyCode}
4512 \{
4513     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} || !d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_aacad530ef4f0c31a4addc89eb85ec8da}{hasFeature}( 
      \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77abfa19304236ae1a57176d413422f1d4c}{Generator::PageSizes} ) )
4514         \textcolor{keywordflow}{return};
4515 
4516     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a71f8c84e54d8cc8a5f3396f18c7dae7a}{m\_pageSizes}.isEmpty() )
4517         d->\hyperlink{classOkular_1_1DocumentPrivate_a71f8c84e54d8cc8a5f3396f18c7dae7a}{m\_pageSizes} = d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_a5693e2448611c1cc68015ec26fb3cd5d}{pageSizes}();
4518     \textcolor{keywordtype}{int} sizeid = d->\hyperlink{classOkular_1_1DocumentPrivate_a71f8c84e54d8cc8a5f3396f18c7dae7a}{m\_pageSizes}.indexOf( size );
4519     \textcolor{keywordflow}{if} ( sizeid == -1 )
4520         \textcolor{keywordflow}{return};
4521 
4522     \textcolor{comment}{// tell the pages to change size}
4523     QVector< Okular::Page * >::const\_iterator pIt = d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.constBegin();
4524     QVector< Okular::Page * >::const\_iterator pEnd = d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.constEnd();
4525     \textcolor{keywordflow}{for} ( ; pIt != pEnd; ++pIt )
4526         (*pIt)->d->changeSize( size );
4527     \textcolor{comment}{// clear 'memory allocation' descriptors}
4528     qDeleteAll( d->\hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps} );
4529     d->\hyperlink{classOkular_1_1DocumentPrivate_a13e55dcfc91cfbe1ff91a55312f3e39f}{m\_allocatedPixmaps}.clear();
4530     d->\hyperlink{classOkular_1_1DocumentPrivate_accbd72ead7fca72852b516f580d2abf1}{m\_allocatedPixmapsTotalMemory} = 0;
4531     \textcolor{comment}{// notify the generator that the current page size has changed}
4532     d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_a0a2b9220edaee0423be1747c830409ca}{pageSizeChanged}( size, d->
      \hyperlink{classOkular_1_1DocumentPrivate_a6c09eaaed5a1d862bb11074347cc102d}{m\_pageSize} );
4533     \textcolor{comment}{// set the new page size}
4534     d->\hyperlink{classOkular_1_1DocumentPrivate_a6c09eaaed5a1d862bb11074347cc102d}{m\_pageSize} = \hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size};
4535 
4536     \hyperlink{core_2document_8cpp_a67e536532b9ae1f36450a4ebff082fea}{foreachObserver}( notifySetup( d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}, 
      \hyperlink{classOkular_1_1DocumentObserver_aba00584af99894f95a9650e91f109d40a053812331fcd35ccec8538c45d209799}{DocumentObserver::NewLayoutForPages} ) );
4537     \hyperlink{core_2document_8cpp_a67e536532b9ae1f36450a4ebff082fea}{foreachObserver}( notifyContentsCleared( 
      \hyperlink{classOkular_1_1DocumentObserver_af0e6b09d5fc7ecb673bd4895ef2710dca3263576701c6ec7dc0a8e8945054db56}{DocumentObserver::Pixmap} | \hyperlink{classOkular_1_1DocumentObserver_af0e6b09d5fc7ecb673bd4895ef2710dcac6ac9d40408f28401cdde8b2e57c3afc}{DocumentObserver::Highlights}
       ) );
4538     kDebug(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}) << \textcolor{stringliteral}{"New PageSize id:"} << sizeid;
4539 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_ade0f70b9e9e3e08647592555f6c58357}{\index{Okular\+::\+Document@{Okular\+::\+Document}!set\+Page\+Text\+Selection@{set\+Page\+Text\+Selection}}
\index{set\+Page\+Text\+Selection@{set\+Page\+Text\+Selection}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{set\+Page\+Text\+Selection}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::set\+Page\+Text\+Selection (
\begin{DoxyParamCaption}
\item[{int}]{page, }
\item[{{\bf Regular\+Area\+Rect} $\ast$}]{rect, }
\item[{const Q\+Color \&}]{color}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_ade0f70b9e9e3e08647592555f6c58357}
Sets the text selection for the given {\ttfamily page}.


\begin{DoxyParams}{Parameters}
{\em rect} & The rectangle of the selection. \\
\hline
{\em color} & The color of the selection. \\
\hline
\end{DoxyParams}


Definition at line 3126 of file document.\+cpp.


\begin{DoxyCode}
3127 \{
3128     \hyperlink{classOkular_1_1Page}{Page} * kp = d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}[ \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page} ];
3129     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} || !kp )
3130         \textcolor{keywordflow}{return};
3131 
3132     \textcolor{comment}{// add or remove the selection basing whether rect is null or not}
3133     \textcolor{keywordflow}{if} ( rect )
3134         kp->d->\hyperlink{classOkular_1_1PagePrivate_a4304509f9d6f948920b327a8e75d1985}{setTextSelections}( rect, color );
3135     \textcolor{keywordflow}{else}
3136         kp->d->\hyperlink{classOkular_1_1PagePrivate_ab500c25ba21b2e1b88d20de10f8acec6}{deleteTextSelections}();
3137 
3138     \textcolor{comment}{// notify observers about the change}
3139     \hyperlink{core_2document_8cpp_a67e536532b9ae1f36450a4ebff082fea}{foreachObserver}( notifyPageChanged( \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page}, 
      \hyperlink{classOkular_1_1DocumentObserver_af0e6b09d5fc7ecb673bd4895ef2710dca2672204cb5baa4e125494d4c2d0d23c0}{DocumentObserver::TextSelection} ) );
3140 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_accbb6fd94e985749d46f47bfcf03f197}{\index{Okular\+::\+Document@{Okular\+::\+Document}!set\+Prev\+Viewport@{set\+Prev\+Viewport}}
\index{set\+Prev\+Viewport@{set\+Prev\+Viewport}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{set\+Prev\+Viewport}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::set\+Prev\+Viewport (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_accbb6fd94e985749d46f47bfcf03f197}
Sets the current document viewport to the next viewport in the viewport history. 

Definition at line 3242 of file document.\+cpp.


\begin{DoxyCode}
3244 \{
3245     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator} != d->\hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.begin() )
3246     \{
3247         \textcolor{keyword}{const} \textcolor{keywordtype}{int} oldViewportPage = (*d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator}).pageNumber;
3248 
3249         \textcolor{comment}{// restore previous viewport and notify it to observers}
3250         --d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator};
3251         \hyperlink{core_2document_8cpp_a67e536532b9ae1f36450a4ebff082fea}{foreachObserver}( notifyViewportChanged( \textcolor{keyword}{true} ) );
3252 
3253         \textcolor{keyword}{const} \textcolor{keywordtype}{int} currentViewportPage = (*d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator}).pageNumber;
3254         \textcolor{keywordflow}{if} (oldViewportPage != currentViewportPage)
3255             \hyperlink{core_2document_8cpp_a67e536532b9ae1f36450a4ebff082fea}{foreachObserver}( notifyCurrentPageChanged( oldViewportPage, currentViewportPage 
      ) );
3256     \}
3257 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a2f2f1091749143d82fd30f1d3d6cef87}{\index{Okular\+::\+Document@{Okular\+::\+Document}!set\+Rotation@{set\+Rotation}}
\index{set\+Rotation@{set\+Rotation}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{set\+Rotation}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::set\+Rotation (
\begin{DoxyParamCaption}
\item[{int}]{rotation}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [slot]}}}\label{classOkular_1_1Document_a2f2f1091749143d82fd30f1d3d6cef87}
This slot is called whenever the user changes the {\ttfamily rotation} of the document. 

Definition at line 4479 of file document.\+cpp.


\begin{DoxyCode}
4480 \{
4481     d->\hyperlink{classOkular_1_1DocumentPrivate_aceccc21fbf3022c439eb011a452a06fa}{setRotationInternal}( r, \textcolor{keyword}{true} );
4482 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a1afaf8b8b5cb1e715949024fb75bb767}{\index{Okular\+::\+Document@{Okular\+::\+Document}!set\+Viewport@{set\+Viewport}}
\index{set\+Viewport@{set\+Viewport}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{set\+Viewport}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::set\+Viewport (
\begin{DoxyParamCaption}
\item[{const {\bf Document\+Viewport} \&}]{viewport, }
\item[{{\bf Document\+Observer} $\ast$}]{exclude\+Observer = {\ttfamily 0}, }
\item[{bool}]{smooth\+Move = {\ttfamily false}}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a1afaf8b8b5cb1e715949024fb75bb767}
Sets the current document viewport to the given {\ttfamily viewport}.


\begin{DoxyParams}{Parameters}
{\em exclude\+Observer} & The observer which shouldn't be effected by this change. \\
\hline
{\em smooth\+Move} & Whether the move shall be animated smoothly. \\
\hline
\end{DoxyParams}


Definition at line 3179 of file document.\+cpp.


\begin{DoxyCode}
3180 \{
3181     \textcolor{keywordflow}{if} ( !viewport.\hyperlink{classOkular_1_1DocumentViewport_a13161b17f2d0b68bf033955f81d41584}{isValid}() )
3182     \{
3183         kDebug(\hyperlink{debug__p_8h_af16c6e32a95969dd0605d792ec9807c7}{OkularDebug}) << \textcolor{stringliteral}{"invalid viewport:"} << viewport.
      \hyperlink{classOkular_1_1DocumentViewport_a77e42e0c9502b91085cd25f845ecafa0}{toString}();
3184         \textcolor{keywordflow}{return};
3185     \}
3186     \textcolor{keywordflow}{if} ( viewport.\hyperlink{classOkular_1_1DocumentViewport_a122674d4a493e79b1aa5fd5c00e81c93}{pageNumber} >= \textcolor{keywordtype}{int}(d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.count()) )
3187     \{
3188         \textcolor{comment}{//kDebug(OkularDebug) << "viewport out of document:" << viewport.toString();}
3189         \textcolor{keywordflow}{return};
3190     \}
3191 
3192     \textcolor{comment}{// if already broadcasted, don't redo it}
3193     \hyperlink{classOkular_1_1DocumentViewport}{DocumentViewport} & oldViewport = *d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator};
3194     \textcolor{comment}{// disabled by enrico on 2005-03-18 (less debug output)}
3195     \textcolor{comment}{//if ( viewport == oldViewport )}
3196     \textcolor{comment}{//    kDebug(OkularDebug) << "setViewport with the same viewport.";}
3197 
3198     \textcolor{keyword}{const} \textcolor{keywordtype}{int} oldPageNumber = oldViewport.\hyperlink{classOkular_1_1DocumentViewport_a122674d4a493e79b1aa5fd5c00e81c93}{pageNumber};
3199 
3200     \textcolor{comment}{// set internal viewport taking care of history}
3201     \textcolor{keywordflow}{if} ( oldViewport.\hyperlink{classOkular_1_1DocumentViewport_a122674d4a493e79b1aa5fd5c00e81c93}{pageNumber} == viewport.\hyperlink{classOkular_1_1DocumentViewport_a122674d4a493e79b1aa5fd5c00e81c93}{pageNumber} || !oldViewport.
      \hyperlink{classOkular_1_1DocumentViewport_a13161b17f2d0b68bf033955f81d41584}{isValid}() )
3202     \{
3203         \textcolor{comment}{// if page is unchanged save the viewport at current position in queue}
3204         oldViewport = \hyperlink{classOkular_1_1Document_abb8738de0a53aa4a9f552de0e1e749f8}{viewport};
3205     \}
3206     \textcolor{keywordflow}{else}
3207     \{
3208         \textcolor{comment}{// remove elements after viewportIterator in queue}
3209         d->\hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.erase( ++d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator}, d->
      \hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.end() );
3210 
3211         \textcolor{comment}{// keep the list to a reasonable size by removing head when needed}
3212         \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.count() >= 
      \hyperlink{core_2document_8cpp_a32c3b6d4fb601cc6674097e59c61654f}{OKULAR\_HISTORY\_MAXSTEPS} )
3213             d->\hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.pop\_front();
3214 
3215         \textcolor{comment}{// add the item at the end of the queue}
3216         d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator} = d->\hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.insert( d->
      \hyperlink{classOkular_1_1DocumentPrivate_a47ead6a6650c01fb91ac512e55320f87}{m\_viewportHistory}.end(), \hyperlink{classOkular_1_1Document_abb8738de0a53aa4a9f552de0e1e749f8}{viewport} );
3217     \}
3218 
3219     \textcolor{keyword}{const} \textcolor{keywordtype}{int} currentViewportPage = (*d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator}).pageNumber;
3220 
3221     \textcolor{keyword}{const} \textcolor{keywordtype}{bool} currentPageChanged = (oldPageNumber != currentViewportPage);
3222 
3223     \textcolor{comment}{// notify change to all other (different from id) observers}
3224     \textcolor{keywordflow}{foreach}(\hyperlink{classOkular_1_1DocumentObserver}{DocumentObserver} *o, d->\hyperlink{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}{m\_observers})
3225     \{
3226         \textcolor{keywordflow}{if} ( o != excludeObserver )
3227             o->\hyperlink{classOkular_1_1DocumentObserver_ac98c9e8b62ec9261ed9c9ea2710849f0}{notifyViewportChanged}( smoothMove );
3228 
3229         \textcolor{keywordflow}{if} ( currentPageChanged )
3230             o->\hyperlink{classOkular_1_1DocumentObserver_ae449ca3f3f8aa7dffab61a6b723a1fd8}{notifyCurrentPageChanged}( oldPageNumber, currentViewportPage );
3231     \}
3232 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_ac3bdbd5137c7fd4d5e960646affc25ec}{\index{Okular\+::\+Document@{Okular\+::\+Document}!set\+Viewport\+Page@{set\+Viewport\+Page}}
\index{set\+Viewport\+Page@{set\+Viewport\+Page}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{set\+Viewport\+Page}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::set\+Viewport\+Page (
\begin{DoxyParamCaption}
\item[{int}]{page, }
\item[{{\bf Document\+Observer} $\ast$}]{exclude\+Observer = {\ttfamily 0}, }
\item[{bool}]{smooth\+Move = {\ttfamily false}}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_ac3bdbd5137c7fd4d5e960646affc25ec}
Sets the current document viewport to the given {\ttfamily page}.


\begin{DoxyParams}{Parameters}
{\em exclude\+Observer} & The observer ids which shouldn't be effected by this change. \\
\hline
{\em smooth\+Move} & Whether the move shall be animated smoothly. \\
\hline
\end{DoxyParams}


Definition at line 3167 of file document.\+cpp.


\begin{DoxyCode}
3168 \{
3169     \textcolor{comment}{// clamp page in range [0 ... numPages-1]}
3170     \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page} < 0 )
3171         \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page} = 0;
3172     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page} > (\textcolor{keywordtype}{int})d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.count() )
3173         \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page} = d->\hyperlink{classOkular_1_1DocumentPrivate_a73b852d9a73ffe8061b66dbf9b290f17}{m\_pagesVector}.count() - 1;
3174 
3175     \textcolor{comment}{// make a viewport from the page and broadcast it}
3176     \hyperlink{classOkular_1_1Document_a1afaf8b8b5cb1e715949024fb75bb767}{setViewport}( \hyperlink{classOkular_1_1DocumentViewport}{DocumentViewport}( \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page} ), excludeObserver, smoothMove );
3177 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_abab90bff378407416b00be2f2de278bf}{\index{Okular\+::\+Document@{Okular\+::\+Document}!set\+Visible\+Page\+Rects@{set\+Visible\+Page\+Rects}}
\index{set\+Visible\+Page\+Rects@{set\+Visible\+Page\+Rects}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{set\+Visible\+Page\+Rects}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::set\+Visible\+Page\+Rects (
\begin{DoxyParamCaption}
\item[{const Q\+Vector$<$ {\bf Visible\+Page\+Rect} $\ast$ $>$ \&}]{visible\+Page\+Rects, }
\item[{{\bf Document\+Observer} $\ast$}]{exclude\+Observer = {\ttfamily 0}}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_abab90bff378407416b00be2f2de278bf}
Sets the list of visible page rectangles. \begin{DoxySeeAlso}{See Also}
\hyperlink{classOkular_1_1VisiblePageRect}{Visible\+Page\+Rect} 
\end{DoxySeeAlso}


Definition at line 2685 of file document.\+cpp.


\begin{DoxyCode}
2686 \{
2687     QVector< VisiblePageRect * >::const\_iterator vIt = d->\hyperlink{classOkular_1_1DocumentPrivate_a2d167614d4dc602ada64ab925cee6dce}{m\_pageRects}.constBegin();
2688     QVector< VisiblePageRect * >::const\_iterator vEnd = d->\hyperlink{classOkular_1_1DocumentPrivate_a2d167614d4dc602ada64ab925cee6dce}{m\_pageRects}.constEnd();
2689     \textcolor{keywordflow}{for} ( ; vIt != vEnd; ++vIt )
2690         \textcolor{keyword}{delete} *vIt;
2691     d->\hyperlink{classOkular_1_1DocumentPrivate_a2d167614d4dc602ada64ab925cee6dce}{m\_pageRects} = \hyperlink{classOkular_1_1Document_a2ba56fa52cfacc10267896938a2ac37b}{visiblePageRects};
2692     \textcolor{comment}{// notify change to all other (different from id) observers}
2693     \textcolor{keywordflow}{foreach}(\hyperlink{classOkular_1_1DocumentObserver}{DocumentObserver} *o, d->\hyperlink{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}{m\_observers})
2694         \textcolor{keywordflow}{if} ( o != excludeObserver )
2695             o->\hyperlink{classOkular_1_1DocumentObserver_a6e528ff60565b4dd6da415a8f68bec14}{notifyVisibleRectsChanged}();
2696 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a140faece783310fdcbd94eaf3c5ac422}{\index{Okular\+::\+Document@{Okular\+::\+Document}!set\+Zoom@{set\+Zoom}}
\index{set\+Zoom@{set\+Zoom}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{set\+Zoom}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::set\+Zoom (
\begin{DoxyParamCaption}
\item[{int}]{factor, }
\item[{{\bf Document\+Observer} $\ast$}]{exclude\+Observer = {\ttfamily 0}}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a140faece783310fdcbd94eaf3c5ac422}
Sets the zoom for the current document. 

Definition at line 3234 of file document.\+cpp.


\begin{DoxyCode}
3235 \{
3236     \textcolor{comment}{// notify change to all other (different from id) observers}
3237     \textcolor{keywordflow}{foreach}(\hyperlink{classOkular_1_1DocumentObserver}{DocumentObserver} *o, d->\hyperlink{classOkular_1_1DocumentPrivate_a604d83cdce56b4cab8d2bcccfc01fbfa}{m\_observers})
3238         \textcolor{keywordflow}{if} (o != excludeObserver)
3239             o->\hyperlink{classOkular_1_1DocumentObserver_a3a233a300839943c68ba57a6c5d8f591}{notifyZoom}( factor );
3240 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a7a445d187c36e3c37b282dabbcafe8a0}{\index{Okular\+::\+Document@{Okular\+::\+Document}!source\+Reference\+Activated@{source\+Reference\+Activated}}
\index{source\+Reference\+Activated@{source\+Reference\+Activated}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{source\+Reference\+Activated}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::source\+Reference\+Activated (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{abs\+File\+Name, }
\item[{int}]{line, }
\item[{int}]{col, }
\item[{bool $\ast$}]{handled}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_a7a445d187c36e3c37b282dabbcafe8a0}
This signal is emitted whenever a source reference with the given parameters has been activated.


\begin{DoxyParams}{Parameters}
{\em handled} & should be set to 'true' if a slot handles this source reference; the default action to launch the configured editor will then not be performed by the document\\
\hline
\end{DoxyParams}
\begin{DoxySince}{Since}
0.\+14 (K\+D\+E 4.\+8) 
\end{DoxySince}
\hypertarget{classOkular_1_1Document_af003edc174db0e3e80cdf7b138e3a246}{\index{Okular\+::\+Document@{Okular\+::\+Document}!start\+Font\+Reading@{start\+Font\+Reading}}
\index{start\+Font\+Reading@{start\+Font\+Reading}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{start\+Font\+Reading}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::start\+Font\+Reading (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_af003edc174db0e3e80cdf7b138e3a246}
Starts the reading of the information about the fonts in the document, if available.

The results as well the end of the reading is notified using the signals \hyperlink{classOkular_1_1Document_a66902f0fbc6c9068568f8a1eb923583d}{got\+Font()}, \hyperlink{classOkular_1_1Document_aa264e97a1d3dd36aab35fd3a09511b5b}{font\+Reading\+Progress()} and \hyperlink{classOkular_1_1Document_a098247701022e6c967299abd01ce3265}{font\+Reading\+Ended()} 

Definition at line 2623 of file document.\+cpp.


\begin{DoxyCode}
2624 \{
2625     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} || !d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_aacad530ef4f0c31a4addc89eb85ec8da}{hasFeature}( 
      \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a8b712b2b89239900d3d0d000280efa36}{Generator::FontInfo} ) || d->\hyperlink{classOkular_1_1DocumentPrivate_a7d89f5349531b52b4109855269a6a4c4}{m\_fontThread} )
2626         \textcolor{keywordflow}{return};
2627 
2628     \textcolor{keywordflow}{if} ( d->\hyperlink{classOkular_1_1DocumentPrivate_aa33ab887df80e7df7c9d7a5eecff000e}{m\_fontsCached} )
2629     \{
2630         \textcolor{comment}{// in case we have cached fonts, simulate a reading}
2631         \textcolor{comment}{// this way the API is the same, and users no need to care about the}
2632         \textcolor{comment}{// internal caching}
2633         \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} i = 0; i < d->\hyperlink{classOkular_1_1DocumentPrivate_a9be70502279da0a275889e504409c7e5}{m\_fontsCache}.count(); ++i )
2634         \{
2635             emit \hyperlink{classOkular_1_1Document_a66902f0fbc6c9068568f8a1eb923583d}{gotFont}( d->\hyperlink{classOkular_1_1DocumentPrivate_a9be70502279da0a275889e504409c7e5}{m\_fontsCache}.at( i ) );
2636             emit \hyperlink{classOkular_1_1Document_aa264e97a1d3dd36aab35fd3a09511b5b}{fontReadingProgress}( i / \hyperlink{classOkular_1_1Document_aaf5d986758e25127946986abaa401bcd}{pages}() );
2637         \}
2638         emit \hyperlink{classOkular_1_1Document_a098247701022e6c967299abd01ce3265}{fontReadingEnded}();
2639         \textcolor{keywordflow}{return};
2640     \}
2641 
2642     d->\hyperlink{classOkular_1_1DocumentPrivate_a7d89f5349531b52b4109855269a6a4c4}{m\_fontThread} = \textcolor{keyword}{new} \hyperlink{classOkular_1_1FontExtractionThread}{FontExtractionThread}( d->
      \hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}, \hyperlink{classOkular_1_1Document_aaf5d986758e25127946986abaa401bcd}{pages}() );
2643     connect( d->\hyperlink{classOkular_1_1DocumentPrivate_a7d89f5349531b52b4109855269a6a4c4}{m\_fontThread}, SIGNAL(\hyperlink{classOkular_1_1Document_a66902f0fbc6c9068568f8a1eb923583d}{gotFont}(\hyperlink{classOkular_1_1FontInfo}{Okular::FontInfo})), \textcolor{keyword}{this}, 
      SLOT(fontReadingGotFont(\hyperlink{classOkular_1_1FontInfo}{Okular::FontInfo})) );
2644     connect( d->\hyperlink{classOkular_1_1DocumentPrivate_a7d89f5349531b52b4109855269a6a4c4}{m\_fontThread}, SIGNAL(progress(\textcolor{keywordtype}{int})), \textcolor{keyword}{this}, SLOT(
      \hyperlink{classOkular_1_1Document_aa264e97a1d3dd36aab35fd3a09511b5b}{fontReadingProgress}(\textcolor{keywordtype}{int})) );
2645 
2646     d->\hyperlink{classOkular_1_1DocumentPrivate_a7d89f5349531b52b4109855269a6a4c4}{m\_fontThread}->startExtraction( \textcolor{comment}{/*d->m\_generator->hasFeature( Generator::Threaded )*/}\textcolor{keyword}{true}
       );
2647 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a25f2f47f51c226d137a914d168ac5e1b}{\index{Okular\+::\+Document@{Okular\+::\+Document}!stop\+Font\+Reading@{stop\+Font\+Reading}}
\index{stop\+Font\+Reading@{stop\+Font\+Reading}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{stop\+Font\+Reading}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::stop\+Font\+Reading (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a25f2f47f51c226d137a914d168ac5e1b}
Force the termination of the reading of the information about the fonts in the document, if running. 

Definition at line 2649 of file document.\+cpp.


\begin{DoxyCode}
2650 \{
2651     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a7d89f5349531b52b4109855269a6a4c4}{m\_fontThread} )
2652         \textcolor{keywordflow}{return};
2653 
2654     disconnect( d->\hyperlink{classOkular_1_1DocumentPrivate_a7d89f5349531b52b4109855269a6a4c4}{m\_fontThread}, 0, \textcolor{keyword}{this}, 0 );
2655     d->\hyperlink{classOkular_1_1DocumentPrivate_a7d89f5349531b52b4109855269a6a4c4}{m\_fontThread}->stopExtraction();
2656     d->\hyperlink{classOkular_1_1DocumentPrivate_a7d89f5349531b52b4109855269a6a4c4}{m\_fontThread} = 0;
2657     d->\hyperlink{classOkular_1_1DocumentPrivate_a9be70502279da0a275889e504409c7e5}{m\_fontsCache}.clear();
2658 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a7bfda48f95d3e152b9d66fc8968ae12e}{\index{Okular\+::\+Document@{Okular\+::\+Document}!supported\+Mime\+Types@{supported\+Mime\+Types}}
\index{supported\+Mime\+Types@{supported\+Mime\+Types}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{supported\+Mime\+Types}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String\+List Document\+::supported\+Mime\+Types (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a7bfda48f95d3e152b9d66fc8968ae12e}
Returns the list with the supported M\+I\+M\+E types. 

Definition at line 4003 of file document.\+cpp.


\begin{DoxyCode}
4004 \{
4005     \textcolor{keywordflow}{if} ( !d->\hyperlink{classOkular_1_1DocumentPrivate_a4150d34c787b214e91672cd197df9835}{m\_supportedMimeTypes}.isEmpty() )
4006         \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a4150d34c787b214e91672cd197df9835}{m\_supportedMimeTypes};
4007 
4008     QString constraint( \textcolor{stringliteral}{"(Library == 'okularpart')"} );
4009     QLatin1String basePartService( \textcolor{stringliteral}{"KParts/ReadOnlyPart"} );
4010     KService::List offers = KServiceTypeTrader::self()->query( basePartService, constraint );
4011     KService::List::ConstIterator it = offers.constBegin(), itEnd = offers.constEnd();
4012     \textcolor{keywordflow}{for} ( ; it != itEnd; ++it )
4013     \{
4014         KService::Ptr service = *it;
4015         QStringList mimeTypes = service->serviceTypes();
4016         \textcolor{keywordflow}{foreach} ( \textcolor{keyword}{const} QString& mimeType, mimeTypes )
4017             \textcolor{keywordflow}{if} ( mimeType != basePartService )
4018                 d->\hyperlink{classOkular_1_1DocumentPrivate_a4150d34c787b214e91672cd197df9835}{m\_supportedMimeTypes}.append( mimeType );
4019     \}
4020 
4021     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a4150d34c787b214e91672cd197df9835}{m\_supportedMimeTypes};
4022 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_abda5404bb65d7bc671494e589dec3aaf}{\index{Okular\+::\+Document@{Okular\+::\+Document}!supports\+Page\+Sizes@{supports\+Page\+Sizes}}
\index{supports\+Page\+Sizes@{supports\+Page\+Sizes}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{supports\+Page\+Sizes}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::supports\+Page\+Sizes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_abda5404bb65d7bc671494e589dec3aaf}
Returns whether the document supports the listing of page sizes. 

Definition at line 2731 of file document.\+cpp.


\begin{DoxyCode}
2732 \{
2733     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} ? d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_aacad530ef4f0c31a4addc89eb85ec8da}{hasFeature}( 
      \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77abfa19304236ae1a57176d413422f1d4c}{Generator::PageSizes} ) : \textcolor{keyword}{false};
2734 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a0473f147390527d99a898bf3d99218b8}{\index{Okular\+::\+Document@{Okular\+::\+Document}!supports\+Print\+To\+File@{supports\+Print\+To\+File}}
\index{supports\+Print\+To\+File@{supports\+Print\+To\+File}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{supports\+Print\+To\+File}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::supports\+Print\+To\+File (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a0473f147390527d99a898bf3d99218b8}
Returns whether the document supports printing to both P\+D\+F and P\+S files. 

Definition at line 3905 of file document.\+cpp.


\begin{DoxyCode}
3906 \{
3907     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} ? d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_aacad530ef4f0c31a4addc89eb85ec8da}{hasFeature}( 
      \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a0bb6cbe50f2ffb616e25106b2e34c289}{Generator::PrintToFile} ) : \textcolor{keyword}{false};
3908 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_acadcf633db6332012dbbd1914fddd0c9}{\index{Okular\+::\+Document@{Okular\+::\+Document}!supports\+Searching@{supports\+Searching}}
\index{supports\+Searching@{supports\+Searching}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{supports\+Searching}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::supports\+Searching (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_acadcf633db6332012dbbd1914fddd0c9}
Returns whether the document supports searching. 

Definition at line 2726 of file document.\+cpp.


\begin{DoxyCode}
2727 \{
2728     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} ? d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_aacad530ef4f0c31a4addc89eb85ec8da}{hasFeature}( 
      \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a1bf7de5d98ec0333e392ce7f004d6578}{Generator::TextExtraction} ) : \textcolor{keyword}{false};
2729 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a195dd7b2d52ecaf17541a437d5f9e579}{\index{Okular\+::\+Document@{Okular\+::\+Document}!supports\+Tiles@{supports\+Tiles}}
\index{supports\+Tiles@{supports\+Tiles}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{supports\+Tiles}]{\setlength{\rightskip}{0pt plus 5cm}bool Document\+::supports\+Tiles (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a195dd7b2d52ecaf17541a437d5f9e579}
Returns whether the current document supports tiles

\begin{DoxySince}{Since}
0.\+16 (K\+D\+E 4.\+10) 
\end{DoxySince}


Definition at line 2736 of file document.\+cpp.


\begin{DoxyCode}
2737 \{
2738     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator} ? d->\hyperlink{classOkular_1_1DocumentPrivate_a52083f79ce95756ddea060e74315e91f}{m\_generator}->\hyperlink{classOkular_1_1Generator_aacad530ef4f0c31a4addc89eb85ec8da}{hasFeature}( 
      \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a5ab094fe848056a0687d8a3c31c7fd4a}{Generator::TiledRendering} ) : \textcolor{keyword}{false};
2739 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_ab3ca55619ce1a60a4d60913a216ae01c}{\index{Okular\+::\+Document@{Okular\+::\+Document}!translate\+Page\+Annotation@{translate\+Page\+Annotation}}
\index{translate\+Page\+Annotation@{translate\+Page\+Annotation}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{translate\+Page\+Annotation}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::translate\+Page\+Annotation (
\begin{DoxyParamCaption}
\item[{int}]{page, }
\item[{{\bf Annotation} $\ast$}]{annotation, }
\item[{const {\bf Okular\+::\+Normalized\+Point} \&}]{delta}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_ab3ca55619ce1a60a4d60913a216ae01c}
Translates the position of the given {\ttfamily annotation} on the given {\ttfamily page} by a distance {\ttfamily delta} in normalized coordinates.

Consecutive translations applied to the same {\ttfamily annotation} are merged together on the undo stack if the Being\+Moved flag is set on the  annotation

\begin{DoxySince}{Since}
0.\+17 (K\+D\+E 4.\+11) 
\end{DoxySince}


Definition at line 3034 of file document.\+cpp.


\begin{DoxyCode}
3035 \{
3036     \textcolor{keywordtype}{int} complete = (annotation->\hyperlink{classOkular_1_1Annotation_a3d6f7ee5057155b90e76c24768880947}{flags}() & \hyperlink{classOkular_1_1Annotation_a8a214541446745761efeda70b3a4302ea9cd51e0fe53aac93798a205e7fb5c04a}{Okular::Annotation::BeingMoved}
      ) == 0;
3037     QUndoCommand *uc = \textcolor{keyword}{new} \hyperlink{classOkular_1_1TranslateAnnotationCommand}{Okular::TranslateAnnotationCommand}( d, 
      annotation, \hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page}, delta, complete );
3038     d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack}->push(uc);
3039 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a2948b7150ebee16ee611734226c5d247}{\index{Okular\+::\+Document@{Okular\+::\+Document}!undo@{undo}}
\index{undo@{undo}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{undo}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::undo (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [slot]}}}\label{classOkular_1_1Document_a2948b7150ebee16ee611734226c5d247}
Undo last edit command \begin{DoxySince}{Since}
0.\+17 (K\+D\+E 4.\+11) 
\end{DoxySince}


Definition at line 3486 of file document.\+cpp.


\begin{DoxyCode}
3487 \{
3488     d->\hyperlink{classOkular_1_1DocumentPrivate_a64bc3f1453fc2312423889c869d89a73}{m\_undoStack}->undo();
3489 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a16aedf5b18ed8216350979ae9e9dd72f}{\index{Okular\+::\+Document@{Okular\+::\+Document}!unregister\+View@{unregister\+View}}
\index{unregister\+View@{unregister\+View}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{unregister\+View}]{\setlength{\rightskip}{0pt plus 5cm}void Document\+::unregister\+View (
\begin{DoxyParamCaption}
\item[{{\bf View} $\ast$}]{view}
\end{DoxyParamCaption}
)}}\label{classOkular_1_1Document_a16aedf5b18ed8216350979ae9e9dd72f}
Unregister the specified {\ttfamily view} from the current document.

\begin{DoxySince}{Since}
0.\+7 (K\+D\+E 4.\+1) 
\end{DoxySince}


Definition at line 4112 of file document.\+cpp.


\begin{DoxyCode}
4113 \{
4114     \textcolor{keywordflow}{if} ( !view )
4115         \textcolor{keywordflow}{return};
4116 
4117     \hyperlink{classOkular_1_1Document}{Document} *viewDoc = view->\hyperlink{classOkular_1_1View_a0971e5296142cba87af2af289079efea}{viewDocument}();
4118     \textcolor{keywordflow}{if} ( !viewDoc || viewDoc != \textcolor{keyword}{this} )
4119         \textcolor{keywordflow}{return};
4120 
4121     view->d\_func()->document = 0;
4122     d->\hyperlink{classOkular_1_1DocumentPrivate_aae4139cb4cb2f63fd7c7c88f26199976}{m\_views}.remove( view );
4123 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_abb8738de0a53aa4a9f552de0e1e749f8}{\index{Okular\+::\+Document@{Okular\+::\+Document}!viewport@{viewport}}
\index{viewport@{viewport}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{viewport}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Document\+Viewport} \& Document\+::viewport (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_abb8738de0a53aa4a9f552de0e1e749f8}
Returns the current viewport of the document. 

Definition at line 2675 of file document.\+cpp.


\begin{DoxyCode}
2676 \{
2677     \textcolor{keywordflow}{return} (*d->\hyperlink{classOkular_1_1DocumentPrivate_a81a62e8d31d0e7873cd5f5c1590fa2fc}{m\_viewportIterator});
2678 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_a2ba56fa52cfacc10267896938a2ac37b}{\index{Okular\+::\+Document@{Okular\+::\+Document}!visible\+Page\+Rects@{visible\+Page\+Rects}}
\index{visible\+Page\+Rects@{visible\+Page\+Rects}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{visible\+Page\+Rects}]{\setlength{\rightskip}{0pt plus 5cm}const Q\+Vector$<$ {\bf Visible\+Page\+Rect} $\ast$ $>$ \& Document\+::visible\+Page\+Rects (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_a2ba56fa52cfacc10267896938a2ac37b}
Returns the list of visible page rectangles. 

Definition at line 2680 of file document.\+cpp.


\begin{DoxyCode}
2681 \{
2682     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a2d167614d4dc602ada64ab925cee6dce}{m\_pageRects};
2683 \}
\end{DoxyCode}
\hypertarget{classOkular_1_1Document_ab58767168ff4cccd54e91c53c033b362}{\index{Okular\+::\+Document@{Okular\+::\+Document}!warning@{warning}}
\index{warning@{warning}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{warning}]{\setlength{\rightskip}{0pt plus 5cm}void Okular\+::\+Document\+::warning (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{text, }
\item[{int}]{duration}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classOkular_1_1Document_ab58767168ff4cccd54e91c53c033b362}
This signal is emitted to signal a warning.


\begin{DoxyParams}{Parameters}
{\em text} & The description of the warning. \\
\hline
{\em duration} & The time in seconds the message should be shown to the user. \\
\hline
\end{DoxyParams}
\hypertarget{classOkular_1_1Document_aef26598eca4c2fe772cc77d7730a9e8b}{\index{Okular\+::\+Document@{Okular\+::\+Document}!widget@{widget}}
\index{widget@{widget}!Okular\+::\+Document@{Okular\+::\+Document}}
\subsubsection[{widget}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Widget $\ast$ Document\+::widget (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classOkular_1_1Document_aef26598eca4c2fe772cc77d7730a9e8b}
Returns the widget to be used for relaying G\+U\+I things (messageboxes, ...) 

Definition at line 2559 of file document.\+cpp.


\begin{DoxyCode}
2560 \{
2561     \textcolor{keywordflow}{return} d->\hyperlink{classOkular_1_1DocumentPrivate_a1cc02176f3cd9d24eb4f7968ef893de2}{m\_widget};
2562 \}
\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
core/\hyperlink{core_2document_8h}{document.\+h}\item 
core/\hyperlink{core_2document_8cpp}{document.\+cpp}\end{DoxyCompactItemize}
