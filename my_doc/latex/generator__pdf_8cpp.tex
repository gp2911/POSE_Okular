\hypertarget{generator__pdf_8cpp}{\section{generators/poppler/generator\+\_\+pdf.cpp File Reference}
\label{generator__pdf_8cpp}\index{generators/poppler/generator\+\_\+pdf.\+cpp@{generators/poppler/generator\+\_\+pdf.\+cpp}}
}
{\ttfamily \#include \char`\"{}generator\+\_\+pdf.\+h\char`\"{}}\\*
{\ttfamily \#include $<$qcheckbox.\+h$>$}\\*
{\ttfamily \#include $<$qcolor.\+h$>$}\\*
{\ttfamily \#include $<$qfile.\+h$>$}\\*
{\ttfamily \#include $<$qimage.\+h$>$}\\*
{\ttfamily \#include $<$qlayout.\+h$>$}\\*
{\ttfamily \#include $<$qmutex.\+h$>$}\\*
{\ttfamily \#include $<$qregexp.\+h$>$}\\*
{\ttfamily \#include $<$qstack.\+h$>$}\\*
{\ttfamily \#include $<$qtextstream.\+h$>$}\\*
{\ttfamily \#include $<$Qt\+Gui/\+Q\+Printer$>$}\\*
{\ttfamily \#include $<$Qt\+Gui/\+Q\+Painter$>$}\\*
{\ttfamily \#include $<$kaboutdata.\+h$>$}\\*
{\ttfamily \#include $<$kconfigdialog.\+h$>$}\\*
{\ttfamily \#include $<$klocale.\+h$>$}\\*
{\ttfamily \#include $<$kmessagebox.\+h$>$}\\*
{\ttfamily \#include $<$kpassworddialog.\+h$>$}\\*
{\ttfamily \#include $<$kwallet.\+h$>$}\\*
{\ttfamily \#include $<$ktemporaryfile.\+h$>$}\\*
{\ttfamily \#include $<$kdebug.\+h$>$}\\*
{\ttfamily \#include $<$kglobal.\+h$>$}\\*
{\ttfamily \#include $<$core/action.\+h$>$}\\*
{\ttfamily \#include $<$core/page.\+h$>$}\\*
{\ttfamily \#include $<$core/annotations.\+h$>$}\\*
{\ttfamily \#include $<$core/movie.\+h$>$}\\*
{\ttfamily \#include $<$core/pagetransition.\+h$>$}\\*
{\ttfamily \#include $<$core/sound.\+h$>$}\\*
{\ttfamily \#include $<$core/sourcereference.\+h$>$}\\*
{\ttfamily \#include $<$core/textpage.\+h$>$}\\*
{\ttfamily \#include $<$core/fileprinter.\+h$>$}\\*
{\ttfamily \#include $<$core/utils.\+h$>$}\\*
{\ttfamily \#include \char`\"{}ui\+\_\+pdfsettingswidget.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}pdfsettings.\+h\char`\"{}}\\*
{\ttfamily \#include $<$config-\/okular-\/poppler.\+h$>$}\\*
{\ttfamily \#include \char`\"{}annots.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}formfields.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}popplerembeddedfile.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}generator\+\_\+pdf.\+moc\char`\"{}}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classPDFOptionsPage}{P\+D\+F\+Options\+Page}
\item 
struct \hyperlink{structpdfsyncpoint}{pdfsyncpoint}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{generator__pdf_8cpp_a5f7568691946b5c6540fc1c61af05463}{D\+U\+M\+M\+Y\+\_\+\+Q\+P\+R\+I\+N\+T\+E\+R\+\_\+\+C\+O\+P\+Y}
\item 
\#define \hyperlink{generator__pdf_8cpp_ad04ac5da98f0902d40bb8724394c40b7}{S\+E\+T\+\_\+\+H\+I\+N\+T}(hintname, hintdefvalue, hintflag)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classOkular_1_1Sound}{Okular\+::\+Sound} $\ast$ \hyperlink{generator__pdf_8cpp_a7dfbf966808de19f5dca09740d6d459d}{create\+Sound\+From\+Poppler\+Sound} (const Poppler\+::\+Sound\+Object $\ast$poppler\+Sound)
\item 
\hyperlink{classOkular_1_1Movie}{Okular\+::\+Movie} $\ast$ \hyperlink{generator__pdf_8cpp_a685f8b2cbaa4a2d09b4fdddc49a0490c}{create\+Movie\+From\+Poppler\+Movie} (const Poppler\+::\+Movie\+Object $\ast$poppler\+Movie)
\item 
\hyperlink{classOkular_1_1Action}{Okular\+::\+Action} $\ast$ \hyperlink{generator__pdf_8cpp_ac8496a01bf2593a90b5063709cff7d99}{create\+Link\+From\+Poppler\+Link} (const Poppler\+::\+Link $\ast$poppler\+Link)
\item 
{\footnotesize template$<$typename Poppler\+Link\+Type , typename Okular\+Link\+Type , typename Poppler\+Annotation\+Type , typename Okular\+Annotation\+Type $>$ }\\void \hyperlink{generator__pdf_8cpp_a2e5db59529dc9e9db5bd2667de9baef9}{resolve\+Media\+Links} (\hyperlink{classOkular_1_1Action}{Okular\+::\+Action} $\ast$action, enum \hyperlink{classOkular_1_1Annotation_af71b46e37d5f850b97d5c4de3be9aac0}{Okular\+::\+Annotation\+::\+Sub\+Type} sub\+Type, Q\+Hash$<$ \hyperlink{classOkular_1_1Annotation}{Okular\+::\+Annotation} $\ast$, Poppler\+::\+Annotation $\ast$ $>$ \&annotations\+Hash)
\item 
void \hyperlink{generator__pdf_8cpp_af89a069d971b564171ae5c9bc238c420}{append} (\hyperlink{classOkular_1_1TextPage}{Okular\+::\+Text\+Page} $\ast$ktp, const Q\+String \&s, double l, double b, double r, double t)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{generator__pdf_8cpp_a5f7568691946b5c6540fc1c61af05463}{\index{generator\+\_\+pdf.\+cpp@{generator\+\_\+pdf.\+cpp}!D\+U\+M\+M\+Y\+\_\+\+Q\+P\+R\+I\+N\+T\+E\+R\+\_\+\+C\+O\+P\+Y@{D\+U\+M\+M\+Y\+\_\+\+Q\+P\+R\+I\+N\+T\+E\+R\+\_\+\+C\+O\+P\+Y}}
\index{D\+U\+M\+M\+Y\+\_\+\+Q\+P\+R\+I\+N\+T\+E\+R\+\_\+\+C\+O\+P\+Y@{D\+U\+M\+M\+Y\+\_\+\+Q\+P\+R\+I\+N\+T\+E\+R\+\_\+\+C\+O\+P\+Y}!generator\+\_\+pdf.\+cpp@{generator\+\_\+pdf.\+cpp}}
\subsubsection[{D\+U\+M\+M\+Y\+\_\+\+Q\+P\+R\+I\+N\+T\+E\+R\+\_\+\+C\+O\+P\+Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define D\+U\+M\+M\+Y\+\_\+\+Q\+P\+R\+I\+N\+T\+E\+R\+\_\+\+C\+O\+P\+Y}}\label{generator__pdf_8cpp_a5f7568691946b5c6540fc1c61af05463}


Definition at line 1075 of file generator\+\_\+pdf.\+cpp.

\hypertarget{generator__pdf_8cpp_ad04ac5da98f0902d40bb8724394c40b7}{\index{generator\+\_\+pdf.\+cpp@{generator\+\_\+pdf.\+cpp}!S\+E\+T\+\_\+\+H\+I\+N\+T@{S\+E\+T\+\_\+\+H\+I\+N\+T}}
\index{S\+E\+T\+\_\+\+H\+I\+N\+T@{S\+E\+T\+\_\+\+H\+I\+N\+T}!generator\+\_\+pdf.\+cpp@{generator\+\_\+pdf.\+cpp}}
\subsubsection[{S\+E\+T\+\_\+\+H\+I\+N\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+E\+T\+\_\+\+H\+I\+N\+T(
\begin{DoxyParamCaption}
\item[{}]{hintname, }
\item[{}]{hintdefvalue, }
\item[{}]{hintflag}
\end{DoxyParamCaption}
)}}\label{generator__pdf_8cpp_ad04ac5da98f0902d40bb8724394c40b7}
{\bfseries Value\+:}
\begin{DoxyCode}
\{ \(\backslash\)
    bool newhint = documentMetaData(hintname, hintdefvalue).toBool(); \(\backslash\)
    if (newhint != oldhints.testFlag(hintflag)) \(\backslash\)
    \{ \(\backslash\)
        pdfdoc->setRenderHint(hintflag, newhint); \(\backslash\)
        changed = \textcolor{keyword}{true}; \(\backslash\)
    \} \(\backslash\)
\}
\end{DoxyCode}


\subsection{Function Documentation}
\hypertarget{generator__pdf_8cpp_af89a069d971b564171ae5c9bc238c420}{\index{generator\+\_\+pdf.\+cpp@{generator\+\_\+pdf.\+cpp}!append@{append}}
\index{append@{append}!generator\+\_\+pdf.\+cpp@{generator\+\_\+pdf.\+cpp}}
\subsubsection[{append}]{\setlength{\rightskip}{0pt plus 5cm}void append (
\begin{DoxyParamCaption}
\item[{{\bf Okular\+::\+Text\+Page} $\ast$}]{ktp, }
\item[{const Q\+String \&}]{s, }
\item[{double}]{l, }
\item[{double}]{b, }
\item[{double}]{r, }
\item[{double}]{t}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{generator__pdf_8cpp_af89a069d971b564171ae5c9bc238c420}


Definition at line 1386 of file generator\+\_\+pdf.\+cpp.


\begin{DoxyCode}
1388 \{
1389 \textcolor{comment}{//    kWarning(PDFDebug).nospace() << "text: " << s << " at (" << l << "," << t << ")x(" << r
       <<","<<b<<")";}
1390     ktp->\hyperlink{classOkular_1_1TextPage_a003032e4e1cd8c15f01ed639ce62d11f}{append}(s, \textcolor{keyword}{new} \hyperlink{classOkular_1_1NormalizedRect}{Okular::NormalizedRect}(l, t, r, b));
1391 \}
\end{DoxyCode}
\hypertarget{generator__pdf_8cpp_ac8496a01bf2593a90b5063709cff7d99}{\index{generator\+\_\+pdf.\+cpp@{generator\+\_\+pdf.\+cpp}!create\+Link\+From\+Poppler\+Link@{create\+Link\+From\+Poppler\+Link}}
\index{create\+Link\+From\+Poppler\+Link@{create\+Link\+From\+Poppler\+Link}!generator\+\_\+pdf.\+cpp@{generator\+\_\+pdf.\+cpp}}
\subsubsection[{create\+Link\+From\+Poppler\+Link}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Okular\+::\+Action}$\ast$ create\+Link\+From\+Poppler\+Link (
\begin{DoxyParamCaption}
\item[{const Poppler\+::\+Link $\ast$}]{poppler\+Link}
\end{DoxyParamCaption}
)}}\label{generator__pdf_8cpp_ac8496a01bf2593a90b5063709cff7d99}
Note\+: the function will take ownership of the poppler\+Link object. 

Definition at line 215 of file generator\+\_\+pdf.\+cpp.


\begin{DoxyCode}
216 \{
217     \hyperlink{classOkular_1_1Action}{Okular::Action} *link = 0;
218     \textcolor{keyword}{const} Poppler::LinkGoto *popplerLinkGoto;
219     \textcolor{keyword}{const} Poppler::LinkExecute *popplerLinkExecute;
220     \textcolor{keyword}{const} Poppler::LinkBrowse *popplerLinkBrowse;
221     \textcolor{keyword}{const} Poppler::LinkAction *popplerLinkAction;
222     \textcolor{keyword}{const} Poppler::LinkSound *popplerLinkSound;
223     \textcolor{keyword}{const} Poppler::LinkJavaScript *popplerLinkJS;
224 \textcolor{preprocessor}{#ifdef HAVE\_POPPLER\_0\_20}
225     \textcolor{keyword}{const} Poppler::LinkMovie *popplerLinkMovie;
226 \textcolor{preprocessor}{#endif}
227 \textcolor{preprocessor}{#ifdef HAVE\_POPPLER\_0\_22}
228     \textcolor{keyword}{const} Poppler::LinkRendition *popplerLinkRendition;
229 \textcolor{preprocessor}{#endif}
230     \hyperlink{classOkular_1_1DocumentViewport}{Okular::DocumentViewport} viewport;
231 
232     \textcolor{keywordtype}{bool} deletePopplerLink = \textcolor{keyword}{true};
233 
234     \textcolor{keywordflow}{switch}(popplerLink->linkType())
235     \{
236         \textcolor{keywordflow}{case} \hyperlink{namespaceOkular_ad8955fd515cc3f63a14cdff6723e6c1ba6969c0e2e87cc779dae8be495740eda6}{Poppler::Link::None}:
237         \textcolor{keywordflow}{break};
238 
239         \textcolor{keywordflow}{case} Poppler::Link::Goto:
240         \{
241             popplerLinkGoto = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }Poppler::LinkGoto *\textcolor{keyword}{>}(popplerLink);
242             \textcolor{keyword}{const} Poppler::LinkDestination \hyperlink{synctex__parser__utils_8c_a723e06ace24a60ed94dca199595c08d2}{dest} = popplerLinkGoto->destination();
243             \textcolor{keyword}{const} QString destName = dest.destinationName();
244             \textcolor{keywordflow}{if} (destName.isEmpty())
245             \{
246                 fillViewportFromLinkDestination( viewport, dest );
247                 link = \textcolor{keyword}{new} \hyperlink{classOkular_1_1GotoAction}{Okular::GotoAction}(popplerLinkGoto->fileName(), viewport);
248             \}
249             \textcolor{keywordflow}{else}
250             \{
251                 link = \textcolor{keyword}{new} \hyperlink{classOkular_1_1GotoAction}{Okular::GotoAction}(popplerLinkGoto->fileName(), destName);
252             \}
253         \}
254         \textcolor{keywordflow}{break};
255 
256         \textcolor{keywordflow}{case} Poppler::Link::Execute:
257             popplerLinkExecute = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }Poppler::LinkExecute *\textcolor{keyword}{>}(popplerLink);
258             link = \textcolor{keyword}{new} \hyperlink{classOkular_1_1ExecuteAction}{Okular::ExecuteAction}( popplerLinkExecute->fileName(), 
      popplerLinkExecute->parameters() );
259         \textcolor{keywordflow}{break};
260 
261         \textcolor{keywordflow}{case} Poppler::Link::Browse:
262             popplerLinkBrowse = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }Poppler::LinkBrowse *\textcolor{keyword}{>}(popplerLink);
263             link = \textcolor{keyword}{new} \hyperlink{classOkular_1_1BrowseAction}{Okular::BrowseAction}( popplerLinkBrowse->url() );
264         \textcolor{keywordflow}{break};
265 
266         \textcolor{keywordflow}{case} Poppler::Link::Action:
267             popplerLinkAction = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }Poppler::LinkAction *\textcolor{keyword}{>}(popplerLink);
268             link = \textcolor{keyword}{new} \hyperlink{classOkular_1_1DocumentAction}{Okular::DocumentAction}( (
      \hyperlink{classOkular_1_1DocumentAction_a59b262b16719b9b55005d7c143f9415d}{Okular::DocumentAction::DocumentActionType})popplerLinkAction->
      actionType() );
269         \textcolor{keywordflow}{break};
270 
271         \textcolor{keywordflow}{case} Poppler::Link::Sound:
272         \{
273             popplerLinkSound = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }Poppler::LinkSound *\textcolor{keyword}{>}(popplerLink);
274             Poppler::SoundObject *popplerSound = popplerLinkSound->sound();
275             \hyperlink{classOkular_1_1Sound}{Okular::Sound} *sound = \hyperlink{generator__pdf_8cpp_a7dfbf966808de19f5dca09740d6d459d}{createSoundFromPopplerSound}( 
      popplerSound );
276             link = \textcolor{keyword}{new} \hyperlink{classOkular_1_1SoundAction}{Okular::SoundAction}( popplerLinkSound->volume(), popplerLinkSound
      ->synchronous(), popplerLinkSound->repeat(), popplerLinkSound->mix(), sound );
277         \}
278         \textcolor{keywordflow}{break};
279 
280         \textcolor{keywordflow}{case} \hyperlink{namespaceOkular_a061f34ff835b2d2142fef28bcfd09325ac61eb96a387ac39266f6eb71948796ea}{Poppler::Link::JavaScript}:
281         \{
282             popplerLinkJS = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }Poppler::LinkJavaScript *\textcolor{keyword}{>}(popplerLink);
283             link = \textcolor{keyword}{new} \hyperlink{classOkular_1_1ScriptAction}{Okular::ScriptAction}( 
      \hyperlink{namespaceOkular_a061f34ff835b2d2142fef28bcfd09325ac61eb96a387ac39266f6eb71948796ea}{Okular::JavaScript}, popplerLinkJS->script() );
284         \}
285         \textcolor{keywordflow}{break};
286 
287 \textcolor{preprocessor}{#ifdef HAVE\_POPPLER\_0\_22}
288         \textcolor{keywordflow}{case} Poppler::Link::Rendition:
289         \{
290             deletePopplerLink = \textcolor{keyword}{false}; \textcolor{comment}{// we'll delete it inside resolveMediaLinkReferences() after we have
       resolved all references}
291 
292             popplerLinkRendition = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }Poppler::LinkRendition *\textcolor{keyword}{>}( popplerLink );
293 
294             \hyperlink{classOkular_1_1RenditionAction_ae036a78aa4d9997df70e856410cbc1a5}{Okular::RenditionAction::OperationType} operation = 
      \hyperlink{classOkular_1_1RenditionAction_ae036a78aa4d9997df70e856410cbc1a5ac9760ac3379976d5d440034e247f8990}{Okular::RenditionAction::None};
295             \textcolor{keywordflow}{switch} ( popplerLinkRendition->action() )
296             \{
297                 \textcolor{keywordflow}{case} Poppler::LinkRendition::NoRendition:
298                     operation = \hyperlink{classOkular_1_1RenditionAction_ae036a78aa4d9997df70e856410cbc1a5ac9760ac3379976d5d440034e247f8990}{Okular::RenditionAction::None};
299                     \textcolor{keywordflow}{break};
300                 \textcolor{keywordflow}{case} Poppler::LinkRendition::PlayRendition:
301                     operation = \hyperlink{classOkular_1_1RenditionAction_ae036a78aa4d9997df70e856410cbc1a5ad64f184845ab51b85d6a2371b5000dee}{Okular::RenditionAction::Play};
302                     \textcolor{keywordflow}{break};
303                 \textcolor{keywordflow}{case} Poppler::LinkRendition::StopRendition:
304                     operation = \hyperlink{classOkular_1_1RenditionAction_ae036a78aa4d9997df70e856410cbc1a5a79f9d68e6cbe8e0a80749b2c76657067}{Okular::RenditionAction::Stop};
305                     \textcolor{keywordflow}{break};
306                 \textcolor{keywordflow}{case} Poppler::LinkRendition::PauseRendition:
307                     operation = \hyperlink{classOkular_1_1RenditionAction_ae036a78aa4d9997df70e856410cbc1a5a8337042e5e7d0d92ca24b4b75da66e0a}{Okular::RenditionAction::Pause};
308                     \textcolor{keywordflow}{break};
309                 \textcolor{keywordflow}{case} Poppler::LinkRendition::ResumeRendition:
310                     operation = \hyperlink{classOkular_1_1RenditionAction_ae036a78aa4d9997df70e856410cbc1a5aad4b6626db0d0519cd9dbd78f0d48811}{Okular::RenditionAction::Resume};
311                     \textcolor{keywordflow}{break};
312             \};
313 
314             \hyperlink{classOkular_1_1Movie}{Okular::Movie} *movie = 0;
315             \textcolor{keywordflow}{if} ( popplerLinkRendition->rendition() )
316                 movie = createMovieFromPopplerScreen( popplerLinkRendition );
317 
318             \hyperlink{classOkular_1_1RenditionAction}{Okular::RenditionAction} *renditionAction = \textcolor{keyword}{new} 
      \hyperlink{classOkular_1_1RenditionAction}{Okular::RenditionAction}( operation, movie, 
      \hyperlink{namespaceOkular_a061f34ff835b2d2142fef28bcfd09325ac61eb96a387ac39266f6eb71948796ea}{Okular::JavaScript}, popplerLinkRendition->script() );
319             renditionAction->\hyperlink{classOkular_1_1Action_afbf20754be0d5b902482a1f704f74f74}{setNativeId}( QVariant::fromValue( popplerLinkRendition ) );
320             link = renditionAction;
321         \}
322         \textcolor{keywordflow}{break};
323 \textcolor{preprocessor}{#endif}
324 
325 \textcolor{preprocessor}{#ifdef HAVE\_POPPLER\_0\_20}
326         \textcolor{keywordflow}{case} Poppler::Link::Movie:
327         \{
328             deletePopplerLink = \textcolor{keyword}{false}; \textcolor{comment}{// we'll delete it inside resolveMediaLinkReferences() after we have
       resolved all references}
329 
330             popplerLinkMovie = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }Poppler::LinkMovie *\textcolor{keyword}{>}( popplerLink );
331 
332             \hyperlink{classOkular_1_1MovieAction_ade5698179043c1075b37aa1dc7638331}{Okular::MovieAction::OperationType} operation = 
      \hyperlink{classOkular_1_1MovieAction_ade5698179043c1075b37aa1dc7638331a4b5f94f7e4ee44aebe6d3a2838182e89}{Okular::MovieAction::Play};
333             \textcolor{keywordflow}{switch} ( popplerLinkMovie->operation() )
334             \{
335                 \textcolor{keywordflow}{case} Poppler::LinkMovie::Play:
336                     operation = \hyperlink{classOkular_1_1MovieAction_ade5698179043c1075b37aa1dc7638331a4b5f94f7e4ee44aebe6d3a2838182e89}{Okular::MovieAction::Play};
337                     \textcolor{keywordflow}{break};
338                 \textcolor{keywordflow}{case} Poppler::LinkMovie::Stop:
339                     operation = \hyperlink{classOkular_1_1MovieAction_ade5698179043c1075b37aa1dc7638331a368dd1ed322e0906a89a36bcaf746433}{Okular::MovieAction::Stop};
340                     \textcolor{keywordflow}{break};
341                 \textcolor{keywordflow}{case} Poppler::LinkMovie::Pause:
342                     operation = \hyperlink{classOkular_1_1MovieAction_ade5698179043c1075b37aa1dc7638331a4dd1333e70352ea60c08c6e43d9988ed}{Okular::MovieAction::Pause};
343                     \textcolor{keywordflow}{break};
344                 \textcolor{keywordflow}{case} Poppler::LinkMovie::Resume:
345                     operation = \hyperlink{classOkular_1_1MovieAction_ade5698179043c1075b37aa1dc7638331a1240ff2be757441b04f4d63e40b1653c}{Okular::MovieAction::Resume};
346                     \textcolor{keywordflow}{break};
347             \};
348 
349             \hyperlink{classOkular_1_1MovieAction}{Okular::MovieAction} *movieAction = \textcolor{keyword}{new} 
      \hyperlink{classOkular_1_1MovieAction}{Okular::MovieAction}( operation );
350             movieAction->\hyperlink{classOkular_1_1Action_afbf20754be0d5b902482a1f704f74f74}{setNativeId}( QVariant::fromValue( popplerLinkMovie ) );
351             link = movieAction;
352         \}
353         \textcolor{keywordflow}{break};
354 \textcolor{preprocessor}{#endif}
355     \}
356 
357     \textcolor{keywordflow}{if} ( deletePopplerLink )
358         \textcolor{keyword}{delete} popplerLink;
359 
360     \textcolor{keywordflow}{return} link;
361 \}
\end{DoxyCode}
\hypertarget{generator__pdf_8cpp_a685f8b2cbaa4a2d09b4fdddc49a0490c}{\index{generator\+\_\+pdf.\+cpp@{generator\+\_\+pdf.\+cpp}!create\+Movie\+From\+Poppler\+Movie@{create\+Movie\+From\+Poppler\+Movie}}
\index{create\+Movie\+From\+Poppler\+Movie@{create\+Movie\+From\+Poppler\+Movie}!generator\+\_\+pdf.\+cpp@{generator\+\_\+pdf.\+cpp}}
\subsubsection[{create\+Movie\+From\+Poppler\+Movie}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Okular\+::\+Movie}$\ast$ create\+Movie\+From\+Poppler\+Movie (
\begin{DoxyParamCaption}
\item[{const Poppler\+::\+Movie\+Object $\ast$}]{poppler\+Movie}
\end{DoxyParamCaption}
)}}\label{generator__pdf_8cpp_a685f8b2cbaa4a2d09b4fdddc49a0490c}


Definition at line 180 of file generator\+\_\+pdf.\+cpp.


\begin{DoxyCode}
181 \{
182     \hyperlink{classOkular_1_1Movie}{Okular::Movie} *movie = \textcolor{keyword}{new} \hyperlink{classOkular_1_1Movie}{Okular::Movie}( popplerMovie->url() );
183     movie->\hyperlink{classOkular_1_1Movie_aaa87050fba266ea14b37b7c9fa458c2f}{setSize}( popplerMovie->size() );
184     movie->\hyperlink{classOkular_1_1Movie_a4757f9f66bdf2e55e3a5152f7e64feff}{setRotation}( (\hyperlink{namespaceOkular_a8556d00465f61ef533c6b027669e7da6}{Okular::Rotation})( popplerMovie->rotation() / 90 ) );
185     movie->\hyperlink{classOkular_1_1Movie_a72c045992d6fb31a7280e069422e43e5}{setShowControls}( popplerMovie->showControls() );
186     movie->\hyperlink{classOkular_1_1Movie_aded1be790e1fa157dbc9b735e05429e7}{setPlayMode}( (\hyperlink{classOkular_1_1Movie_ac15c187b1f32107f51813a0da17e099b}{Okular::Movie::PlayMode})popplerMovie->playMode()
       );
187     movie->\hyperlink{classOkular_1_1Movie_a732120bf461a2c6d8682732f0fbcc780}{setAutoPlay}( \textcolor{keyword}{false} ); \textcolor{comment}{// will be triggered by external MovieAnnotation}
188 \textcolor{preprocessor}{#ifdef HAVE\_POPPLER\_0\_22}
189     movie->\hyperlink{classOkular_1_1Movie_a5bb46f14d21365b05afbd8c8bcca2dbe}{setShowPosterImage}( popplerMovie->showPosterImage() );
190     movie->\hyperlink{classOkular_1_1Movie_a232c2d19a1b1f8e2bbfaf1debeaf18f4}{setPosterImage}( popplerMovie->posterImage() );
191 \textcolor{preprocessor}{#endif}
192     \textcolor{keywordflow}{return} movie;
193 \}
\end{DoxyCode}
\hypertarget{generator__pdf_8cpp_a7dfbf966808de19f5dca09740d6d459d}{\index{generator\+\_\+pdf.\+cpp@{generator\+\_\+pdf.\+cpp}!create\+Sound\+From\+Poppler\+Sound@{create\+Sound\+From\+Poppler\+Sound}}
\index{create\+Sound\+From\+Poppler\+Sound@{create\+Sound\+From\+Poppler\+Sound}!generator\+\_\+pdf.\+cpp@{generator\+\_\+pdf.\+cpp}}
\subsubsection[{create\+Sound\+From\+Poppler\+Sound}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Okular\+::\+Sound}$\ast$ create\+Sound\+From\+Poppler\+Sound (
\begin{DoxyParamCaption}
\item[{const Poppler\+::\+Sound\+Object $\ast$}]{poppler\+Sound}
\end{DoxyParamCaption}
)}}\label{generator__pdf_8cpp_a7dfbf966808de19f5dca09740d6d459d}


Definition at line 156 of file generator\+\_\+pdf.\+cpp.


\begin{DoxyCode}
157 \{
158     \hyperlink{classOkular_1_1Sound}{Okular::Sound} *sound = popplerSound->\hyperlink{classOkular_1_1Sound_a6ad3b22679e6a6db9d69230ce94bf247}{soundType}() == 
      Poppler::SoundObject::Embedded ? \textcolor{keyword}{new} \hyperlink{classOkular_1_1Sound}{Okular::Sound}( popplerSound->data() ) : \textcolor{keyword}{new} \hyperlink{classOkular_1_1Sound}{Okular::Sound}( popplerSound->
      url() );
159     sound->\hyperlink{classOkular_1_1Sound_a4be8e371220885251a6effe3cf340349}{setSamplingRate}( popplerSound->samplingRate() );
160     sound->\hyperlink{classOkular_1_1Sound_aa0c02b65856e96fe47ee8bb65e1fe693}{setChannels}( popplerSound->channels() );
161     sound->\hyperlink{classOkular_1_1Sound_aae4a171bb2acd75280372ebda96516e5}{setBitsPerSample}( popplerSound->bitsPerSample() );
162     \textcolor{keywordflow}{switch} ( popplerSound->soundEncoding() )
163     \{
164         \textcolor{keywordflow}{case} Poppler::SoundObject::Raw:
165             sound->\hyperlink{classOkular_1_1Sound_aea9528cfcab890f5231318880e51839f}{setSoundEncoding}( \hyperlink{classOkular_1_1Sound_a4bc04dce6aa25c5aadb2f93d0fafe5f8a10d7500cc3f7778181b9850512b0507a}{Okular::Sound::Raw} );
166             \textcolor{keywordflow}{break};
167         \textcolor{keywordflow}{case} Poppler::SoundObject::Signed:
168             sound->\hyperlink{classOkular_1_1Sound_aea9528cfcab890f5231318880e51839f}{setSoundEncoding}( \hyperlink{classOkular_1_1Sound_a4bc04dce6aa25c5aadb2f93d0fafe5f8ad923ae0ea21dd58a4b1e7d380b8daf59}{Okular::Sound::Signed} );
169             \textcolor{keywordflow}{break};
170         \textcolor{keywordflow}{case} Poppler::SoundObject::muLaw:
171             sound->\hyperlink{classOkular_1_1Sound_aea9528cfcab890f5231318880e51839f}{setSoundEncoding}( \hyperlink{classOkular_1_1Sound_a4bc04dce6aa25c5aadb2f93d0fafe5f8a99878763f9826b226f11ca376739c9af}{Okular::Sound::muLaw} );
172             \textcolor{keywordflow}{break};
173         \textcolor{keywordflow}{case} Poppler::SoundObject::ALaw:
174             sound->\hyperlink{classOkular_1_1Sound_aea9528cfcab890f5231318880e51839f}{setSoundEncoding}( \hyperlink{classOkular_1_1Sound_a4bc04dce6aa25c5aadb2f93d0fafe5f8a6ef006851290e544293f6305886d6b07}{Okular::Sound::ALaw} );
175             \textcolor{keywordflow}{break};
176     \}
177     \textcolor{keywordflow}{return} sound;
178 \}
\end{DoxyCode}
\hypertarget{generator__pdf_8cpp_a2e5db59529dc9e9db5bd2667de9baef9}{\index{generator\+\_\+pdf.\+cpp@{generator\+\_\+pdf.\+cpp}!resolve\+Media\+Links@{resolve\+Media\+Links}}
\index{resolve\+Media\+Links@{resolve\+Media\+Links}!generator\+\_\+pdf.\+cpp@{generator\+\_\+pdf.\+cpp}}
\subsubsection[{resolve\+Media\+Links}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Poppler\+Link\+Type , typename Okular\+Link\+Type , typename Poppler\+Annotation\+Type , typename Okular\+Annotation\+Type $>$ void resolve\+Media\+Links (
\begin{DoxyParamCaption}
\item[{{\bf Okular\+::\+Action} $\ast$}]{action, }
\item[{enum {\bf Okular\+::\+Annotation\+::\+Sub\+Type}}]{sub\+Type, }
\item[{Q\+Hash$<$ {\bf Okular\+::\+Annotation} $\ast$, Poppler\+::\+Annotation $\ast$ $>$ \&}]{annotations\+Hash}
\end{DoxyParamCaption}
)}}\label{generator__pdf_8cpp_a2e5db59529dc9e9db5bd2667de9baef9}


Definition at line 963 of file generator\+\_\+pdf.\+cpp.


\begin{DoxyCode}
964 \{
965     OkularLinkType *okularAction = \textcolor{keyword}{static\_cast<}OkularLinkType*\textcolor{keyword}{>}( action );
966 
967     \textcolor{keyword}{const} PopplerLinkType *popplerLink = action->\hyperlink{classOkular_1_1Action_a3d499dbbf48e003bc880a1d7622a3748}{nativeId}().value<\textcolor{keyword}{const} PopplerLinkType*>();
968 
969     QHashIterator<Okular::Annotation*, Poppler::Annotation*> it( annotationsHash );
970     \textcolor{keywordflow}{while} ( it.hasNext() )
971     \{
972         it.next();
973 
974         \textcolor{keywordflow}{if} ( it.key()->subType() == subType )
975         \{
976             \textcolor{keyword}{const} PopplerAnnotationType *popplerAnnotation = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }PopplerAnnotationType*\textcolor{keyword}{>}( it.
      value() );
977 
978             \textcolor{keywordflow}{if} ( popplerLink->isReferencedAnnotation( popplerAnnotation ) )
979             \{
980                 okularAction->setAnnotation( static\_cast<OkularAnnotationType*>( it.key() ) );
981                 okularAction->setNativeId( QVariant() );
982                 \textcolor{keyword}{delete} popplerLink; \textcolor{comment}{// delete the associated Poppler::LinkMovie object, it's not needed
       anymore}
983                 \textcolor{keywordflow}{break};
984             \}
985         \}
986     \}
987 \}
\end{DoxyCode}
