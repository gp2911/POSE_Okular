\hypertarget{classTOCModel}{\section{T\+O\+C\+Model Class Reference}
\label{classTOCModel}\index{T\+O\+C\+Model@{T\+O\+C\+Model}}
}


{\ttfamily \#include $<$tocmodel.\+h$>$}

Inheritance diagram for T\+O\+C\+Model\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classTOCModel}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classTOCModel_a6f61504acf382dacf6ce891bd79a0c21}{T\+O\+C\+Model} (\hyperlink{classOkular_1_1Document}{Okular\+::\+Document} $\ast$document, Q\+Object $\ast$\hyperlink{classTOCModel_a98ec7547d9098d34115006d60f749207}{parent}=0)
\item 
virtual \hyperlink{classTOCModel_af7b0eff72a3bc512cfdc6b3e067e1c44}{$\sim$\+T\+O\+C\+Model} ()
\item 
virtual int \hyperlink{classTOCModel_abe6fc8f8ff7b8b1555978213eed885fc}{column\+Count} (const Q\+Model\+Index \&\hyperlink{classTOCModel_a98ec7547d9098d34115006d60f749207}{parent}=Q\+Model\+Index()) const 
\item 
virtual Q\+Variant \hyperlink{classTOCModel_a87dcfc9c6da7a211a78467031258daab}{data} (const Q\+Model\+Index \&\hyperlink{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}{index}, int role=Qt\+::\+Display\+Role) const 
\item 
virtual bool \hyperlink{classTOCModel_a77759582df0f4ce7df4e5c968a69dafa}{has\+Children} (const Q\+Model\+Index \&\hyperlink{classTOCModel_a98ec7547d9098d34115006d60f749207}{parent}=Q\+Model\+Index()) const 
\item 
virtual Q\+Variant \hyperlink{classTOCModel_a5527fb6256956061df8aa98743822699}{header\+Data} (int section, Qt\+::\+Orientation orientation, int role=Qt\+::\+Display\+Role) const 
\item 
virtual Q\+Model\+Index \hyperlink{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}{index} (int row, int column, const Q\+Model\+Index \&\hyperlink{classTOCModel_a98ec7547d9098d34115006d60f749207}{parent}=Q\+Model\+Index()) const 
\item 
virtual Q\+Model\+Index \hyperlink{classTOCModel_a98ec7547d9098d34115006d60f749207}{parent} (const Q\+Model\+Index \&\hyperlink{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}{index}) const 
\item 
virtual int \hyperlink{classTOCModel_a5f7f5c77822891d195407b24c140207f}{row\+Count} (const Q\+Model\+Index \&\hyperlink{classTOCModel_a98ec7547d9098d34115006d60f749207}{parent}=Q\+Model\+Index()) const 
\item 
void \hyperlink{classTOCModel_a9c2336a41645593a2630dde4d2667425}{fill} (const \hyperlink{classOkular_1_1DocumentSynopsis}{Okular\+::\+Document\+Synopsis} $\ast$toc)
\item 
void \hyperlink{classTOCModel_a13fcb8e3043be00cd784c7f4f212df43}{clear} ()
\item 
void \hyperlink{classTOCModel_a25d87b5313bdebaa05de74172e74f92b}{set\+Current\+Viewport} (const \hyperlink{classOkular_1_1DocumentViewport}{Okular\+::\+Document\+Viewport} \&viewport)
\item 
bool \hyperlink{classTOCModel_a2139ba87991f6c0e855ff6d65c5277ae}{is\+Empty} () const 
\item 
bool \hyperlink{classTOCModel_a9b92b7bb3d6a3feaff4055616e0379d7}{equals} (const \hyperlink{classTOCModel}{T\+O\+C\+Model} $\ast$model) const 
\item 
void \hyperlink{classTOCModel_a4500588182f65e687ccd77d5b9b8ee4d}{set\+Old\+Model\+Data} (\hyperlink{classTOCModel}{T\+O\+C\+Model} $\ast$model, const Q\+Vector$<$ Q\+Model\+Index $>$ \&list)
\item 
bool \hyperlink{classTOCModel_aa91c6a23d109985b0b058fed64638176}{has\+Old\+Model\+Data} () const 
\item 
\hyperlink{classTOCModel}{T\+O\+C\+Model} $\ast$ \hyperlink{classTOCModel_a09a24dc3c9f6769d2e832f63c5d5b5da}{clear\+Old\+Model\+Data} () const 
\item 
Q\+String \hyperlink{classTOCModel_ab5fef53179a00efdc6932d99568ba395}{external\+File\+Name\+For\+Index} (const Q\+Model\+Index \&\hyperlink{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}{index}) const 
\item 
\hyperlink{classOkular_1_1DocumentViewport}{Okular\+::\+Document\+Viewport} \hyperlink{classTOCModel_a427c1248f5e04bcf6869319ae43f178b}{viewport\+For\+Index} (const Q\+Model\+Index \&\hyperlink{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}{index}) const 
\item 
Q\+String \hyperlink{classTOCModel_abbf7b2e702a92df798c446772e4debae}{url\+For\+Index} (const Q\+Model\+Index \&\hyperlink{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}{index}) const 
\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classTOCModel_a180c7f8e6908c3834c91e6c7c1d8937b}{T\+O\+C\+Model\+Private}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 24 of file tocmodel.\+h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classTOCModel_a6f61504acf382dacf6ce891bd79a0c21}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\index{T\+O\+C\+Model@{T\+O\+C\+Model}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{T\+O\+C\+Model}]{\setlength{\rightskip}{0pt plus 5cm}T\+O\+C\+Model\+::\+T\+O\+C\+Model (
\begin{DoxyParamCaption}
\item[{{\bf Okular\+::\+Document} $\ast$}]{document, }
\item[{Q\+Object $\ast$}]{parent = {\ttfamily 0}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [explicit]}}}\label{classTOCModel_a6f61504acf382dacf6ce891bd79a0c21}


Definition at line 159 of file tocmodel.\+cpp.


\begin{DoxyCode}
160     : QAbstractItemModel( \hyperlink{classTOCModel_a98ec7547d9098d34115006d60f749207}{parent} ), d( \textcolor{keyword}{new} \hyperlink{classTOCModel_a180c7f8e6908c3834c91e6c7c1d8937b}{TOCModelPrivate}( \textcolor{keyword}{this} ) )
161 \{
162     d->\hyperlink{classTOCModelPrivate_a7b98f39ef3b966a9a6a56f6ed6852183}{document} = document;
163 
164     qRegisterMetaType< QModelIndex >();
165 \}
\end{DoxyCode}
\hypertarget{classTOCModel_af7b0eff72a3bc512cfdc6b3e067e1c44}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!````~T\+O\+C\+Model@{$\sim$\+T\+O\+C\+Model}}
\index{````~T\+O\+C\+Model@{$\sim$\+T\+O\+C\+Model}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{$\sim$\+T\+O\+C\+Model}]{\setlength{\rightskip}{0pt plus 5cm}T\+O\+C\+Model\+::$\sim$\+T\+O\+C\+Model (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classTOCModel_af7b0eff72a3bc512cfdc6b3e067e1c44}


Definition at line 167 of file tocmodel.\+cpp.


\begin{DoxyCode}
168 \{
169     \textcolor{keyword}{delete} d;
170 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{classTOCModel_a13fcb8e3043be00cd784c7f4f212df43}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!clear@{clear}}
\index{clear@{clear}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{clear}]{\setlength{\rightskip}{0pt plus 5cm}void T\+O\+C\+Model\+::clear (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classTOCModel_a13fcb8e3043be00cd784c7f4f212df43}


Definition at line 305 of file tocmodel.\+cpp.


\begin{DoxyCode}
306 \{
307     \textcolor{keywordflow}{if} ( !d->\hyperlink{classTOCModelPrivate_ac5bc2d2648bec47d5ce8fe03c41484c6}{dirty} )
308        \textcolor{keywordflow}{return};
309 
310     qDeleteAll( d->\hyperlink{classTOCModelPrivate_aef31607506591767d03b45fbadad2362}{root}->\hyperlink{structTOCItem_ae6af06a9560cf19b909c1417c9bef826}{children} );
311     d->\hyperlink{classTOCModelPrivate_aef31607506591767d03b45fbadad2362}{root}->\hyperlink{structTOCItem_ae6af06a9560cf19b909c1417c9bef826}{children}.clear();
312     d->\hyperlink{classTOCModelPrivate_a12dee282cbd3e4aa96818a2aa27b714b}{currentPage}.clear();
313     reset();
314     d->\hyperlink{classTOCModelPrivate_ac5bc2d2648bec47d5ce8fe03c41484c6}{dirty} = \textcolor{keyword}{false};
315 \}
\end{DoxyCode}
\hypertarget{classTOCModel_a09a24dc3c9f6769d2e832f63c5d5b5da}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!clear\+Old\+Model\+Data@{clear\+Old\+Model\+Data}}
\index{clear\+Old\+Model\+Data@{clear\+Old\+Model\+Data}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{clear\+Old\+Model\+Data}]{\setlength{\rightskip}{0pt plus 5cm}{\bf T\+O\+C\+Model} $\ast$ T\+O\+C\+Model\+::clear\+Old\+Model\+Data (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classTOCModel_a09a24dc3c9f6769d2e832f63c5d5b5da}


Definition at line 378 of file tocmodel.\+cpp.


\begin{DoxyCode}
379 \{
380     \hyperlink{classTOCModel}{TOCModel} *oldModel = d->\hyperlink{classTOCModelPrivate_afda697cbbdd9c302f0f5e4430aec766d}{m\_oldModel};
381     d->\hyperlink{classTOCModelPrivate_afda697cbbdd9c302f0f5e4430aec766d}{m\_oldModel} = 0;
382     d->\hyperlink{classTOCModelPrivate_a6d1082a48d7387adb669e7db510fed3d}{m\_oldTocExpandedIndexes}.clear();
383     \textcolor{keywordflow}{return} oldModel;
384 \}
\end{DoxyCode}
\hypertarget{classTOCModel_abe6fc8f8ff7b8b1555978213eed885fc}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!column\+Count@{column\+Count}}
\index{column\+Count@{column\+Count}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{column\+Count}]{\setlength{\rightskip}{0pt plus 5cm}int T\+O\+C\+Model\+::column\+Count (
\begin{DoxyParamCaption}
\item[{const Q\+Model\+Index \&}]{parent = {\ttfamily QModelIndex()}}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classTOCModel_abe6fc8f8ff7b8b1555978213eed885fc}


Definition at line 172 of file tocmodel.\+cpp.


\begin{DoxyCode}
173 \{
174     Q\_UNUSED( \hyperlink{classTOCModel_a98ec7547d9098d34115006d60f749207}{parent} )
175     return 1;
176 \}
\end{DoxyCode}
\hypertarget{classTOCModel_a87dcfc9c6da7a211a78467031258daab}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!data@{data}}
\index{data@{data}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{data}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Variant T\+O\+C\+Model\+::data (
\begin{DoxyParamCaption}
\item[{const Q\+Model\+Index \&}]{index, }
\item[{int}]{role = {\ttfamily Qt\+:\+:DisplayRole}}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classTOCModel_a87dcfc9c6da7a211a78467031258daab}


Definition at line 178 of file tocmodel.\+cpp.


\begin{DoxyCode}
179 \{
180     \textcolor{keywordflow}{if} ( !\hyperlink{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}{index}.isValid() )
181         \textcolor{keywordflow}{return} QVariant();
182 
183     \hyperlink{structTOCItem}{TOCItem} *item = \textcolor{keyword}{static\_cast<} \hyperlink{structTOCItem}{TOCItem}* \textcolor{keyword}{>}( \hyperlink{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}{index}.internalPointer() );
184     \textcolor{keywordflow}{switch} ( role )
185     \{
186         \textcolor{keywordflow}{case} Qt::DisplayRole:
187         \textcolor{keywordflow}{case} Qt::ToolTipRole:
188             \textcolor{keywordflow}{return} item->\hyperlink{structTOCItem_a15c67ed9a7ac8a4992955a3e7249111c}{text};
189             \textcolor{keywordflow}{break};
190         \textcolor{keywordflow}{case} Qt::DecorationRole:
191             \textcolor{keywordflow}{if} ( item->\hyperlink{structTOCItem_a7e46da40ebe84b7c202695a181d7c52e}{highlight} )
192                 \textcolor{keywordflow}{return} KIcon( QApplication::layoutDirection() == Qt::RightToLeft ? \textcolor{stringliteral}{"arrow-left"} : \textcolor{stringliteral}{"
      arrow-right"} );
193             \textcolor{keywordflow}{break};
194         \textcolor{keywordflow}{case} \hyperlink{classPageItemDelegate_abd76ff54064145a88199c5c60880d91f}{PageItemDelegate::PageRole}:
195             \textcolor{keywordflow}{if} ( item->\hyperlink{structTOCItem_a4e72f01f6a8248cb770a35e16e33652a}{viewport}.\hyperlink{classOkular_1_1DocumentViewport_a13161b17f2d0b68bf033955f81d41584}{isValid}() )
196                 \textcolor{keywordflow}{return} item->\hyperlink{structTOCItem_a4e72f01f6a8248cb770a35e16e33652a}{viewport}.\hyperlink{classOkular_1_1DocumentViewport_a122674d4a493e79b1aa5fd5c00e81c93}{pageNumber} + 1;
197             \textcolor{keywordflow}{break};
198         \textcolor{keywordflow}{case} \hyperlink{classPageItemDelegate_ac9fbbb47e84f3908d29c1ffa164ba90e}{PageItemDelegate::PageLabelRole}:
199             if ( item->\hyperlink{structTOCItem_a4e72f01f6a8248cb770a35e16e33652a}{viewport}.\hyperlink{classOkular_1_1DocumentViewport_a13161b17f2d0b68bf033955f81d41584}{isValid}() && item->\hyperlink{structTOCItem_a4e72f01f6a8248cb770a35e16e33652a}{viewport}.
      \hyperlink{classOkular_1_1DocumentViewport_a122674d4a493e79b1aa5fd5c00e81c93}{pageNumber} < int(d->\hyperlink{classTOCModelPrivate_a7b98f39ef3b966a9a6a56f6ed6852183}{document}->\hyperlink{classOkular_1_1Document_aaf5d986758e25127946986abaa401bcd}{pages}()) )
200                 \textcolor{keywordflow}{return} d->\hyperlink{classTOCModelPrivate_a7b98f39ef3b966a9a6a56f6ed6852183}{document}->\hyperlink{classOkular_1_1Document_a1c95c2f192d739c217d00971da48f69d}{page}( item->\hyperlink{structTOCItem_a4e72f01f6a8248cb770a35e16e33652a}{viewport}.
      \hyperlink{classOkular_1_1DocumentViewport_a122674d4a493e79b1aa5fd5c00e81c93}{pageNumber} )->\hyperlink{classOkular_1_1Page_ae5cf0e5d2270c6add98bc4d9604e0e65}{label}();
201             \textcolor{keywordflow}{break};
202     \}
203     \textcolor{keywordflow}{return} QVariant();
204 \}
\end{DoxyCode}
\hypertarget{classTOCModel_a9b92b7bb3d6a3feaff4055616e0379d7}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!equals@{equals}}
\index{equals@{equals}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{equals}]{\setlength{\rightskip}{0pt plus 5cm}bool T\+O\+C\+Model\+::equals (
\begin{DoxyParamCaption}
\item[{const {\bf T\+O\+C\+Model} $\ast$}]{model}
\end{DoxyParamCaption}
) const}}\label{classTOCModel_a9b92b7bb3d6a3feaff4055616e0379d7}


Definition at line 358 of file tocmodel.\+cpp.


\begin{DoxyCode}
359 \{
360     \textcolor{keywordflow}{if} ( model )
361         \textcolor{keywordflow}{return} checkequality( model );
362     \textcolor{keywordflow}{else}
363         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
364 \}
\end{DoxyCode}
\hypertarget{classTOCModel_ab5fef53179a00efdc6932d99568ba395}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!external\+File\+Name\+For\+Index@{external\+File\+Name\+For\+Index}}
\index{external\+File\+Name\+For\+Index@{external\+File\+Name\+For\+Index}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{external\+File\+Name\+For\+Index}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String T\+O\+C\+Model\+::external\+File\+Name\+For\+Index (
\begin{DoxyParamCaption}
\item[{const Q\+Model\+Index \&}]{index}
\end{DoxyParamCaption}
) const}}\label{classTOCModel_ab5fef53179a00efdc6932d99568ba395}


Definition at line 386 of file tocmodel.\+cpp.


\begin{DoxyCode}
387 \{
388     \textcolor{keywordflow}{if} ( !\hyperlink{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}{index}.isValid() )
389         \textcolor{keywordflow}{return} QString();
390 
391     \hyperlink{structTOCItem}{TOCItem} *item = \textcolor{keyword}{static\_cast<} \hyperlink{structTOCItem}{TOCItem}* \textcolor{keyword}{>}( \hyperlink{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}{index}.internalPointer() );
392     \textcolor{keywordflow}{return} item->\hyperlink{structTOCItem_a35a5cc31947557c3acf0608688ed2346}{extFileName};
393 \}
\end{DoxyCode}
\hypertarget{classTOCModel_a9c2336a41645593a2630dde4d2667425}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!fill@{fill}}
\index{fill@{fill}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{fill}]{\setlength{\rightskip}{0pt plus 5cm}void T\+O\+C\+Model\+::fill (
\begin{DoxyParamCaption}
\item[{const {\bf Okular\+::\+Document\+Synopsis} $\ast$}]{toc}
\end{DoxyParamCaption}
)}}\label{classTOCModel_a9c2336a41645593a2630dde4d2667425}


Definition at line 267 of file tocmodel.\+cpp.


\begin{DoxyCode}
268 \{
269     \textcolor{keywordflow}{if} ( !toc )
270         \textcolor{keywordflow}{return};
271 
272     \hyperlink{classTOCModel_a13fcb8e3043be00cd784c7f4f212df43}{clear}();
273     emit layoutAboutToBeChanged();
274     d->\hyperlink{classTOCModelPrivate_a22a8c57e804e226a325adf3ff1422eeb}{addChildren}( *toc, d->\hyperlink{classTOCModelPrivate_aef31607506591767d03b45fbadad2362}{root} );
275     d->\hyperlink{classTOCModelPrivate_ac5bc2d2648bec47d5ce8fe03c41484c6}{dirty} = \textcolor{keyword}{true};
276     emit layoutChanged();
277     \textcolor{keywordflow}{if} ( \hyperlink{classTOCModel_a9b92b7bb3d6a3feaff4055616e0379d7}{equals}( d->\hyperlink{classTOCModelPrivate_afda697cbbdd9c302f0f5e4430aec766d}{m\_oldModel} ) )
278     \{
279         \textcolor{keywordflow}{foreach}( \textcolor{keyword}{const} QModelIndex &oldIndex, d->\hyperlink{classTOCModelPrivate_a6d1082a48d7387adb669e7db510fed3d}{m\_oldTocExpandedIndexes} )
280         \{
281             \textcolor{keyword}{const} QModelIndex \hyperlink{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}{index} = indexForIndex( oldIndex, \textcolor{keyword}{this} );
282             \textcolor{keywordflow}{if} ( !index.isValid() )
283                 \textcolor{keywordflow}{continue};
284 
285             QMetaObject::invokeMethod( QObject::parent(), \textcolor{stringliteral}{"expand"}, Qt::QueuedConnection, Q\_ARG( 
      QModelIndex, index ) );
286         \}
287     \}
288     \textcolor{keywordflow}{else}
289     \{
290         \textcolor{keywordflow}{foreach} ( \hyperlink{structTOCItem}{TOCItem} *item, d->\hyperlink{classTOCModelPrivate_a7b72023d2b92b6761a60dd2cd17d0930}{itemsToOpen} )
291         \{
292             \textcolor{keyword}{const} QModelIndex index = d->\hyperlink{classTOCModelPrivate_a800957d9cf750f26fb145fe06c0a3cfa}{indexForItem}( item );
293             \textcolor{keywordflow}{if} ( !index.isValid() )
294                 \textcolor{keywordflow}{continue};
295 
296             QMetaObject::invokeMethod( QObject::parent(), \textcolor{stringliteral}{"expand"}, Qt::QueuedConnection, Q\_ARG( 
      QModelIndex, index ) );
297         \}
298     \}
299     d->\hyperlink{classTOCModelPrivate_a7b72023d2b92b6761a60dd2cd17d0930}{itemsToOpen}.clear();
300     \textcolor{keyword}{delete} d->\hyperlink{classTOCModelPrivate_afda697cbbdd9c302f0f5e4430aec766d}{m\_oldModel};
301     d->\hyperlink{classTOCModelPrivate_afda697cbbdd9c302f0f5e4430aec766d}{m\_oldModel} = 0;
302     d->\hyperlink{classTOCModelPrivate_a6d1082a48d7387adb669e7db510fed3d}{m\_oldTocExpandedIndexes}.clear();
303 \}
\end{DoxyCode}
\hypertarget{classTOCModel_a77759582df0f4ce7df4e5c968a69dafa}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!has\+Children@{has\+Children}}
\index{has\+Children@{has\+Children}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{has\+Children}]{\setlength{\rightskip}{0pt plus 5cm}bool T\+O\+C\+Model\+::has\+Children (
\begin{DoxyParamCaption}
\item[{const Q\+Model\+Index \&}]{parent = {\ttfamily QModelIndex()}}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classTOCModel_a77759582df0f4ce7df4e5c968a69dafa}


Definition at line 206 of file tocmodel.\+cpp.


\begin{DoxyCode}
207 \{
208     \textcolor{keywordflow}{if} ( !\hyperlink{classTOCModel_a98ec7547d9098d34115006d60f749207}{parent}.isValid() )
209         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
210 
211     \hyperlink{structTOCItem}{TOCItem} *item = \textcolor{keyword}{static\_cast<} \hyperlink{structTOCItem}{TOCItem}* \textcolor{keyword}{>}( \hyperlink{classTOCModel_a98ec7547d9098d34115006d60f749207}{parent}.internalPointer() );
212     \textcolor{keywordflow}{return} !item->\hyperlink{structTOCItem_ae6af06a9560cf19b909c1417c9bef826}{children}.isEmpty();
213 \}
\end{DoxyCode}
\hypertarget{classTOCModel_aa91c6a23d109985b0b058fed64638176}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!has\+Old\+Model\+Data@{has\+Old\+Model\+Data}}
\index{has\+Old\+Model\+Data@{has\+Old\+Model\+Data}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{has\+Old\+Model\+Data}]{\setlength{\rightskip}{0pt plus 5cm}bool T\+O\+C\+Model\+::has\+Old\+Model\+Data (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classTOCModel_aa91c6a23d109985b0b058fed64638176}


Definition at line 373 of file tocmodel.\+cpp.


\begin{DoxyCode}
374 \{
375     \textcolor{keywordflow}{return} (d->\hyperlink{classTOCModelPrivate_afda697cbbdd9c302f0f5e4430aec766d}{m\_oldModel} != 0);
376 \}
\end{DoxyCode}
\hypertarget{classTOCModel_a5527fb6256956061df8aa98743822699}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!header\+Data@{header\+Data}}
\index{header\+Data@{header\+Data}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{header\+Data}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Variant T\+O\+C\+Model\+::header\+Data (
\begin{DoxyParamCaption}
\item[{int}]{section, }
\item[{Qt\+::\+Orientation}]{orientation, }
\item[{int}]{role = {\ttfamily Qt\+:\+:DisplayRole}}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classTOCModel_a5527fb6256956061df8aa98743822699}


Definition at line 215 of file tocmodel.\+cpp.


\begin{DoxyCode}
216 \{
217     \textcolor{keywordflow}{if} ( orientation != Qt::Horizontal )
218         \textcolor{keywordflow}{return} QVariant();
219 
220     \textcolor{keywordflow}{if} ( section == 0 && role == Qt::DisplayRole )
221         \textcolor{keywordflow}{return} \textcolor{stringliteral}{"Topics"};
222 
223     \textcolor{keywordflow}{return} QVariant();
224 \}
\end{DoxyCode}
\hypertarget{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!index@{index}}
\index{index@{index}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{index}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Model\+Index T\+O\+C\+Model\+::index (
\begin{DoxyParamCaption}
\item[{int}]{row, }
\item[{int}]{column, }
\item[{const Q\+Model\+Index \&}]{parent = {\ttfamily QModelIndex()}}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}


Definition at line 226 of file tocmodel.\+cpp.


\begin{DoxyCode}
227 \{
228     \textcolor{keywordflow}{if} ( row < 0 || column != 0 )
229         \textcolor{keywordflow}{return} QModelIndex();
230 
231     \hyperlink{structTOCItem}{TOCItem} *item = \hyperlink{classTOCModel_a98ec7547d9098d34115006d60f749207}{parent}.isValid() ? \textcolor{keyword}{static\_cast<} \hyperlink{structTOCItem}{TOCItem}* \textcolor{keyword}{>}( 
      \hyperlink{classTOCModel_a98ec7547d9098d34115006d60f749207}{parent}.internalPointer() ) : d->\hyperlink{classTOCModelPrivate_aef31607506591767d03b45fbadad2362}{root};
232     if ( row < item->children.count() )
233         \textcolor{keywordflow}{return} createIndex( row, column, item->\hyperlink{structTOCItem_ae6af06a9560cf19b909c1417c9bef826}{children}.at( row ) );
234 
235     \textcolor{keywordflow}{return} QModelIndex();
236 \}
\end{DoxyCode}
\hypertarget{classTOCModel_a2139ba87991f6c0e855ff6d65c5277ae}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!is\+Empty@{is\+Empty}}
\index{is\+Empty@{is\+Empty}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{is\+Empty}]{\setlength{\rightskip}{0pt plus 5cm}bool T\+O\+C\+Model\+::is\+Empty (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classTOCModel_a2139ba87991f6c0e855ff6d65c5277ae}


Definition at line 353 of file tocmodel.\+cpp.


\begin{DoxyCode}
354 \{
355     \textcolor{keywordflow}{return} d->\hyperlink{classTOCModelPrivate_aef31607506591767d03b45fbadad2362}{root}->\hyperlink{structTOCItem_ae6af06a9560cf19b909c1417c9bef826}{children}.isEmpty();
356 \}
\end{DoxyCode}
\hypertarget{classTOCModel_a98ec7547d9098d34115006d60f749207}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!parent@{parent}}
\index{parent@{parent}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{parent}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Model\+Index T\+O\+C\+Model\+::parent (
\begin{DoxyParamCaption}
\item[{const Q\+Model\+Index \&}]{index}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classTOCModel_a98ec7547d9098d34115006d60f749207}


Definition at line 238 of file tocmodel.\+cpp.


\begin{DoxyCode}
239 \{
240     \textcolor{keywordflow}{if} ( !\hyperlink{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}{index}.isValid() )
241         \textcolor{keywordflow}{return} QModelIndex();
242 
243     \hyperlink{structTOCItem}{TOCItem} *item = \textcolor{keyword}{static\_cast<} \hyperlink{structTOCItem}{TOCItem}* \textcolor{keyword}{>}( \hyperlink{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}{index}.internalPointer() );
244     \textcolor{keywordflow}{return} d->\hyperlink{classTOCModelPrivate_a800957d9cf750f26fb145fe06c0a3cfa}{indexForItem}( item->\hyperlink{structTOCItem_a690aa86297cce8bc277d28f8ccba1075}{parent} );
245 \}
\end{DoxyCode}
\hypertarget{classTOCModel_a5f7f5c77822891d195407b24c140207f}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!row\+Count@{row\+Count}}
\index{row\+Count@{row\+Count}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{row\+Count}]{\setlength{\rightskip}{0pt plus 5cm}int T\+O\+C\+Model\+::row\+Count (
\begin{DoxyParamCaption}
\item[{const Q\+Model\+Index \&}]{parent = {\ttfamily QModelIndex()}}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classTOCModel_a5f7f5c77822891d195407b24c140207f}


Definition at line 247 of file tocmodel.\+cpp.


\begin{DoxyCode}
248 \{
249     \hyperlink{structTOCItem}{TOCItem} *item = \hyperlink{classTOCModel_a98ec7547d9098d34115006d60f749207}{parent}.isValid() ? \textcolor{keyword}{static\_cast<} \hyperlink{structTOCItem}{TOCItem}* \textcolor{keyword}{>}( 
      \hyperlink{classTOCModel_a98ec7547d9098d34115006d60f749207}{parent}.internalPointer() ) : d->\hyperlink{classTOCModelPrivate_aef31607506591767d03b45fbadad2362}{root};
250     \textcolor{keywordflow}{return} item->\hyperlink{structTOCItem_ae6af06a9560cf19b909c1417c9bef826}{children}.count();
251 \}
\end{DoxyCode}
\hypertarget{classTOCModel_a25d87b5313bdebaa05de74172e74f92b}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!set\+Current\+Viewport@{set\+Current\+Viewport}}
\index{set\+Current\+Viewport@{set\+Current\+Viewport}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{set\+Current\+Viewport}]{\setlength{\rightskip}{0pt plus 5cm}void T\+O\+C\+Model\+::set\+Current\+Viewport (
\begin{DoxyParamCaption}
\item[{const {\bf Okular\+::\+Document\+Viewport} \&}]{viewport}
\end{DoxyParamCaption}
)}}\label{classTOCModel_a25d87b5313bdebaa05de74172e74f92b}


Definition at line 317 of file tocmodel.\+cpp.


\begin{DoxyCode}
318 \{
319     \textcolor{keywordflow}{foreach} ( \hyperlink{structTOCItem}{TOCItem}* item, d->\hyperlink{classTOCModelPrivate_a12dee282cbd3e4aa96818a2aa27b714b}{currentPage} )
320     \{
321         QModelIndex \hyperlink{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}{index} = d->\hyperlink{classTOCModelPrivate_a800957d9cf750f26fb145fe06c0a3cfa}{indexForItem}( item );
322         \textcolor{keywordflow}{if} ( !index.isValid() )
323             \textcolor{keywordflow}{continue};
324 
325         item->\hyperlink{structTOCItem_a7e46da40ebe84b7c202695a181d7c52e}{highlight} = \textcolor{keyword}{false};
326         emit dataChanged( index, index );
327     \}
328     d->\hyperlink{classTOCModelPrivate_a12dee282cbd3e4aa96818a2aa27b714b}{currentPage}.clear();
329 
330     \hyperlink{classQList}{QList< TOCItem* >} newCurrentPage;
331     d->\hyperlink{classTOCModelPrivate_a95172accc02bf3fc616ee4be9fbd99f9}{findViewport}( viewport, d->\hyperlink{classTOCModelPrivate_aef31607506591767d03b45fbadad2362}{root}, newCurrentPage );
332     \textcolor{comment}{// HACK: for now, support only the first item found}
333     \textcolor{keywordflow}{if} ( newCurrentPage.count() > 0 )
334     \{
335         \hyperlink{structTOCItem}{TOCItem} *first = newCurrentPage.first();
336         newCurrentPage.clear();
337         newCurrentPage.append( first );
338     \}
339 
340     d->\hyperlink{classTOCModelPrivate_a12dee282cbd3e4aa96818a2aa27b714b}{currentPage} = newCurrentPage;
341 
342     \textcolor{keywordflow}{foreach} ( \hyperlink{structTOCItem}{TOCItem}* item, d->\hyperlink{classTOCModelPrivate_a12dee282cbd3e4aa96818a2aa27b714b}{currentPage} )
343     \{
344         QModelIndex index = d->\hyperlink{classTOCModelPrivate_a800957d9cf750f26fb145fe06c0a3cfa}{indexForItem}( item );
345         \textcolor{keywordflow}{if} ( !index.isValid() )
346             \textcolor{keywordflow}{continue};
347 
348         item->\hyperlink{structTOCItem_a7e46da40ebe84b7c202695a181d7c52e}{highlight} = \textcolor{keyword}{true};
349         emit dataChanged( index, index );
350     \}
351 \}
\end{DoxyCode}
\hypertarget{classTOCModel_a4500588182f65e687ccd77d5b9b8ee4d}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!set\+Old\+Model\+Data@{set\+Old\+Model\+Data}}
\index{set\+Old\+Model\+Data@{set\+Old\+Model\+Data}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{set\+Old\+Model\+Data}]{\setlength{\rightskip}{0pt plus 5cm}void T\+O\+C\+Model\+::set\+Old\+Model\+Data (
\begin{DoxyParamCaption}
\item[{{\bf T\+O\+C\+Model} $\ast$}]{model, }
\item[{const Q\+Vector$<$ Q\+Model\+Index $>$ \&}]{list}
\end{DoxyParamCaption}
)}}\label{classTOCModel_a4500588182f65e687ccd77d5b9b8ee4d}


Definition at line 366 of file tocmodel.\+cpp.


\begin{DoxyCode}
367 \{
368     \textcolor{keyword}{delete} d->\hyperlink{classTOCModelPrivate_afda697cbbdd9c302f0f5e4430aec766d}{m\_oldModel};
369     d->\hyperlink{classTOCModelPrivate_afda697cbbdd9c302f0f5e4430aec766d}{m\_oldModel} = model;
370     d->\hyperlink{classTOCModelPrivate_a6d1082a48d7387adb669e7db510fed3d}{m\_oldTocExpandedIndexes} = list;
371 \}
\end{DoxyCode}
\hypertarget{classTOCModel_abbf7b2e702a92df798c446772e4debae}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!url\+For\+Index@{url\+For\+Index}}
\index{url\+For\+Index@{url\+For\+Index}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{url\+For\+Index}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String T\+O\+C\+Model\+::url\+For\+Index (
\begin{DoxyParamCaption}
\item[{const Q\+Model\+Index \&}]{index}
\end{DoxyParamCaption}
) const}}\label{classTOCModel_abbf7b2e702a92df798c446772e4debae}


Definition at line 404 of file tocmodel.\+cpp.


\begin{DoxyCode}
405 \{
406     \textcolor{keywordflow}{if} ( !\hyperlink{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}{index}.isValid() )
407         \textcolor{keywordflow}{return} QString();
408 
409     \hyperlink{structTOCItem}{TOCItem} *item = \textcolor{keyword}{static\_cast<} \hyperlink{structTOCItem}{TOCItem}* \textcolor{keyword}{>}( \hyperlink{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}{index}.internalPointer() );
410     \textcolor{keywordflow}{return} item->\hyperlink{structTOCItem_ad2cc1b82e1f4c163529fb6efcfc9c59a}{url};
411 \}
\end{DoxyCode}
\hypertarget{classTOCModel_a427c1248f5e04bcf6869319ae43f178b}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!viewport\+For\+Index@{viewport\+For\+Index}}
\index{viewport\+For\+Index@{viewport\+For\+Index}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{viewport\+For\+Index}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Okular\+::\+Document\+Viewport} T\+O\+C\+Model\+::viewport\+For\+Index (
\begin{DoxyParamCaption}
\item[{const Q\+Model\+Index \&}]{index}
\end{DoxyParamCaption}
) const}}\label{classTOCModel_a427c1248f5e04bcf6869319ae43f178b}


Definition at line 395 of file tocmodel.\+cpp.


\begin{DoxyCode}
396 \{
397     \textcolor{keywordflow}{if} ( !\hyperlink{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}{index}.isValid() )
398         \textcolor{keywordflow}{return} \hyperlink{classOkular_1_1DocumentViewport}{Okular::DocumentViewport}();
399 
400     \hyperlink{structTOCItem}{TOCItem} *item = \textcolor{keyword}{static\_cast<} \hyperlink{structTOCItem}{TOCItem}* \textcolor{keyword}{>}( \hyperlink{classTOCModel_a2ad29438ae7eb6c3085eeeb6cbe6d74d}{index}.internalPointer() );
401     \textcolor{keywordflow}{return} item->\hyperlink{structTOCItem_a4e72f01f6a8248cb770a35e16e33652a}{viewport};
402 \}
\end{DoxyCode}


\subsection{Friends And Related Function Documentation}
\hypertarget{classTOCModel_a180c7f8e6908c3834c91e6c7c1d8937b}{\index{T\+O\+C\+Model@{T\+O\+C\+Model}!T\+O\+C\+Model\+Private@{T\+O\+C\+Model\+Private}}
\index{T\+O\+C\+Model\+Private@{T\+O\+C\+Model\+Private}!T\+O\+C\+Model@{T\+O\+C\+Model}}
\subsubsection[{T\+O\+C\+Model\+Private}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf T\+O\+C\+Model\+Private}\hspace{0.3cm}{\ttfamily [friend]}}}\label{classTOCModel_a180c7f8e6908c3834c91e6c7c1d8937b}


Definition at line 57 of file tocmodel.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
ui/\hyperlink{tocmodel_8h}{tocmodel.\+h}\item 
ui/\hyperlink{tocmodel_8cpp}{tocmodel.\+cpp}\end{DoxyCompactItemize}
