\hypertarget{classEmbeddedFilesDialog}{\section{Embedded\+Files\+Dialog Class Reference}
\label{classEmbeddedFilesDialog}\index{Embedded\+Files\+Dialog@{Embedded\+Files\+Dialog}}
}


{\ttfamily \#include $<$embeddedfilesdialog.\+h$>$}

Inheritance diagram for Embedded\+Files\+Dialog\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classEmbeddedFilesDialog}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classEmbeddedFilesDialog_a0acd04713e610b2671a81e5c92d3984e}{Embedded\+Files\+Dialog} (Q\+Widget $\ast$parent, const \hyperlink{classOkular_1_1Document}{Okular\+::\+Document} $\ast$document)
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 22 of file embeddedfilesdialog.\+h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classEmbeddedFilesDialog_a0acd04713e610b2671a81e5c92d3984e}{\index{Embedded\+Files\+Dialog@{Embedded\+Files\+Dialog}!Embedded\+Files\+Dialog@{Embedded\+Files\+Dialog}}
\index{Embedded\+Files\+Dialog@{Embedded\+Files\+Dialog}!Embedded\+Files\+Dialog@{Embedded\+Files\+Dialog}}
\subsubsection[{Embedded\+Files\+Dialog}]{\setlength{\rightskip}{0pt plus 5cm}Embedded\+Files\+Dialog\+::\+Embedded\+Files\+Dialog (
\begin{DoxyParamCaption}
\item[{Q\+Widget $\ast$}]{parent, }
\item[{const {\bf Okular\+::\+Document} $\ast$}]{document}
\end{DoxyParamCaption}
)}}\label{classEmbeddedFilesDialog_a0acd04713e610b2671a81e5c92d3984e}


Definition at line 38 of file embeddedfilesdialog.\+cpp.


\begin{DoxyCode}
38                                                                                         : KDialog(parent)
39 \{
40     setCaption(i18nc(\textcolor{stringliteral}{"@title:window"}, \textcolor{stringliteral}{"Embedded Files"}));
41     setButtons(Close | User1);
42     setDefaultButton(Close);
43     setButtonGuiItem(User1, KStandardGuiItem::save());
44     enableButton(User1, \textcolor{keyword}{false});
45 
46     m\_tw = \textcolor{keyword}{new} QTreeWidget(\textcolor{keyword}{this});
47     setMainWidget(m\_tw);
48     QStringList header;
49     header.append(i18nc(\textcolor{stringliteral}{"@title:column"}, \textcolor{stringliteral}{"Name"}));
50     header.append(i18nc(\textcolor{stringliteral}{"@title:column"}, \textcolor{stringliteral}{"Description"}));
51     header.append(i18nc(\textcolor{stringliteral}{"@title:column"}, \textcolor{stringliteral}{"Size"}));
52     header.append(i18nc(\textcolor{stringliteral}{"@title:column"}, \textcolor{stringliteral}{"Created"}));
53     header.append(i18nc(\textcolor{stringliteral}{"@title:column"}, \textcolor{stringliteral}{"Modified"}));
54     m\_tw->setHeaderLabels(header);
55     m\_tw->setRootIsDecorated(\textcolor{keyword}{false});
56     m\_tw->setSelectionMode(QAbstractItemView::ExtendedSelection);
57     m\_tw->setContextMenuPolicy(Qt::CustomContextMenu);
58 
59     \textcolor{keywordflow}{foreach}(\hyperlink{classOkular_1_1EmbeddedFile}{Okular::EmbeddedFile}* ef, *document->
      \hyperlink{classOkular_1_1Document_a0d0f25adc4dab338160d951a2fafd2d3}{embeddedFiles}())
60     \{
61         QTreeWidgetItem *twi = \textcolor{keyword}{new} QTreeWidgetItem();
62         twi->setText(0, ef->\hyperlink{classOkular_1_1EmbeddedFile_a70fcfea705979ce6a31b989fc92a8f2b}{name}());
63         KMimeType::Ptr mime = KMimeType::findByPath( ef->\hyperlink{classOkular_1_1EmbeddedFile_a70fcfea705979ce6a31b989fc92a8f2b}{name}(), 0, true );
64         \textcolor{keywordflow}{if} (mime)
65         \{
66             twi->setIcon(0, KIcon(mime->iconName()));
67         \}
68         twi->setText(1, ef->\hyperlink{classOkular_1_1EmbeddedFile_a91a6efdeb1423a4030ce438b2a58c9a0}{description}());
69         twi->setText(2, ef->\hyperlink{classOkular_1_1EmbeddedFile_a16654b3db51a4c46276516f7987c975d}{size}() <= 0 ? i18nc(\textcolor{stringliteral}{"Not available size"}, \textcolor{stringliteral}{"N/A"}) : KGlobal::locale()->
      formatByteSize(ef->\hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size}()));
70         twi->setText(3, dateToString( ef->\hyperlink{classOkular_1_1EmbeddedFile_a38d16f20c546229d65f2afac1e6f162b}{creationDate}() ) );
71         twi->setText(4, dateToString( ef->\hyperlink{classOkular_1_1EmbeddedFile_a4f8bf566b56f606a2c1756b04930e5f0}{modificationDate}() ) );
72         twi->setData( 0, EmbeddedFileRole, qVariantFromValue( ef ) );
73         m\_tw->addTopLevelItem(twi);
74     \}
75         \textcolor{comment}{// Having filled the columns, it is nice to resize them to be able to read the contents}
76         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} lv = 0; lv <  m\_tw->columnCount(); ++lv) \{
77                 m\_tw->resizeColumnToContents(lv);
78         \}
79         \textcolor{comment}{// This is a bit dubious, but I'm not seeing a nice way to say "expand to fit contents"}
80         m\_tw->setMinimumWidth(640);
81         m\_tw->updateGeometry();
82 
83     connect(\textcolor{keyword}{this}, SIGNAL(user1Clicked()), \textcolor{keyword}{this}, SLOT(saveFile()));
84     connect(m\_tw, SIGNAL(customContextMenuRequested(QPoint)), \textcolor{keyword}{this}, SLOT(attachViewContextMenu(QPoint)));
85     connect(m\_tw, SIGNAL(itemSelectionChanged()), \textcolor{keyword}{this}, SLOT(updateSaveButton()));
86 \}
\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
ui/\hyperlink{embeddedfilesdialog_8h}{embeddedfilesdialog.\+h}\item 
ui/\hyperlink{embeddedfilesdialog_8cpp}{embeddedfilesdialog.\+cpp}\end{DoxyCompactItemize}
