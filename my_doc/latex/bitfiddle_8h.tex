\hypertarget{bitfiddle_8h}{\section{generators/chm/lib/bitfiddle.h File Reference}
\label{bitfiddle_8h}\index{generators/chm/lib/bitfiddle.\+h@{generators/chm/lib/bitfiddle.\+h}}
}
{\ttfamily \#include $<$stdint.\+h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{bitfiddle_8h_a4cdadd3f542d83f288d0b415c397fbb9}{U\+I\+N\+T16\+A\+R\+R\+A\+Y}(x)~((unsigned char)(x)\mbox{[}0\mbox{]} $\vert$ ((uint16\+\_\+t)(x)\mbox{[}1\mbox{]} $<$$<$ 8))
\item 
\#define \hyperlink{bitfiddle_8h_a09e5156ae22f7b3ea6e8fe0f94084390}{U\+I\+N\+T32\+A\+R\+R\+A\+Y}(x)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
unsigned int \hyperlink{bitfiddle_8h_aa84a55d4947b4ac2b8a52032cbaadd59}{get\+\_\+int32\+\_\+le} (void $\ast$addr)
\item 
uint64\+\_\+t \hyperlink{bitfiddle_8h_ac5be5a4138a59661d9c6c46ac85b0ec8}{be\+\_\+encint} (unsigned char $\ast$buffer, size\+\_\+t \&length)
\item 
int \hyperlink{bitfiddle_8h_a7300a56d8aaa3f68c5f5508795815924}{ffus} (unsigned char $\ast$byte, int $\ast$bit, size\+\_\+t \&length)
\item 
uint64\+\_\+t \hyperlink{bitfiddle_8h_a43e8ade332d40ce66a429ba61e1827cc}{sr\+\_\+int} (unsigned char $\ast$byte, int $\ast$bit, unsigned char s, unsigned char r, size\+\_\+t \&length)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{bitfiddle_8h_a4cdadd3f542d83f288d0b415c397fbb9}{\index{bitfiddle.\+h@{bitfiddle.\+h}!U\+I\+N\+T16\+A\+R\+R\+A\+Y@{U\+I\+N\+T16\+A\+R\+R\+A\+Y}}
\index{U\+I\+N\+T16\+A\+R\+R\+A\+Y@{U\+I\+N\+T16\+A\+R\+R\+A\+Y}!bitfiddle.\+h@{bitfiddle.\+h}}
\subsubsection[{U\+I\+N\+T16\+A\+R\+R\+A\+Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define U\+I\+N\+T16\+A\+R\+R\+A\+Y(
\begin{DoxyParamCaption}
\item[{}]{x}
\end{DoxyParamCaption}
)~((unsigned char)(x)\mbox{[}0\mbox{]} $\vert$ ((uint16\+\_\+t)(x)\mbox{[}1\mbox{]} $<$$<$ 8))}}\label{bitfiddle_8h_a4cdadd3f542d83f288d0b415c397fbb9}


Definition at line 26 of file bitfiddle.\+h.

\hypertarget{bitfiddle_8h_a09e5156ae22f7b3ea6e8fe0f94084390}{\index{bitfiddle.\+h@{bitfiddle.\+h}!U\+I\+N\+T32\+A\+R\+R\+A\+Y@{U\+I\+N\+T32\+A\+R\+R\+A\+Y}}
\index{U\+I\+N\+T32\+A\+R\+R\+A\+Y@{U\+I\+N\+T32\+A\+R\+R\+A\+Y}!bitfiddle.\+h@{bitfiddle.\+h}}
\subsubsection[{U\+I\+N\+T32\+A\+R\+R\+A\+Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define U\+I\+N\+T32\+A\+R\+R\+A\+Y(
\begin{DoxyParamCaption}
\item[{}]{x}
\end{DoxyParamCaption}
)}}\label{bitfiddle_8h_a09e5156ae22f7b3ea6e8fe0f94084390}
{\bfseries Value\+:}
\begin{DoxyCode}
(\hyperlink{bitfiddle_8h_a4cdadd3f542d83f288d0b415c397fbb9}{UINT16ARRAY}(x) | ((uint32\_t)(x)[2] << 16) \(\backslash\)
        | ((uint32\_t)(x)[3] << 24))
\end{DoxyCode}


Definition at line 27 of file bitfiddle.\+h.



\subsection{Function Documentation}
\hypertarget{bitfiddle_8h_ac5be5a4138a59661d9c6c46ac85b0ec8}{\index{bitfiddle.\+h@{bitfiddle.\+h}!be\+\_\+encint@{be\+\_\+encint}}
\index{be\+\_\+encint@{be\+\_\+encint}!bitfiddle.\+h@{bitfiddle.\+h}}
\subsubsection[{be\+\_\+encint}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t be\+\_\+encint (
\begin{DoxyParamCaption}
\item[{unsigned char $\ast$}]{buffer, }
\item[{size\+\_\+t \&}]{length}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{bitfiddle_8h_ac5be5a4138a59661d9c6c46ac85b0ec8}


Definition at line 37 of file bitfiddle.\+h.


\begin{DoxyCode}
38 \{
39     uint64\_t result = 0;
40     \textcolor{keywordtype}{int} shift=0;
41     length = 0;
42 
43     \textcolor{keywordflow}{do} \{
44         result |= ((*buffer) & 0x7f) << shift;
45         shift += 7;
46         ++length;
47 
48     \} \textcolor{keywordflow}{while} (*(buffer++) & 0x80);
49     
50     \textcolor{keywordflow}{return} result;
51 \}
\end{DoxyCode}
\hypertarget{bitfiddle_8h_a7300a56d8aaa3f68c5f5508795815924}{\index{bitfiddle.\+h@{bitfiddle.\+h}!ffus@{ffus}}
\index{ffus@{ffus}!bitfiddle.\+h@{bitfiddle.\+h}}
\subsubsection[{ffus}]{\setlength{\rightskip}{0pt plus 5cm}int ffus (
\begin{DoxyParamCaption}
\item[{unsigned char $\ast$}]{byte, }
\item[{int $\ast$}]{bit, }
\item[{size\+\_\+t \&}]{length}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{bitfiddle_8h_a7300a56d8aaa3f68c5f5508795815924}


Definition at line 58 of file bitfiddle.\+h.


\begin{DoxyCode}
59 \{
60     \textcolor{keywordtype}{int} bits = 0;
61     length = 0;
62 
63     \textcolor{keywordflow}{while}(*byte & (1 << *bit))\{
64         \textcolor{keywordflow}{if}(*bit) 
65             --(*bit);
66         \textcolor{keywordflow}{else} \{ 
67             ++byte;
68             ++length;
69             *bit = 7; 
70         \}
71         ++bits;
72     \}
73 
74     \textcolor{keywordflow}{if}(*bit) 
75         --(*bit);
76     \textcolor{keywordflow}{else} \{ 
77         ++length;
78         *bit = 7; 
79     \}
80     
81     \textcolor{keywordflow}{return} bits;
82 \}
\end{DoxyCode}
\hypertarget{bitfiddle_8h_aa84a55d4947b4ac2b8a52032cbaadd59}{\index{bitfiddle.\+h@{bitfiddle.\+h}!get\+\_\+int32\+\_\+le@{get\+\_\+int32\+\_\+le}}
\index{get\+\_\+int32\+\_\+le@{get\+\_\+int32\+\_\+le}!bitfiddle.\+h@{bitfiddle.\+h}}
\subsubsection[{get\+\_\+int32\+\_\+le}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int get\+\_\+int32\+\_\+le (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{addr}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{bitfiddle_8h_aa84a55d4947b4ac2b8a52032cbaadd59}


Definition at line 30 of file bitfiddle.\+h.


\begin{DoxyCode}
31 \{
32     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *p = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}*) addr;
33     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}) ( p[0] | (p[1] << 8) | (p[2] << 16) | (p[3] << 24) );
34 \}
\end{DoxyCode}
\hypertarget{bitfiddle_8h_a43e8ade332d40ce66a429ba61e1827cc}{\index{bitfiddle.\+h@{bitfiddle.\+h}!sr\+\_\+int@{sr\+\_\+int}}
\index{sr\+\_\+int@{sr\+\_\+int}!bitfiddle.\+h@{bitfiddle.\+h}}
\subsubsection[{sr\+\_\+int}]{\setlength{\rightskip}{0pt plus 5cm}uint64\+\_\+t sr\+\_\+int (
\begin{DoxyParamCaption}
\item[{unsigned char $\ast$}]{byte, }
\item[{int $\ast$}]{bit, }
\item[{unsigned char}]{s, }
\item[{unsigned char}]{r, }
\item[{size\+\_\+t \&}]{length}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{bitfiddle_8h_a43e8ade332d40ce66a429ba61e1827cc}


Definition at line 85 of file bitfiddle.\+h.


\begin{DoxyCode}
87 \{
88     uint64\_t ret; 
89     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} mask;
90     \textcolor{keywordtype}{int} n, n\_bits, num\_bits, base, count;
91     length = 0;
92     \textcolor{keywordtype}{size\_t} fflen;
93 
94     \textcolor{keywordflow}{if}(!bit || *bit > 7 || s != 2)
95         \textcolor{keywordflow}{return} ~(uint64\_t)0;
96     ret = 0;
97 
98     count = \hyperlink{bitfiddle_8h_a7300a56d8aaa3f68c5f5508795815924}{ffus}(byte, bit, fflen);
99     length += fflen;
100     byte += length;
101 
102     n\_bits = n = r + (count ? count-1 : 0) ;
103 
104     \textcolor{keywordflow}{while}(n > 0) \{
105         num\_bits = n > *bit ? *bit : n-1;
106         base = n > *bit ? 0 : *bit - (n-1);
107         
108         \textcolor{keywordflow}{switch}(num\_bits)\{
109             \textcolor{keywordflow}{case} 0: 
110                 mask = 1; 
111                 \textcolor{keywordflow}{break};
112             \textcolor{keywordflow}{case} 1: 
113                 mask = 3; 
114                 \textcolor{keywordflow}{break};
115             \textcolor{keywordflow}{case} 2: 
116                 mask = 7; 
117                 \textcolor{keywordflow}{break};
118             \textcolor{keywordflow}{case} 3: 
119                 mask = 0xf; 
120                 \textcolor{keywordflow}{break};
121             \textcolor{keywordflow}{case} 4: 
122                 mask = 0x1f; 
123                 \textcolor{keywordflow}{break};
124             \textcolor{keywordflow}{case} 5: 
125                 mask = 0x3f; 
126                 \textcolor{keywordflow}{break};
127             \textcolor{keywordflow}{case} 6: 
128                 mask = 0x7f; 
129                 \textcolor{keywordflow}{break};
130             \textcolor{keywordflow}{case} 7: 
131                 mask = 0xff; 
132                 \textcolor{keywordflow}{break};
133                         \textcolor{keywordflow}{default}:
134                                 mask = 0xff;
135                 \textcolor{keywordflow}{break};
136         \}
137 
138         mask <<= base;
139         ret = (ret << (num\_bits+1)) | 
140             (uint64\_t)((*byte & mask) >> base);
141         
142         \textcolor{keywordflow}{if}( n > *bit )\{
143             ++byte;
144             ++length;
145             n -= *bit+1;
146             *bit = 7;
147         \} \textcolor{keywordflow}{else} \{
148             *bit -= n;
149             n = 0;
150         \}
151     \}
152 
153     \textcolor{keywordflow}{if}(count) 
154         ret |= (uint64\_t)1 << n\_bits;
155 
156     \textcolor{keywordflow}{return} ret;
157 \}
\end{DoxyCode}
