\hypertarget{namespaceShellUtils}{\section{Shell\+Utils Namespace Reference}
\label{namespaceShellUtils}\index{Shell\+Utils@{Shell\+Utils}}
}
\subsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \hyperlink{namespaceShellUtils_1_1detail}{detail}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef bool($\ast$ \hyperlink{namespaceShellUtils_ae6534a80c9166faa9586519f959eaa9f}{File\+Exist\+Func} )(const Q\+String \&file\+Name)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{namespaceShellUtils_ae6534a80c9166faa9586519f959eaa9f}{File\+Exist\+Func} \hyperlink{namespaceShellUtils_ab05242bcac02b689462792c2a31e74e5}{qfile\+Exist\+Func} ()
\item 
K\+Url \hyperlink{namespaceShellUtils_a6ef2e7befd7842610901b2b31e8ecb70}{url\+From\+Arg} (const Q\+String \&\+\_\+arg, \hyperlink{namespaceShellUtils_ae6534a80c9166faa9586519f959eaa9f}{File\+Exist\+Func} exist\+\_\+func, const Q\+String \&page\+Arg)
\end{DoxyCompactItemize}


\subsection{Typedef Documentation}
\hypertarget{namespaceShellUtils_ae6534a80c9166faa9586519f959eaa9f}{\index{Shell\+Utils@{Shell\+Utils}!File\+Exist\+Func@{File\+Exist\+Func}}
\index{File\+Exist\+Func@{File\+Exist\+Func}!Shell\+Utils@{Shell\+Utils}}
\subsubsection[{File\+Exist\+Func}]{\setlength{\rightskip}{0pt plus 5cm}typedef bool($\ast$ Shell\+Utils\+::\+File\+Exist\+Func)(const Q\+String \&file\+Name)}}\label{namespaceShellUtils_ae6534a80c9166faa9586519f959eaa9f}


Definition at line 20 of file shellutils.\+h.



\subsection{Function Documentation}
\hypertarget{namespaceShellUtils_ab05242bcac02b689462792c2a31e74e5}{\index{Shell\+Utils@{Shell\+Utils}!qfile\+Exist\+Func@{qfile\+Exist\+Func}}
\index{qfile\+Exist\+Func@{qfile\+Exist\+Func}!Shell\+Utils@{Shell\+Utils}}
\subsubsection[{qfile\+Exist\+Func}]{\setlength{\rightskip}{0pt plus 5cm}{\bf File\+Exist\+Func} Shell\+Utils\+::qfile\+Exist\+Func (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{namespaceShellUtils_ab05242bcac02b689462792c2a31e74e5}


Definition at line 30 of file shellutils.\+cpp.


\begin{DoxyCode}
31 \{
32     \textcolor{keywordflow}{return} \hyperlink{namespaceShellUtils_ab05242bcac02b689462792c2a31e74e5}{detail::qfileExistFunc};
33 \}
\end{DoxyCode}
\hypertarget{namespaceShellUtils_a6ef2e7befd7842610901b2b31e8ecb70}{\index{Shell\+Utils@{Shell\+Utils}!url\+From\+Arg@{url\+From\+Arg}}
\index{url\+From\+Arg@{url\+From\+Arg}!Shell\+Utils@{Shell\+Utils}}
\subsubsection[{url\+From\+Arg}]{\setlength{\rightskip}{0pt plus 5cm}K\+Url Shell\+Utils\+::url\+From\+Arg (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{\+\_\+arg, }
\item[{File\+Exist\+Func}]{exist\+\_\+func, }
\item[{const Q\+String \&}]{page\+Arg}
\end{DoxyParamCaption}
)}}\label{namespaceShellUtils_a6ef2e7befd7842610901b2b31e8ecb70}


Definition at line 35 of file shellutils.\+cpp.


\begin{DoxyCode}
36 \{
37     \textcolor{comment}{/*}
38 \textcolor{comment}{     Rationale for the small "cut-and-paste" work being done below:}
39 \textcolor{comment}{     KCmdLineArgs::makeURL() (used by ::url() encodes any # into the URL itself,}
40 \textcolor{comment}{     so we have to find it manually and build up the URL by taking its ref,}
41 \textcolor{comment}{     if any.}
42 \textcolor{comment}{     */}
43     QString arg = \_arg;
44     arg.replace( QRegExp( \textcolor{stringliteral}{"^file:/\{1,3\}"}), \textcolor{stringliteral}{"/"} );
45     \textcolor{keywordflow}{if} ( arg != \_arg )
46     \{
47         arg = QString::fromUtf8( QByteArray::fromPercentEncoding( arg.toUtf8() ) );
48     \}
49     KUrl url = KCmdLineArgs::makeURL( arg.toUtf8() );
50     \textcolor{keywordtype}{int} sharpPos = -1;
51     \textcolor{keywordflow}{if} ( !url.isLocalFile() || !exist\_func( url.toLocalFile() ) )
52     \{
53         sharpPos = arg.lastIndexOf( QLatin1Char( \textcolor{charliteral}{'#'} ) );
54     \}
55     \textcolor{keywordflow}{if} ( sharpPos != -1 )
56     \{
57       url = KCmdLineArgs::makeURL( arg.left( sharpPos ).toUtf8() );
58       url.setHTMLRef( arg.mid( sharpPos + 1 ) );
59     \}
60     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( !pageArg.isEmpty() )
61     \{
62       url.setHTMLRef( pageArg );
63     \}
64     \textcolor{keywordflow}{return} url;
65 \}
\end{DoxyCode}
