\hypertarget{classLCHMFileImpl}{\section{L\+C\+H\+M\+File\+Impl Class Reference}
\label{classLCHMFileImpl}\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
}


C\+H\+M files processor; the implementation.  




{\ttfamily \#include $<$libchmfileimpl.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classLCHMFileImpl_ab056bfed74452a130cfb26870b3d60d0}{L\+C\+H\+M\+File\+Impl} ()
\item 
\hyperlink{classLCHMFileImpl_a5ac53193d0c20b5ed52bd894987b9760}{$\sim$\+L\+C\+H\+M\+File\+Impl} ()
\item 
bool \hyperlink{classLCHMFileImpl_a2bd2ffb002032653a199f24e091bca24}{load\+File} (const Q\+String \&archive\+Name)
\item 
void \hyperlink{classLCHMFileImpl_a483f7cc028d300635b87e6975c6a1757}{close\+All} ()
\item 
Q\+String \hyperlink{classLCHMFileImpl_ad4d900f2d705ecd494289de810318b5c}{title} () const 
\item 
Q\+String \hyperlink{classLCHMFileImpl_a4a62bf461c3b534161fd2c09b638c929}{home\+Url} () const 
\item 
bool \hyperlink{classLCHMFileImpl_a4e0ea1a6ff803428299be6d72508c5c2}{get\+File\+Content\+As\+String} (Q\+String $\ast$str, const Q\+String \&url, bool internal\+\_\+encoding=false)
\item 
bool \hyperlink{classLCHMFileImpl_a83f47ad1b36f953e7de3d32e3a83313c}{get\+File\+Content\+As\+Binary} (Q\+Byte\+Array $\ast$data, const Q\+String \&url) const 
\item 
bool \hyperlink{classLCHMFileImpl_a956d078842d2cc3ece160c9348930584}{get\+File\+Size} (unsigned int $\ast$\hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size}, const Q\+String \&url)
\item 
bool \hyperlink{classLCHMFileImpl_a21fea24de5c93c2d192fd5c6f26a1dfd}{enumerate\+Files} (Q\+String\+List $\ast$files)
\item 
Q\+String \hyperlink{classLCHMFileImpl_af5c1957e8dbcc4c4a06186d766e222be}{get\+Topic\+By\+Url} (const Q\+String \&url) const 
\item 
const Q\+Pixmap $\ast$ \hyperlink{classLCHMFileImpl_ad0b8a4f3e8949c4f713919cf4aa10683}{get\+Book\+Icon\+Pixmap} (unsigned int imagenum)
\item 
bool \hyperlink{classLCHMFileImpl_afa8e9063a88e0a8090b3412b49e67f9e}{set\+Current\+Encoding} (const \hyperlink{structLCHMTextEncoding}{L\+C\+H\+M\+Text\+Encoding} $\ast$encoding)
\item 
bool \hyperlink{classLCHMFileImpl_a7d59bfdee96e603b0cd1e19f9bf37448}{parse\+File\+And\+Fill\+Array} (const Q\+String \&file, Q\+Vector$<$ \hyperlink{structLCHMParsedEntry}{L\+C\+H\+M\+Parsed\+Entry} $>$ $\ast$data, bool as\+Index)
\begin{DoxyCompactList}\small\item\em Parse the H\+H\+C or H\+H\+S file, and fill the context (as\+Index is false) or index (as\+Index is true) array. \end{DoxyCompactList}\item 
bool \hyperlink{classLCHMFileImpl_aef2f435b859a816d543af610ed65316e}{search\+Word} (const Q\+String \&word, bool whole\+Words, bool titles\+Only, \hyperlink{libchmfileimpl_8h_a49915bbafbeae4acb86601a1e4f0c247}{L\+C\+H\+M\+Search\+Progress\+Results} \&results, bool phrase\+\_\+search)
\begin{DoxyCompactList}\small\item\em Fast search using the \$\+F\+Ifti\+Main file in the .chm. \end{DoxyCompactList}\item 
void \hyperlink{classLCHMFileImpl_ace9ea6df1f8aa45d2ef89052aa953e19}{get\+Search\+Results} (const \hyperlink{libchmfileimpl_8h_a49915bbafbeae4acb86601a1e4f0c247}{L\+C\+H\+M\+Search\+Progress\+Results} \&tempres, Q\+String\+List $\ast$results, unsigned int limit\+\_\+results=500)
\begin{DoxyCompactList}\small\item\em Finalize the search, resolve the matches, the and generate the results array. \end{DoxyCompactList}\item 
bool \hyperlink{classLCHMFileImpl_a78d3e549251cd4c842aecca5aa1ede36}{Resolve\+Object} (const Q\+String \&file\+Name, chm\+Unit\+Info $\ast$ui) const 
\begin{DoxyCompactList}\small\item\em Looks up file\+Name in the archive. \end{DoxyCompactList}\item 
size\+\_\+t \hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{Retrieve\+Object} (const chm\+Unit\+Info $\ast$ui, unsigned char $\ast$buffer, L\+O\+N\+G\+U\+I\+N\+T64 file\+Offset, L\+O\+N\+G\+I\+N\+T64 buffer\+Size) const 
\begin{DoxyCompactList}\small\item\em Retrieves an uncompressed chunk of a file in the .chm. \end{DoxyCompactList}\item 
Q\+String \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encode\+With\+Current\+Codec} (const Q\+Byte\+Array \&str) const 
\begin{DoxyCompactList}\small\item\em Encode the string with the currently selected text codec, if possible. Or return as-\/is, if not. \end{DoxyCompactList}\item 
Q\+String \hyperlink{classLCHMFileImpl_affe0747c6bda7fda43b83990b98b7a43}{encode\+With\+Current\+Codec} (const char $\ast$str) const 
\begin{DoxyCompactList}\small\item\em Encode the string with the currently selected text codec, if possible. Or return as-\/is, if not. \end{DoxyCompactList}\item 
Q\+String \hyperlink{classLCHMFileImpl_a8ce5f30817fc625ec4f790817db9871c}{encode\+Internal\+With\+Current\+Codec} (const Q\+String \&str) const 
\item 
Q\+String \hyperlink{classLCHMFileImpl_ab451208cae4f7b2b47eb703b3ae43820}{encode\+Internal\+With\+Current\+Codec} (const char $\ast$str) const 
\item 
const char $\ast$ \hyperlink{classLCHMFileImpl_a36a8e34fa0b5fd85f1118c50b4e192af}{Get\+Font\+Enc\+From\+Char\+Set} (const Q\+String \&font) const 
\begin{DoxyCompactList}\small\item\em Helper. Translates from Win32 encodings to generic wx\+Widgets ones. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{classLCHMFileImpl_accf081c4ea0e7ec303b969d53d82593a}{Get\+Leaf\+Node\+Offset} (const Q\+String \&text, uint32\+\_\+t inital\+Offset, uint32\+\_\+t buff\+Size, uint16\+\_\+t tree\+Depth)
\begin{DoxyCompactList}\small\item\em Helper. Returns the \$\+F\+Ifti\+Main offset of leaf node or 0. \end{DoxyCompactList}\item 
bool \hyperlink{classLCHMFileImpl_adb1b14253941ebf518aa458e9fdeb0d7}{Process\+W\+L\+C} (uint64\+\_\+t wlc\+\_\+count, uint64\+\_\+t wlc\+\_\+size, uint32\+\_\+t wlc\+\_\+offset, unsigned char ds, unsigned char dr, unsigned char cs, unsigned char cr, unsigned char ls, unsigned char lr, \hyperlink{libchmfileimpl_8h_a49915bbafbeae4acb86601a1e4f0c247}{L\+C\+H\+M\+Search\+Progress\+Results} \&results, bool phrase\+\_\+search)
\begin{DoxyCompactList}\small\item\em Helper. Processes the word location code entries while searching. \end{DoxyCompactList}\item 
bool \hyperlink{classLCHMFileImpl_a27eafb562224f7159476f816492fa32d}{get\+Info\+From\+Windows} ()
\begin{DoxyCompactList}\small\item\em Looks up as much information as possible from \#\+W\+I\+N\+D\+O\+W\+S/\#\+S\+T\+R\+I\+N\+G\+S. \end{DoxyCompactList}\item 
bool \hyperlink{classLCHMFileImpl_acb5511d96588dbcaa557d3e5dae04b75}{get\+Info\+From\+System} ()
\begin{DoxyCompactList}\small\item\em Looks up as much information as possible from \#\+S\+Y\+S\+T\+E\+M. \end{DoxyCompactList}\item 
void \hyperlink{classLCHMFileImpl_a804539b5cbf92972efde3d56cbf42477}{fill\+Topics\+Url\+Map} ()
\begin{DoxyCompactList}\small\item\em Fill the topic-\/url map. \end{DoxyCompactList}\item 
void \hyperlink{classLCHMFileImpl_a577e4f87f3481ff5afdeadac1be3d71d}{setup\+Text\+Codec} (const char $\ast$name)
\begin{DoxyCompactList}\small\item\em Sets up text\+Codec. \end{DoxyCompactList}\item 
bool \hyperlink{classLCHMFileImpl_aaa1a1c472fc85e30e6d970b9056c7cba}{guess\+Text\+Encoding} ()
\begin{DoxyCompactList}\small\item\em Guess used text encoding, using m\+\_\+detected\+L\+C\+I\+D and m\+\_\+font. Set up m\+\_\+text\+Codec. \end{DoxyCompactList}\item 
bool \hyperlink{classLCHMFileImpl_a4b9bc32e0bc5cedb20fc851503e7a1ab}{change\+File\+Encoding} (const char $\ast$qtencoding)
\item 
Q\+Byte\+Array \hyperlink{classLCHMFileImpl_af271c732dfabab23d3d9a3aea235b983}{convert\+Search\+Word} (const Q\+String \&src)
\begin{DoxyCompactList}\small\item\em Convert the word, so it has an appropriate encoding. \end{DoxyCompactList}\item 
int \hyperlink{classLCHMFileImpl_a4682910033121f594c7619b92a55af54}{find\+String\+In\+Quotes} (const Q\+String \&tag, int offset, Q\+String \&value, bool firstquote, bool decodeentities)
\item 
Q\+String \hyperlink{classLCHMFileImpl_ae88fabdc1dc765e88588fab616e7bdb1}{decode\+Entity} (const Q\+String \&entity)
\item 
Q\+String \hyperlink{classLCHMFileImpl_abdb0cfe83119a89df45ef681e2548b17}{normalize\+Url} (const Q\+String \&path) const 
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static const \hyperlink{structLCHMTextEncoding}{L\+C\+H\+M\+Text\+Encoding} $\ast$ \hyperlink{classLCHMFileImpl_a0f6652702449e038b03be6b4264a9f44}{get\+Text\+Encoding\+Table} ()
\begin{DoxyCompactList}\small\item\em Returns the list of all available text encodings. \end{DoxyCompactList}\item 
static const \hyperlink{structLCHMTextEncoding}{L\+C\+H\+M\+Text\+Encoding} $\ast$ \hyperlink{classLCHMFileImpl_af4a32113ec9d09e7d49f3cbf44134443}{lookup\+By\+L\+C\+I\+D} (short lcid)
\begin{DoxyCompactList}\small\item\em Looks up for encoding by L\+C\+I\+D. \end{DoxyCompactList}\item 
static const \hyperlink{structLCHMTextEncoding}{L\+C\+H\+M\+Text\+Encoding} $\ast$ \hyperlink{classLCHMFileImpl_aac2d1a35019067cd0739d038eecd9b9e}{lookup\+By\+Qt\+Codec} (const Q\+String \&codec)
\begin{DoxyCompactList}\small\item\em Looks up for encoding by Qt\+Codec. \end{DoxyCompactList}\item 
static int \hyperlink{classLCHMFileImpl_adcd0050ac69551a03e53215264820b74}{get\+Encoding\+Index} (const \hyperlink{structLCHMTextEncoding}{L\+C\+H\+M\+Text\+Encoding} $\ast$enc)
\begin{DoxyCompactList}\small\item\em Get the encoding index. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
chm\+File $\ast$ \hyperlink{classLCHMFileImpl_a82d1d6a252134efcf90a82bf8ffd8493}{m\+\_\+chm\+File}
\begin{DoxyCompactList}\small\item\em Pointer to the chmlib structure. \end{DoxyCompactList}\item 
Q\+String \hyperlink{classLCHMFileImpl_a7e8bf327eeb1f4a3ccebb46ae6bd1bfa}{m\+\_\+filename}
\begin{DoxyCompactList}\small\item\em Opened file name. \end{DoxyCompactList}\item 
Q\+Byte\+Array \hyperlink{classLCHMFileImpl_a5bf6157ef7d4bc446c389eea871c09a0}{m\+\_\+home}
\begin{DoxyCompactList}\small\item\em Home url, got from C\+H\+M file. \end{DoxyCompactList}\item 
Q\+Byte\+Array \hyperlink{classLCHMFileImpl_af3d33a88f44e3d103f08d9cc1c0ccf12}{m\+\_\+topics\+File}
\begin{DoxyCompactList}\small\item\em \hyperlink{classContext}{Context} tree filename. Got from C\+H\+M file. \end{DoxyCompactList}\item 
Q\+Byte\+Array \hyperlink{classLCHMFileImpl_ab5f59c7a474b444bb07a1992bd0a6d82}{m\+\_\+index\+File}
\begin{DoxyCompactList}\small\item\em Index filename. Got from C\+H\+M file. \end{DoxyCompactList}\item 
Q\+Byte\+Array \hyperlink{classLCHMFileImpl_abe88f8991855d7d573bd2966f9fd9f8b}{m\+\_\+title}
\begin{DoxyCompactList}\small\item\em Chm Title. Got from C\+H\+M file. \end{DoxyCompactList}\item 
short \hyperlink{classLCHMFileImpl_a6d5c5705a3c148206aae29da01555ad1}{m\+\_\+detected\+L\+C\+I\+D}
\begin{DoxyCompactList}\small\item\em L\+C\+I\+D from C\+H\+M file, used in encoding detection. \end{DoxyCompactList}\item 
Q\+String \hyperlink{classLCHMFileImpl_a2b0d1d5b99fef328aa6a8f2c7ba7a495}{m\+\_\+font}
\begin{DoxyCompactList}\small\item\em font charset from C\+H\+M file, used in encoding detection \end{DoxyCompactList}\item 
Q\+Text\+Codec $\ast$ \hyperlink{classLCHMFileImpl_a2f941b3f26a4f845d3e785cfad0eeb58}{m\+\_\+text\+Codec}
\begin{DoxyCompactList}\small\item\em Chosen text codec. \end{DoxyCompactList}\item 
Q\+Text\+Codec $\ast$ \hyperlink{classLCHMFileImpl_ad50032706377cebb647d43f348904942}{m\+\_\+text\+Codec\+For\+Special\+Files}
\item 
const \hyperlink{structLCHMTextEncoding}{L\+C\+H\+M\+Text\+Encoding} $\ast$ \hyperlink{classLCHMFileImpl_a365b502e727dd2202dec204815d23c50}{m\+\_\+current\+Encoding}
\begin{DoxyCompactList}\small\item\em Current encoding. \end{DoxyCompactList}\item 
\hyperlink{classQMap}{Q\+Map}$<$ Q\+String, Q\+String $>$ \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\+\_\+entity\+Decode\+Map}
\begin{DoxyCompactList}\small\item\em Map to decode H\+T\+M\+L entitles like \'{} based on current encoding. \end{DoxyCompactList}\item 
bool \hyperlink{classLCHMFileImpl_a1bd04b8772eaa2e3dd91bda8c4553f90}{m\+\_\+lookup\+Tables\+Valid}
\begin{DoxyCompactList}\small\item\em T\+R\+U\+E if /\#\+T\+O\+P\+I\+C\+S, /\#\+S\+T\+R\+I\+N\+G\+S, /\#\+U\+R\+L\+T\+B\+L and /\#\+U\+R\+L\+S\+T\+R are resolved, and the members below are valid. \end{DoxyCompactList}\item 
chm\+Unit\+Info \hyperlink{classLCHMFileImpl_ae4a2d92d948b4482781b6b539ff1dd75}{m\+\_\+chm\+T\+O\+P\+I\+C\+S}
\begin{DoxyCompactList}\small\item\em pointer to /\#\+T\+O\+P\+I\+C\+S \end{DoxyCompactList}\item 
chm\+Unit\+Info \hyperlink{classLCHMFileImpl_a73ed5eac37c22b2cd6d7fbc2a78b60db}{m\+\_\+chm\+S\+T\+R\+I\+N\+G\+S}
\begin{DoxyCompactList}\small\item\em pointer to /\#\+S\+T\+R\+I\+N\+G\+S \end{DoxyCompactList}\item 
chm\+Unit\+Info \hyperlink{classLCHMFileImpl_a6570c3bf72f4ed7ee5992005a88320c9}{m\+\_\+chm\+U\+R\+L\+T\+B\+L}
\begin{DoxyCompactList}\small\item\em pointer to /\#\+U\+R\+L\+T\+B\+L \end{DoxyCompactList}\item 
chm\+Unit\+Info \hyperlink{classLCHMFileImpl_a8b003f45596e247595b90b57b1e8c499}{m\+\_\+chm\+U\+R\+L\+S\+T\+R}
\begin{DoxyCompactList}\small\item\em pointer to /\#\+U\+R\+L\+S\+T\+R \end{DoxyCompactList}\item 
bool \hyperlink{classLCHMFileImpl_a7f5f505b00220199785298bdad0627f6}{m\+\_\+search\+Available}
\item 
chm\+Unit\+Info \hyperlink{classLCHMFileImpl_aff4c9c66f19b11205e4cbdabc7b2d8aa}{m\+\_\+chm\+F\+Ifti\+Main}
\begin{DoxyCompactList}\small\item\em pointer to /\$\+F\+Ifti\+Main \end{DoxyCompactList}\item 
\hyperlink{classLCHMTocImageKeeper}{L\+C\+H\+M\+Toc\+Image\+Keeper} \hyperlink{classLCHMFileImpl_afbd4fcdb78858fab9c7c594c58cd4367}{m\+\_\+images\+Keeper}
\begin{DoxyCompactList}\small\item\em Book \hyperlink{classTOC}{T\+O\+C} icon images storage. \end{DoxyCompactList}\item 
\hyperlink{classQMap}{Q\+Map}$<$ Q\+String, Q\+String $>$ \hyperlink{classLCHMFileImpl_ace36f0ffc8316cb551fb236989552620}{m\+\_\+url2topics}
\begin{DoxyCompactList}\small\item\em Map url-\/$>$topic. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
C\+H\+M files processor; the implementation. 

Definition at line 51 of file libchmfileimpl.\+h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classLCHMFileImpl_ab056bfed74452a130cfb26870b3d60d0}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{L\+C\+H\+M\+File\+Impl}]{\setlength{\rightskip}{0pt plus 5cm}L\+C\+H\+M\+File\+Impl\+::\+L\+C\+H\+M\+File\+Impl (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_ab056bfed74452a130cfb26870b3d60d0}


Definition at line 56 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
57 \{
58     \hyperlink{classLCHMFileImpl_a82d1d6a252134efcf90a82bf8ffd8493}{m\_chmFile} = NULL;
59     \hyperlink{classLCHMFileImpl_a7e8bf327eeb1f4a3ccebb46ae6bd1bfa}{m\_filename} = \hyperlink{classLCHMFileImpl_a2b0d1d5b99fef328aa6a8f2c7ba7a495}{m\_font} = QString::null;
60     
61     \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}.clear();
62     \hyperlink{classLCHMFileImpl_a2f941b3f26a4f845d3e785cfad0eeb58}{m\_textCodec} = 0;
63     \hyperlink{classLCHMFileImpl_ad50032706377cebb647d43f348904942}{m\_textCodecForSpecialFiles} = 0;
64     \hyperlink{classLCHMFileImpl_a6d5c5705a3c148206aae29da01555ad1}{m\_detectedLCID} = 0;
65     \hyperlink{classLCHMFileImpl_a365b502e727dd2202dec204815d23c50}{m\_currentEncoding} = 0;
66 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_a5ac53193d0c20b5ed52bd894987b9760}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!````~L\+C\+H\+M\+File\+Impl@{$\sim$\+L\+C\+H\+M\+File\+Impl}}
\index{````~L\+C\+H\+M\+File\+Impl@{$\sim$\+L\+C\+H\+M\+File\+Impl}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{$\sim$\+L\+C\+H\+M\+File\+Impl}]{\setlength{\rightskip}{0pt plus 5cm}L\+C\+H\+M\+File\+Impl\+::$\sim$\+L\+C\+H\+M\+File\+Impl (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_a5ac53193d0c20b5ed52bd894987b9760}


Definition at line 69 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
70 \{
71     \hyperlink{classLCHMFileImpl_a483f7cc028d300635b87e6975c6a1757}{closeAll}();
72 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{classLCHMFileImpl_a4b9bc32e0bc5cedb20fc851503e7a1ab}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!change\+File\+Encoding@{change\+File\+Encoding}}
\index{change\+File\+Encoding@{change\+File\+Encoding}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{change\+File\+Encoding}]{\setlength{\rightskip}{0pt plus 5cm}bool L\+C\+H\+M\+File\+Impl\+::change\+File\+Encoding (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{qtencoding}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_a4b9bc32e0bc5cedb20fc851503e7a1ab}
Change the current C\+H\+M encoding for internal files and texts. Encoding could be either simple Qt codepage, or set like C\+P1251/\+K\+O\+I8, which allows to set up encodings separately for text (first) and internal files (second) 

Definition at line 1206 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
1207 \{
1208     \textcolor{comment}{// Encoding could be either simple Qt codepage, or set like CP1251/KOI8, which allows to}
1209     \textcolor{comment}{// set up encodings separately for text (first) and internal files (second)}
1210     \textcolor{keyword}{const} \textcolor{keywordtype}{char} * p = strchr( qtencoding, \textcolor{charliteral}{'/'} );
1211     \textcolor{keywordflow}{if} ( p )
1212     \{
1213         \textcolor{keywordtype}{char} buf[128]; \textcolor{comment}{// much bigger that any encoding possible. No DoS; all encodings are hardcoded.}
1214         strcpy( buf, qtencoding );
1215         buf[p - qtencoding] = \textcolor{charliteral}{'\(\backslash\)0'};
1216         
1217         \hyperlink{classLCHMFileImpl_a2f941b3f26a4f845d3e785cfad0eeb58}{m\_textCodec} = QTextCodec::codecForName( buf );
1218     
1219         \textcolor{keywordflow}{if} ( !\hyperlink{classLCHMFileImpl_a2f941b3f26a4f845d3e785cfad0eeb58}{m\_textCodec} )
1220         \{
1221             qWarning( \textcolor{stringliteral}{"Could not set up Text Codec for encoding '%s'"}, buf );
1222             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1223         \}
1224         
1225         \hyperlink{classLCHMFileImpl_ad50032706377cebb647d43f348904942}{m\_textCodecForSpecialFiles} = QTextCodec::codecForName( p + 1 );
1226     
1227         \textcolor{keywordflow}{if} ( !\hyperlink{classLCHMFileImpl_ad50032706377cebb647d43f348904942}{m\_textCodecForSpecialFiles} )
1228         \{
1229             qWarning( \textcolor{stringliteral}{"Could not set up Text Codec for encoding '%s'"}, p + 1 );
1230             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1231         \}
1232     \}
1233     \textcolor{keywordflow}{else}
1234     \{
1235         \hyperlink{classLCHMFileImpl_ad50032706377cebb647d43f348904942}{m\_textCodecForSpecialFiles} = \hyperlink{classLCHMFileImpl_a2f941b3f26a4f845d3e785cfad0eeb58}{m\_textCodec} = 
      QTextCodec::codecForName (qtencoding);
1236     
1237         \textcolor{keywordflow}{if} ( !\hyperlink{classLCHMFileImpl_a2f941b3f26a4f845d3e785cfad0eeb58}{m\_textCodec} )
1238         \{
1239             qWarning( \textcolor{stringliteral}{"Could not set up Text Codec for encoding '%s'"}, qtencoding );
1240             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1241         \}
1242     \}
1243     
1244     \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}.clear();
1245     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1246 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_a483f7cc028d300635b87e6975c6a1757}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!close\+All@{close\+All}}
\index{close\+All@{close\+All}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{close\+All}]{\setlength{\rightskip}{0pt plus 5cm}void L\+C\+H\+M\+File\+Impl\+::close\+All (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_a483f7cc028d300635b87e6975c6a1757}


Definition at line 137 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
138 \{
139     \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_a82d1d6a252134efcf90a82bf8ffd8493}{m\_chmFile} == NULL )
140         \textcolor{keywordflow}{return};
141 
142     chm\_close( \hyperlink{classLCHMFileImpl_a82d1d6a252134efcf90a82bf8ffd8493}{m\_chmFile} );
143     
144     \hyperlink{classLCHMFileImpl_a82d1d6a252134efcf90a82bf8ffd8493}{m\_chmFile} = NULL;
145     \hyperlink{classLCHMFileImpl_a7e8bf327eeb1f4a3ccebb46ae6bd1bfa}{m\_filename} = \hyperlink{classLCHMFileImpl_a2b0d1d5b99fef328aa6a8f2c7ba7a495}{m\_font} = QString::null;
146     
147     \hyperlink{classLCHMFileImpl_a5bf6157ef7d4bc446c389eea871c09a0}{m\_home}.clear();
148     \hyperlink{classLCHMFileImpl_af3d33a88f44e3d103f08d9cc1c0ccf12}{m\_topicsFile}.clear();
149     \hyperlink{classLCHMFileImpl_ab5f59c7a474b444bb07a1992bd0a6d82}{m\_indexFile}.clear();
150     
151     \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}.clear();
152     \hyperlink{classLCHMFileImpl_a2f941b3f26a4f845d3e785cfad0eeb58}{m\_textCodec} = 0;
153     \hyperlink{classLCHMFileImpl_ad50032706377cebb647d43f348904942}{m\_textCodecForSpecialFiles} = 0;
154     \hyperlink{classLCHMFileImpl_a6d5c5705a3c148206aae29da01555ad1}{m\_detectedLCID} = 0;
155     \hyperlink{classLCHMFileImpl_a365b502e727dd2202dec204815d23c50}{m\_currentEncoding} = 0;
156 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_af271c732dfabab23d3d9a3aea235b983}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!convert\+Search\+Word@{convert\+Search\+Word}}
\index{convert\+Search\+Word@{convert\+Search\+Word}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{convert\+Search\+Word}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Byte\+Array L\+C\+H\+M\+File\+Impl\+::convert\+Search\+Word (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{src}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_af271c732dfabab23d3d9a3aea235b983}


Convert the word, so it has an appropriate encoding. 



Definition at line 867 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
868 \{
869     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} * searchwordtable[128] =
870     \{
871         0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \textcolor{stringliteral}{"s"}, 0, \textcolor{stringliteral}{"oe"}, 0, 0, 0,
872   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \textcolor{stringliteral}{"s"}, 0, \textcolor{stringliteral}{"oe"}, 0, 0, \textcolor{stringliteral}{"y"},
873   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
874   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
875   \textcolor{stringliteral}{"a"}, \textcolor{stringliteral}{"a"}, \textcolor{stringliteral}{"a"}, \textcolor{stringliteral}{"a"}, \textcolor{stringliteral}{"a"}, \textcolor{stringliteral}{"a"}, \textcolor{stringliteral}{"ae"}, \textcolor{stringliteral}{"c"}, \textcolor{stringliteral}{"e"}, \textcolor{stringliteral}{"e"}, \textcolor{stringliteral}{"e"}, \textcolor{stringliteral}{"e"}, \textcolor{stringliteral}{"i"}, \textcolor{stringliteral}{"i"}, \textcolor{stringliteral}{"i"}, \textcolor{stringliteral}{"i"},
876   \textcolor{stringliteral}{"d"}, \textcolor{stringliteral}{"n"}, \textcolor{stringliteral}{"o"}, \textcolor{stringliteral}{"o"}, \textcolor{stringliteral}{"o"}, \textcolor{stringliteral}{"o"}, \textcolor{stringliteral}{"o"}, 0, \textcolor{stringliteral}{"o"}, \textcolor{stringliteral}{"u"}, \textcolor{stringliteral}{"u"}, \textcolor{stringliteral}{"u"}, \textcolor{stringliteral}{"u"}, \textcolor{stringliteral}{"y"}, \textcolor{stringliteral}{"\(\backslash\)xDE"}, \textcolor{stringliteral}{"ss"},
877   \textcolor{stringliteral}{"a"}, \textcolor{stringliteral}{"a"}, \textcolor{stringliteral}{"a"}, \textcolor{stringliteral}{"a"}, \textcolor{stringliteral}{"a"}, \textcolor{stringliteral}{"a"}, \textcolor{stringliteral}{"ae"}, \textcolor{stringliteral}{"c"}, \textcolor{stringliteral}{"e"}, \textcolor{stringliteral}{"e"}, \textcolor{stringliteral}{"e"}, \textcolor{stringliteral}{"e"}, \textcolor{stringliteral}{"i"}, \textcolor{stringliteral}{"i"}, \textcolor{stringliteral}{"i"}, \textcolor{stringliteral}{"i"},
878   \textcolor{stringliteral}{"o"}, \textcolor{stringliteral}{"n"}, \textcolor{stringliteral}{"o"}, \textcolor{stringliteral}{"o"}, \textcolor{stringliteral}{"o"}, \textcolor{stringliteral}{"o"}, \textcolor{stringliteral}{"o"}, 0, \textcolor{stringliteral}{"o"}, \textcolor{stringliteral}{"u"}, \textcolor{stringliteral}{"u"}, \textcolor{stringliteral}{"u"}, \textcolor{stringliteral}{"u"}, \textcolor{stringliteral}{"y"}, \textcolor{stringliteral}{"\(\backslash\)xFE"}, \textcolor{stringliteral}{"y"}
879     \};
880 
881     \textcolor{keywordflow}{if} ( !\hyperlink{classLCHMFileImpl_a2f941b3f26a4f845d3e785cfad0eeb58}{m\_textCodec} )
882         \textcolor{keywordflow}{return} (QByteArray) qPrintable( src.toLower() );
883 
884     QByteArray \hyperlink{synctex__parser__utils_8c_a723e06ace24a60ed94dca199595c08d2}{dest} = \hyperlink{classLCHMFileImpl_a2f941b3f26a4f845d3e785cfad0eeb58}{m\_textCodec}->fromUnicode (src);
885 
886     \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} i = 0; i < dest.size(); i++ )
887     \{
888         \textcolor{keywordflow}{if} ( dest[i] & 0x80 )
889         \{
890             \textcolor{keywordtype}{int} index = dest[i] & 0x7F;
891             \textcolor{keywordflow}{if} ( searchwordtable[index] )
892                 dest.replace (i, 1, searchwordtable[index]);
893             \textcolor{keywordflow}{else}
894                 dest.remove (i, 1);
895         \}
896     \}
897 
898     \textcolor{keywordflow}{return} dest.toLower();
899 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_ae88fabdc1dc765e88588fab616e7bdb1}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!decode\+Entity@{decode\+Entity}}
\index{decode\+Entity@{decode\+Entity}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{decode\+Entity}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String L\+C\+H\+M\+File\+Impl\+::decode\+Entity (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{entity}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_ae88fabdc1dc765e88588fab616e7bdb1}
Decodes Unicode H\+T\+M\+L entities according to current encoding. 

Definition at line 159 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
160 \{
161     \textcolor{comment}{// Set up m\_entityDecodeMap characters according to current textCodec}
162     \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}.isEmpty() )
163     \{
164         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"AElig"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)306"})
      ; \textcolor{comment}{// capital AE diphthong (ligature)}
165         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Aacute"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      01"}); \textcolor{comment}{// capital A, acute accent}
166         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Acirc"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)302"})
      ; \textcolor{comment}{// capital A, circumflex accent}
167         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Agrave"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      00"}); \textcolor{comment}{// capital A, grave accent}
168         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Aring"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)305"})
      ; \textcolor{comment}{// capital A, ring}
169         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Atilde"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      03"}); \textcolor{comment}{// capital A, tilde}
170         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Auml"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)304"})
      ; \textcolor{comment}{// capital A, dieresis or umlaut mark}
171         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Ccedil"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      07"}); \textcolor{comment}{// capital C, cedilla}
172         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Dstrok"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      20"}); \textcolor{comment}{// whatever}
173         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"ETH"}]   = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)320"})
      ; \textcolor{comment}{// capital Eth, Icelandic}
174         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Eacute"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      11"}); \textcolor{comment}{// capital E, acute accent}
175         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Ecirc"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)312"})
      ; \textcolor{comment}{// capital E, circumflex accent}
176         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Egrave"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      10"}); \textcolor{comment}{// capital E, grave accent}
177         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Euml"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)313"})
      ; \textcolor{comment}{// capital E, dieresis or umlaut mark}
178         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Iacute"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      15"}); \textcolor{comment}{// capital I, acute accent}
179         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Icirc"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)316"})
      ; \textcolor{comment}{// capital I, circumflex accent}
180         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Igrave"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      14"}); \textcolor{comment}{// capital I, grave accent}
181         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Iuml"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)317"})
      ; \textcolor{comment}{// capital I, dieresis or umlaut mark}
182         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Ntilde"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      21"}); \textcolor{comment}{// capital N, tilde}
183         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Oacute"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      23"}); \textcolor{comment}{// capital O, acute accent}
184         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Ocirc"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)324"})
      ; \textcolor{comment}{// capital O, circumflex accent}
185         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Ograve"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      22"}); \textcolor{comment}{// capital O, grave accent}
186         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Oslash"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      30"}); \textcolor{comment}{// capital O, slash}
187         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Otilde"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      25"}); \textcolor{comment}{// capital O, tilde}
188         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Ouml"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)326"})
      ; \textcolor{comment}{// capital O, dieresis or umlaut mark}
189         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"THORN"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)336"})
      ; \textcolor{comment}{// capital THORN, Icelandic}
190         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Uacute"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      32"}); \textcolor{comment}{// capital U, acute accent}
191         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Ucirc"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)333"})
      ; \textcolor{comment}{// capital U, circumflex accent}
192         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Ugrave"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      31"}); \textcolor{comment}{// capital U, grave accent}
193         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Uuml"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)334"})
      ; \textcolor{comment}{// capital U, dieresis or umlaut mark}
194         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Yacute"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      35"}); \textcolor{comment}{// capital Y, acute accent}
195         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"OElig"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)338"})
      ; \textcolor{comment}{// capital Y, acute accent}
196         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"oelig"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)339"})
      ; \textcolor{comment}{// capital Y, acute accent}
197                         
198         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"aacute"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      41"}); \textcolor{comment}{// small a, acute accent}
199         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"acirc"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)342"})
      ; \textcolor{comment}{// small a, circumflex accent}
200         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"aelig"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)346"})
      ; \textcolor{comment}{// small ae diphthong (ligature)}
201         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"agrave"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      40"}); \textcolor{comment}{// small a, grave accent}
202         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"aring"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)345"})
      ; \textcolor{comment}{// small a, ring}
203         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"atilde"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      43"}); \textcolor{comment}{// small a, tilde}
204         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"auml"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)344"})
      ; \textcolor{comment}{// small a, dieresis or umlaut mark}
205         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"ccedil"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      47"}); \textcolor{comment}{// small c, cedilla}
206         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"eacute"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      51"}); \textcolor{comment}{// small e, acute accent}
207         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"ecirc"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)352"})
      ; \textcolor{comment}{// small e, circumflex accent}
208         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Scaron"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      52"}); \textcolor{comment}{// small e, circumflex accent}
209         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"egrave"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      50"}); \textcolor{comment}{// small e, grave accent}
210         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"eth"}]   = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)360"})
      ; \textcolor{comment}{// small eth, Icelandic}
211         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"euml"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)353"})
      ; \textcolor{comment}{// small e, dieresis or umlaut mark}
212         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"iacute"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      55"}); \textcolor{comment}{// small i, acute accent}
213         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"icirc"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)356"})
      ; \textcolor{comment}{// small i, circumflex accent}
214         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"igrave"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      54"}); \textcolor{comment}{// small i, grave accent}
215         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"iuml"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)357"})
      ; \textcolor{comment}{// small i, dieresis or umlaut mark}
216         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"ntilde"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      61"}); \textcolor{comment}{// small n, tilde}
217         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"oacute"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      63"}); \textcolor{comment}{// small o, acute accent}
218         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"ocirc"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)364"})
      ; \textcolor{comment}{// small o, circumflex accent}
219         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"ograve"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      62"}); \textcolor{comment}{// small o, grave accent}
220         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"oslash"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      70"}); \textcolor{comment}{// small o, slash}
221         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"otilde"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      65"}); \textcolor{comment}{// small o, tilde}
222         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"ouml"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)366"})
      ; \textcolor{comment}{// small o, dieresis or umlaut mark}
223         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"szlig"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)337"})
      ; \textcolor{comment}{// small sharp s, German (sz ligature)}
224         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"thorn"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)376"})
      ; \textcolor{comment}{// small thorn, Icelandic}
225         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"uacute"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      72"}); \textcolor{comment}{// small u, acute accent}
226         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"ucirc"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)373"})
      ; \textcolor{comment}{// small u, circumflex accent}
227         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"ugrave"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      71"}); \textcolor{comment}{// small u, grave accent}
228         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"uuml"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)374"})
      ; \textcolor{comment}{// small u, dieresis or umlaut mark}
229         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"yacute"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      75"}); \textcolor{comment}{// small y, acute accent}
230         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"yuml"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)377"})
      ; \textcolor{comment}{// small y, dieresis or umlaut mark}
231     
232         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"iexcl"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)241"})
      ;
233         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"cent"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)242"})
      ;
234         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"pound"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)243"})
      ;
235         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"curren"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)2
      44"});
236         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"yen"}]   = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)245"})
      ;
237         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"brvbar"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)2
      46"});
238         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"sect"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)247"})
      ;
239         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"uml"}]   = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)250"})
      ;
240         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"ordf"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)252"})
      ;
241         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"laquo"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)253"})
      ;
242         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"not"}]   = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)254"})
      ;
243         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"shy"}]   = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)255"})
      ;
244         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"macr"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)257"})
      ;
245         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"deg"}]   = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)260"})
      ;
246         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"plusmn"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)2
      61"});
247         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"sup1"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)271"})
      ;
248         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"sup2"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)262"})
      ;
249         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"sup3"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)263"})
      ;
250         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"acute"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)264"})
      ;
251         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"micro"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)265"})
      ;
252         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"para"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)266"})
      ;
253         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"middot"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)2
      67"});
254         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"cedil"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)270"})
      ;
255         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"ordm"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)272"})
      ;
256         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"raquo"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)273"})
      ;
257         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"frac14"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)2
      74"});
258         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"frac12"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)2
      75"});
259         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"frac34"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)2
      76"});
260         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"iquest"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)2
      77"});
261         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"times"}] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)327"})
      ;
262         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"divide"}]    = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)3
      67"});
263                 
264         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"copy"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)251"})
      ; \textcolor{comment}{// copyright sign}
265         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"reg"}]   = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)256"})
      ; \textcolor{comment}{// registered sign}
266         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"nbsp"}]  = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} (\textcolor{stringliteral}{"\(\backslash\)240"})
      ; \textcolor{comment}{// non breaking space}
267 
268         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"fnof"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 402);
269                 
270         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Delta"}] = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 916);
271         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Pi"}]    = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 928);
272         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Sigma"}] = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 931);
273         
274         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"beta"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 946);
275         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"gamma"}] = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 947);
276         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"delta"}] = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 948);
277         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"eta"}]   = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 951);
278         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"theta"}] = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 952);
279         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"lambda"}]    = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 955);
280         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"mu"}]    = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 956);
281         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"nu"}]    = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 957);
282         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"pi"}]    = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 960);
283         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"rho"}]   = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 961);
284         
285         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"lsquo"}] = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8216);
286         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"rsquo"}] = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8217);
287         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"rdquo"}] = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8221);
288         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"bdquo"}] = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8222);
289         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"trade"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8482);
290         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"ldquo"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8220);
291         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"ndash"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8211);
292         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"mdash"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8212);
293         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"bull"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8226);
294         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"hellip"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8230);
295         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"emsp"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8195);
296         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"rarr"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8594);
297         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"rArr"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8658);
298         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"crarr"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8629);
299         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"le"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8804);
300         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"ge"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8805);
301         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"lte"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8804); \textcolor{comment}{// wrong, but used
       somewhere}
302         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"gte"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8805); \textcolor{comment}{// wrong, but used
       somewhere}
303         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"dagger"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8224);
304         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Dagger"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8225);
305         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"euro"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8364);
306         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"asymp"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8776);
307         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"isin"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8712);
308         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"notin"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8713);
309         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"prod"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8719);
310         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"ne"}]  = QChar((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short}) 8800);
311                 
312         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"amp"}]   = \textcolor{stringliteral}{"&"};  \textcolor{comment}{// ampersand}
313         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"gt"}] = \textcolor{stringliteral}{">"}; \textcolor{comment}{// greater than}
314         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"lt"}] = \textcolor{stringliteral}{"<"};     \textcolor{comment}{// less than}
315         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"quot"}] = \textcolor{stringliteral}{"\(\backslash\)""}; \textcolor{comment}{// double quote}
316         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"apos"}] = \textcolor{stringliteral}{"'"};   \textcolor{comment}{// single quote}
317         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"frasl"}]  = \textcolor{stringliteral}{"/"};
318         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"minus"}]  = \textcolor{stringliteral}{"-"};
319         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"oplus"}] = \textcolor{stringliteral}{"+"};
320         \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}[\textcolor{stringliteral}{"Prime"}] = \textcolor{stringliteral}{"\(\backslash\)""};
321     \}
322 
323     \textcolor{comment}{// If entity is an ASCII code like &#12349; - just decode it}
324     \textcolor{keywordflow}{if} ( entity[0] == \textcolor{charliteral}{'#'} )
325     \{
326         \textcolor{keywordtype}{bool} valid;
327         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ascode = entity.mid(1).toUInt( &valid );
328                         
329         \textcolor{keywordflow}{if} ( !valid )
330         \{
331             qWarning ( \textcolor{stringliteral}{"LCHMFileImpl::decodeEntity: could not decode HTML entity '%s'"}, qPrintable( entity 
      ) );
332             \textcolor{keywordflow}{return} QString::null;
333         \}
334 
335         \textcolor{keywordflow}{return} (QString) (QChar( ascode ));
336     \}
337     \textcolor{keywordflow}{else}
338     \{
339         \hyperlink{classQMap}{QMap<QString, QString>::const\_iterator} it = 
      \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}.constFind( entity );
340 
341         \textcolor{keywordflow}{if} ( it == \hyperlink{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{m\_entityDecodeMap}.constEnd() )
342         \{
343             qWarning (\textcolor{stringliteral}{"LCHMFileImpl::decodeEntity: could not decode HTML entity '%s'"}, qPrintable( entity )
      );
344             \textcolor{keywordflow}{return} QString::null;
345         \}
346         
347         \textcolor{keywordflow}{return} *it;
348     \}
349 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_a8ce5f30817fc625ec4f790817db9871c}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!encode\+Internal\+With\+Current\+Codec@{encode\+Internal\+With\+Current\+Codec}}
\index{encode\+Internal\+With\+Current\+Codec@{encode\+Internal\+With\+Current\+Codec}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{encode\+Internal\+With\+Current\+Codec}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String L\+C\+H\+M\+File\+Impl\+::encode\+Internal\+With\+Current\+Codec (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{str}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}}\label{classLCHMFileImpl_a8ce5f30817fc625ec4f790817db9871c}
Encode the string from internal files with the currently selected text codec, if possible. Or return as-\/is, if not. 

Definition at line 125 of file libchmfileimpl.\+h.


\begin{DoxyCode}
126         \{
127             \textcolor{keywordflow}{return} (\hyperlink{classLCHMFileImpl_ad50032706377cebb647d43f348904942}{m\_textCodecForSpecialFiles} ? 
      \hyperlink{classLCHMFileImpl_ad50032706377cebb647d43f348904942}{m\_textCodecForSpecialFiles}->toUnicode( qPrintable(str) ) : str);
128         \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_ab451208cae4f7b2b47eb703b3ae43820}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!encode\+Internal\+With\+Current\+Codec@{encode\+Internal\+With\+Current\+Codec}}
\index{encode\+Internal\+With\+Current\+Codec@{encode\+Internal\+With\+Current\+Codec}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{encode\+Internal\+With\+Current\+Codec}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String L\+C\+H\+M\+File\+Impl\+::encode\+Internal\+With\+Current\+Codec (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{str}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}}\label{classLCHMFileImpl_ab451208cae4f7b2b47eb703b3ae43820}
Encode the string from internal files with the currently selected text codec, if possible. Or return as-\/is, if not. 

Definition at line 132 of file libchmfileimpl.\+h.


\begin{DoxyCode}
133         \{
134             \textcolor{keywordflow}{return} (\hyperlink{classLCHMFileImpl_ad50032706377cebb647d43f348904942}{m\_textCodecForSpecialFiles} ? 
      \hyperlink{classLCHMFileImpl_ad50032706377cebb647d43f348904942}{m\_textCodecForSpecialFiles}->toUnicode (str) : (QString) str);
135         \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!encode\+With\+Current\+Codec@{encode\+With\+Current\+Codec}}
\index{encode\+With\+Current\+Codec@{encode\+With\+Current\+Codec}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{encode\+With\+Current\+Codec}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String L\+C\+H\+M\+File\+Impl\+::encode\+With\+Current\+Codec (
\begin{DoxyParamCaption}
\item[{const Q\+Byte\+Array \&}]{str}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}}\label{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}


Encode the string with the currently selected text codec, if possible. Or return as-\/is, if not. 



Definition at line 112 of file libchmfileimpl.\+h.


\begin{DoxyCode}
113         \{
114             \textcolor{keywordflow}{return} (\hyperlink{classLCHMFileImpl_a2f941b3f26a4f845d3e785cfad0eeb58}{m\_textCodec} ? \hyperlink{classLCHMFileImpl_a2f941b3f26a4f845d3e785cfad0eeb58}{m\_textCodec}->toUnicode( str.constData () ) : str);
115         \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_affe0747c6bda7fda43b83990b98b7a43}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!encode\+With\+Current\+Codec@{encode\+With\+Current\+Codec}}
\index{encode\+With\+Current\+Codec@{encode\+With\+Current\+Codec}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{encode\+With\+Current\+Codec}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String L\+C\+H\+M\+File\+Impl\+::encode\+With\+Current\+Codec (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{str}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}}\label{classLCHMFileImpl_affe0747c6bda7fda43b83990b98b7a43}


Encode the string with the currently selected text codec, if possible. Or return as-\/is, if not. 



Definition at line 118 of file libchmfileimpl.\+h.


\begin{DoxyCode}
119         \{
120             \textcolor{keywordflow}{return} (\hyperlink{classLCHMFileImpl_a2f941b3f26a4f845d3e785cfad0eeb58}{m\_textCodec} ? \hyperlink{classLCHMFileImpl_a2f941b3f26a4f845d3e785cfad0eeb58}{m\_textCodec}->toUnicode( str ) : (QString) str);
121         \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_a21fea24de5c93c2d192fd5c6f26a1dfd}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!enumerate\+Files@{enumerate\+Files}}
\index{enumerate\+Files@{enumerate\+Files}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{enumerate\+Files}]{\setlength{\rightskip}{0pt plus 5cm}bool L\+C\+H\+M\+File\+Impl\+::enumerate\+Files (
\begin{DoxyParamCaption}
\item[{Q\+String\+List $\ast$}]{files}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_a21fea24de5c93c2d192fd5c6f26a1dfd}


Definition at line 1172 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
1173 \{
1174     files->clear();
1175     \textcolor{keywordflow}{return} chm\_enumerate( \hyperlink{classLCHMFileImpl_a82d1d6a252134efcf90a82bf8ffd8493}{m\_chmFile}, CHM\_ENUMERATE\_ALL, 
      \hyperlink{libchmfileimpl_8cpp_a880860f9047bdbec5bfcf26cb8f662c4}{chm\_enumerator\_callback}, files );
1176 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_a804539b5cbf92972efde3d56cbf42477}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!fill\+Topics\+Url\+Map@{fill\+Topics\+Url\+Map}}
\index{fill\+Topics\+Url\+Map@{fill\+Topics\+Url\+Map}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{fill\+Topics\+Url\+Map}]{\setlength{\rightskip}{0pt plus 5cm}void L\+C\+H\+M\+File\+Impl\+::fill\+Topics\+Url\+Map (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_a804539b5cbf92972efde3d56cbf42477}


Fill the topic-\/url map. 



Definition at line 1249 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
1250 \{
1251     \textcolor{keywordflow}{if} ( !\hyperlink{classLCHMFileImpl_a1bd04b8772eaa2e3dd91bda8c4553f90}{m\_lookupTablesValid} )
1252         \textcolor{keywordflow}{return};
1253 
1254     \textcolor{comment}{// Read those tables}
1255     QVector<unsigned char> topics( \hyperlink{classLCHMFileImpl_ae4a2d92d948b4482781b6b539ff1dd75}{m\_chmTOPICS}.length ), urltbl( 
      \hyperlink{classLCHMFileImpl_a6570c3bf72f4ed7ee5992005a88320c9}{m\_chmURLTBL}.length ), urlstr( \hyperlink{classLCHMFileImpl_a8b003f45596e247595b90b57b1e8c499}{m\_chmURLSTR}.length ), strings( 
      \hyperlink{classLCHMFileImpl_a73ed5eac37c22b2cd6d7fbc2a78b60db}{m\_chmSTRINGS}.length );
1256 
1257     \textcolor{keywordflow}{if} ( !\hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{RetrieveObject}( &\hyperlink{classLCHMFileImpl_ae4a2d92d948b4482781b6b539ff1dd75}{m\_chmTOPICS}, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}*) topics.data(), 0, 
      \hyperlink{classLCHMFileImpl_ae4a2d92d948b4482781b6b539ff1dd75}{m\_chmTOPICS}.length )
1258     || !\hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{RetrieveObject}( &\hyperlink{classLCHMFileImpl_a6570c3bf72f4ed7ee5992005a88320c9}{m\_chmURLTBL}, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}*) urltbl.data(), 0, 
      \hyperlink{classLCHMFileImpl_a6570c3bf72f4ed7ee5992005a88320c9}{m\_chmURLTBL}.length )
1259     || !\hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{RetrieveObject}( &\hyperlink{classLCHMFileImpl_a8b003f45596e247595b90b57b1e8c499}{m\_chmURLSTR}, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}*) urlstr.data(), 0, 
      \hyperlink{classLCHMFileImpl_a8b003f45596e247595b90b57b1e8c499}{m\_chmURLSTR}.length )
1260     || !\hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{RetrieveObject}( &\hyperlink{classLCHMFileImpl_a73ed5eac37c22b2cd6d7fbc2a78b60db}{m\_chmSTRINGS}, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}*) strings.data(), 0, 
      \hyperlink{classLCHMFileImpl_a73ed5eac37c22b2cd6d7fbc2a78b60db}{m\_chmSTRINGS}.length ) )
1261         \textcolor{keywordflow}{return};
1262     
1263     \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < \hyperlink{classLCHMFileImpl_ae4a2d92d948b4482781b6b539ff1dd75}{m\_chmTOPICS}.length; i += 
      \hyperlink{libchmfileimpl_8cpp_aee75fb5b9a986eae20d17ffa638c98e4}{TOPICS\_ENTRY\_LEN} )
1264     \{
1265         uint32\_t off\_title = \hyperlink{bitfiddle_8h_aa84a55d4947b4ac2b8a52032cbaadd59}{get\_int32\_le}( (uint32\_t *)(topics.data() + i + 4) );
1266         uint32\_t off\_url = \hyperlink{bitfiddle_8h_aa84a55d4947b4ac2b8a52032cbaadd59}{get\_int32\_le}( (uint32\_t *)(topics.data() + i + 8) );
1267         off\_url = \hyperlink{bitfiddle_8h_aa84a55d4947b4ac2b8a52032cbaadd59}{get\_int32\_le}( (uint32\_t *)( urltbl.data() + off\_url + 8) ) + 8;
1268 
1269         QString url = LCHMUrlFactory::makeURLabsoluteIfNeeded( (\textcolor{keyword}{const} \textcolor{keywordtype}{char}*) urlstr.data() + off\_url );
1270 
1271         \textcolor{keywordflow}{if} ( off\_title < (uint32\_t)strings.size() )
1272             \hyperlink{classLCHMFileImpl_ace36f0ffc8316cb551fb236989552620}{m\_url2topics}[url] = \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec} ( (\textcolor{keyword}{const} \textcolor{keywordtype}{char}*) 
      strings.data() + off\_title );
1273         \textcolor{keywordflow}{else}
1274             \hyperlink{classLCHMFileImpl_ace36f0ffc8316cb551fb236989552620}{m\_url2topics}[url] = \textcolor{stringliteral}{"Untitled"};
1275     \}
1276 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_a4682910033121f594c7619b92a55af54}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!find\+String\+In\+Quotes@{find\+String\+In\+Quotes}}
\index{find\+String\+In\+Quotes@{find\+String\+In\+Quotes}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{find\+String\+In\+Quotes}]{\setlength{\rightskip}{0pt plus 5cm}int L\+C\+H\+M\+File\+Impl\+::find\+String\+In\+Quotes (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{tag, }
\item[{int}]{offset, }
\item[{Q\+String \&}]{value, }
\item[{bool}]{firstquote, }
\item[{bool}]{decodeentities}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classLCHMFileImpl_a4682910033121f594c7619b92a55af54}
Helper procedure in \hyperlink{classTOC}{T\+O\+C} parsing, decodes the string between the quotes (first or last) with decoding H\+T\+M\+L entities like \'{\i} 

Definition at line 352 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
353 \{
354     \textcolor{keywordtype}{int} qbegin = tag.indexOf (\textcolor{charliteral}{'"'}, offset);
355     
356     \textcolor{keywordflow}{if} ( qbegin == -1 )
357         qFatal (\textcolor{stringliteral}{"LCHMFileImpl::findStringInQuotes: cannot find first quote in <param> tag: '%s'"}, 
      qPrintable( tag ));
358 
359     \textcolor{keywordtype}{int} qend = firstquote ? tag.indexOf (\textcolor{charliteral}{'"'}, qbegin + 1) : tag.lastIndexOf (\textcolor{charliteral}{'"'});
360 
361     \textcolor{keywordflow}{if} ( qend == -1 || qend <= qbegin )
362         qFatal (\textcolor{stringliteral}{"LCHMFileImpl::findStringInQuotes: cannot find last quote in <param> tag: '%s'"}, qPrintable
      ( tag ));
363 
364     \textcolor{comment}{// If we do not need to decode HTML entities, just return.}
365     \textcolor{keywordflow}{if} ( decodeentities )
366     \{
367         QString htmlentity = QString::null;
368         \textcolor{keywordtype}{bool} fill\_entity = \textcolor{keyword}{false};
369     
370         value.reserve (qend - qbegin); \textcolor{comment}{// to avoid multiple memory allocations}
371     
372         \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} i = qbegin + 1; i < qend; i++ )
373         \{
374             \textcolor{keywordflow}{if} ( !fill\_entity )
375             \{
376                 \textcolor{keywordflow}{if} ( tag[i] == \textcolor{charliteral}{'&'} ) \textcolor{comment}{// HTML entity starts}
377                     fill\_entity = \textcolor{keyword}{true};
378                 \textcolor{keywordflow}{else}
379                     value.append (tag[i]);
380             \}
381             \textcolor{keywordflow}{else}
382             \{
383                 \textcolor{keywordflow}{if} ( tag[i] == \textcolor{charliteral}{';'} ) \textcolor{comment}{// HTML entity ends}
384                 \{
385                     \textcolor{comment}{// If entity is an ASCII code, just decode it}
386                     QString decode = \hyperlink{classLCHMFileImpl_ae88fabdc1dc765e88588fab616e7bdb1}{decodeEntity}( htmlentity );
387                     
388                     \textcolor{keywordflow}{if} ( decode.isNull() )
389                         \textcolor{keywordflow}{break};
390                     
391                     value.append ( decode );
392                     htmlentity = QString::null;
393                     fill\_entity = \textcolor{keyword}{false};
394                 \}
395                 \textcolor{keywordflow}{else}
396                     htmlentity.append (tag[i]);
397             \}
398         \}
399     \}
400     \textcolor{keywordflow}{else}
401         value = tag.mid (qbegin + 1, qend - qbegin - 1);
402 
403     \textcolor{keywordflow}{return} qend + 1;
404 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_ad0b8a4f3e8949c4f713919cf4aa10683}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!get\+Book\+Icon\+Pixmap@{get\+Book\+Icon\+Pixmap}}
\index{get\+Book\+Icon\+Pixmap@{get\+Book\+Icon\+Pixmap}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{get\+Book\+Icon\+Pixmap}]{\setlength{\rightskip}{0pt plus 5cm}const Q\+Pixmap $\ast$ L\+C\+H\+M\+File\+Impl\+::get\+Book\+Icon\+Pixmap (
\begin{DoxyParamCaption}
\item[{unsigned int}]{imagenum}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_ad0b8a4f3e8949c4f713919cf4aa10683}


Definition at line 1178 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
1179 \{
1180     \textcolor{keywordflow}{return} \hyperlink{classLCHMFileImpl_afbd4fcdb78858fab9c7c594c58cd4367}{m\_imagesKeeper}.\hyperlink{classLCHMTocImageKeeper_aab7292a21ce3907ba28eecd62e5f3dc7}{getImage}( imagenum );
1181 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_adcd0050ac69551a03e53215264820b74}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!get\+Encoding\+Index@{get\+Encoding\+Index}}
\index{get\+Encoding\+Index@{get\+Encoding\+Index}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{get\+Encoding\+Index}]{\setlength{\rightskip}{0pt plus 5cm}int L\+C\+H\+M\+File\+Impl\+::get\+Encoding\+Index (
\begin{DoxyParamCaption}
\item[{const {\bf L\+C\+H\+M\+Text\+Encoding} $\ast$}]{enc}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classLCHMFileImpl_adcd0050ac69551a03e53215264820b74}


Get the encoding index. 


\begin{DoxyParams}{Parameters}
{\em enc} & Encoding \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An index in encoding table. \hyperlink{classLCHMFileImpl_a0f6652702449e038b03be6b4264a9f44}{get\+Text\+Encoding\+Table()} + i gets the encoding. 
\end{DoxyReturn}


Definition at line 359 of file libchmtextencoding.\+cpp.


\begin{DoxyCode}
360 \{
361     \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} i = 0; text\_encoding\_table[i].\hyperlink{structLCHMTextEncoding_a3c0d7c55bb69d4dbdb1ae512a5c42225}{family}; i++ )
362         \textcolor{keywordflow}{if} ( (text\_encoding\_table + i) == enc )
363             \textcolor{keywordflow}{return} i;
364             
365     \textcolor{keywordflow}{return} -1;
366 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_a83f47ad1b36f953e7de3d32e3a83313c}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!get\+File\+Content\+As\+Binary@{get\+File\+Content\+As\+Binary}}
\index{get\+File\+Content\+As\+Binary@{get\+File\+Content\+As\+Binary}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{get\+File\+Content\+As\+Binary}]{\setlength{\rightskip}{0pt plus 5cm}bool L\+C\+H\+M\+File\+Impl\+::get\+File\+Content\+As\+Binary (
\begin{DoxyParamCaption}
\item[{Q\+Byte\+Array $\ast$}]{data, }
\item[{const Q\+String \&}]{url}
\end{DoxyParamCaption}
) const}}\label{classLCHMFileImpl_a83f47ad1b36f953e7de3d32e3a83313c}


Definition at line 1117 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
1118 \{
1119     chmUnitInfo ui;
1120 
1121     \textcolor{keywordflow}{if}( !\hyperlink{classLCHMFileImpl_a78d3e549251cd4c842aecca5aa1ede36}{ResolveObject}( url, &ui ) )
1122         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1123 
1124     \hyperlink{structdrawinf_af73f66288002f0a25c7843a534bf1340}{data}->resize( ui.length );
1125             
1126     \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{RetrieveObject}( &ui, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}*) \hyperlink{structdrawinf_af73f66288002f0a25c7843a534bf1340}{data}->data(), 0, ui.length ) )
1127         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1128     \textcolor{keywordflow}{else}
1129         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1130 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_a4e0ea1a6ff803428299be6d72508c5c2}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!get\+File\+Content\+As\+String@{get\+File\+Content\+As\+String}}
\index{get\+File\+Content\+As\+String@{get\+File\+Content\+As\+String}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{get\+File\+Content\+As\+String}]{\setlength{\rightskip}{0pt plus 5cm}bool L\+C\+H\+M\+File\+Impl\+::get\+File\+Content\+As\+String (
\begin{DoxyParamCaption}
\item[{Q\+String $\ast$}]{str, }
\item[{const Q\+String \&}]{url, }
\item[{bool}]{internal\+\_\+encoding = {\ttfamily false}}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_a4e0ea1a6ff803428299be6d72508c5c2}


Definition at line 1133 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
1134 \{
1135     QByteArray buf;
1136     
1137     \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_a83f47ad1b36f953e7de3d32e3a83313c}{getFileContentAsBinary}( &buf, url ) )
1138     \{
1139         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} length = buf.size();
1140         
1141         \textcolor{keywordflow}{if} ( length > 0 )
1142         \{
1143             buf.resize( length + 1 );
1144             buf [length] = \textcolor{charliteral}{'\(\backslash\)0'};
1145             
1146             *str = internal\_encoding ? (QString)( buf.constData() ) :  
      \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec}( buf.constData() );
1147             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1148         \}
1149     \}
1150     
1151     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1152 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_a956d078842d2cc3ece160c9348930584}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!get\+File\+Size@{get\+File\+Size}}
\index{get\+File\+Size@{get\+File\+Size}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{get\+File\+Size}]{\setlength{\rightskip}{0pt plus 5cm}bool L\+C\+H\+M\+File\+Impl\+::get\+File\+Size (
\begin{DoxyParamCaption}
\item[{unsigned int $\ast$}]{size, }
\item[{const Q\+String \&}]{url}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_a956d078842d2cc3ece160c9348930584}


Definition at line 1279 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
1280 \{
1281     chmUnitInfo ui;
1282 
1283     \textcolor{keywordflow}{if}( !\hyperlink{classLCHMFileImpl_a78d3e549251cd4c842aecca5aa1ede36}{ResolveObject}( url, &ui ) )
1284         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1285 
1286     *\hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size} = ui.length;
1287     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1288 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_a36a8e34fa0b5fd85f1118c50b4e192af}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!Get\+Font\+Enc\+From\+Char\+Set@{Get\+Font\+Enc\+From\+Char\+Set}}
\index{Get\+Font\+Enc\+From\+Char\+Set@{Get\+Font\+Enc\+From\+Char\+Set}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{Get\+Font\+Enc\+From\+Char\+Set}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ L\+C\+H\+M\+File\+Impl\+::\+Get\+Font\+Enc\+From\+Char\+Set (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{font}
\end{DoxyParamCaption}
) const}}\label{classLCHMFileImpl_a36a8e34fa0b5fd85f1118c50b4e192af}


Helper. Translates from Win32 encodings to generic wx\+Widgets ones. 

\hypertarget{classLCHMFileImpl_acb5511d96588dbcaa557d3e5dae04b75}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!get\+Info\+From\+System@{get\+Info\+From\+System}}
\index{get\+Info\+From\+System@{get\+Info\+From\+System}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{get\+Info\+From\+System}]{\setlength{\rightskip}{0pt plus 5cm}bool L\+C\+H\+M\+File\+Impl\+::get\+Info\+From\+System (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_acb5511d96588dbcaa557d3e5dae04b75}


Looks up as much information as possible from \#\+S\+Y\+S\+T\+E\+M. 



Definition at line 757 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
758 \{
759     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} buffer[\hyperlink{libchmfileimpl_8cpp_a6821bafc3c88dfb2e433a095df9940c6}{BUF\_SIZE}];
760     chmUnitInfo ui;
761     
762     \textcolor{keywordtype}{int} index = 0;
763     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}* cursor = NULL, *p;
764     uint16\_t value = 0;
765     \textcolor{keywordtype}{long} \hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size} = 0;
766 
767     \textcolor{comment}{// Run the first loop to detect the encoding. We need this, because title could be}
768     \textcolor{comment}{// already encoded in user encoding. Same for file names}
769     \textcolor{keywordflow}{if} ( !\hyperlink{classLCHMFileImpl_a78d3e549251cd4c842aecca5aa1ede36}{ResolveObject} (\textcolor{stringliteral}{"/#SYSTEM"}, &ui) )
770         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
771 
772     \textcolor{comment}{// Can we pull BUFF\_SIZE bytes of the #SYSTEM file?}
773     \textcolor{keywordflow}{if} ( (size = \hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{RetrieveObject} (&ui, buffer, 4, \hyperlink{libchmfileimpl_8cpp_a6821bafc3c88dfb2e433a095df9940c6}{BUF\_SIZE})) == 0 )
774         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
775 
776     buffer[size - 1] = 0;
777 
778     \textcolor{comment}{// First loop to detect the encoding}
779     \textcolor{keywordflow}{for} ( index = 0; index < (size - 1 - (long)\textcolor{keyword}{sizeof}(uint16\_t)) ;)
780     \{
781         cursor = buffer + index;
782         value = \hyperlink{bitfiddle_8h_a4cdadd3f542d83f288d0b415c397fbb9}{UINT16ARRAY}(cursor);
783 
784         \textcolor{keywordflow}{switch}(value)
785         \{
786             \textcolor{keywordflow}{case} 0:
787                 index += 2;
788                 cursor = buffer + index;
789             
790                 \textcolor{keywordflow}{if}(\hyperlink{classLCHMFileImpl_af3d33a88f44e3d103f08d9cc1c0ccf12}{m\_topicsFile}.isEmpty())
791                     \hyperlink{classLCHMFileImpl_af3d33a88f44e3d103f08d9cc1c0ccf12}{m\_topicsFile} = QByteArray(\textcolor{stringliteral}{"/"}) + QByteArray((\textcolor{keyword}{const} \textcolor{keywordtype}{char}*) buffer + index + 
      2);
792                 
793                 \textcolor{keywordflow}{break};
794             
795             \textcolor{keywordflow}{case} 1:
796                 index += 2;
797                 cursor = buffer + index;
798 
799                 \textcolor{keywordflow}{if}(\hyperlink{classLCHMFileImpl_ab5f59c7a474b444bb07a1992bd0a6d82}{m\_indexFile}.isEmpty())
800                     \hyperlink{classLCHMFileImpl_ab5f59c7a474b444bb07a1992bd0a6d82}{m\_indexFile} = QByteArray(\textcolor{stringliteral}{"/"}) + QByteArray((\textcolor{keyword}{const} \textcolor{keywordtype}{char}*)buffer + index + 2);
801                 \textcolor{keywordflow}{break};
802         
803             \textcolor{keywordflow}{case} 2:
804                 index += 2;
805                 cursor = buffer + index;
806                 
807                 \textcolor{keywordflow}{if}(\hyperlink{classLCHMFileImpl_a5bf6157ef7d4bc446c389eea871c09a0}{m\_home}.isEmpty() || \hyperlink{classLCHMFileImpl_a5bf6157ef7d4bc446c389eea871c09a0}{m\_home} == \textcolor{stringliteral}{"/"})
808                     \hyperlink{classLCHMFileImpl_a5bf6157ef7d4bc446c389eea871c09a0}{m\_home} = QByteArray(\textcolor{stringliteral}{"/"}) + QByteArray((\textcolor{keyword}{const} \textcolor{keywordtype}{char}*) buffer + index + 2);
809                 \textcolor{keywordflow}{break};
810             
811             \textcolor{keywordflow}{case} 3:
812                 index += 2;
813                 cursor = buffer + index;
814                 \hyperlink{classLCHMFileImpl_abe88f8991855d7d573bd2966f9fd9f8b}{m\_title} = QByteArray( (\textcolor{keyword}{const} \textcolor{keywordtype}{char}*) (buffer + index + 2) );
815                 \textcolor{keywordflow}{break};
816 
817             \textcolor{keywordflow}{case} 4:
818                 index += 2;
819                 cursor = buffer + index;
820 
821                 p = buffer + index + 2;
822                 \hyperlink{classLCHMFileImpl_a6d5c5705a3c148206aae29da01555ad1}{m\_detectedLCID} = (short) (p[0] | (p[1]<<8));
823             
824                 \textcolor{keywordflow}{break};
825 
826             \textcolor{keywordflow}{case} 6:
827                 index += 2;
828                 cursor = buffer + index;
829 
830                 \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_af3d33a88f44e3d103f08d9cc1c0ccf12}{m\_topicsFile}.isEmpty() )
831                 \{
832                     QString topicAttempt = \textcolor{stringliteral}{"/"}, tmp;
833                     topicAttempt += QString ((\textcolor{keyword}{const} \textcolor{keywordtype}{char}*) buffer +index +2);
834 
835                     tmp = topicAttempt + \textcolor{stringliteral}{".hhc"};
836                 
837                     \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_a78d3e549251cd4c842aecca5aa1ede36}{ResolveObject}( tmp, &ui) )
838                         \hyperlink{classLCHMFileImpl_af3d33a88f44e3d103f08d9cc1c0ccf12}{m\_topicsFile} = qPrintable( tmp );
839 
840                     tmp = topicAttempt + \textcolor{stringliteral}{".hhk"};
841                 
842                     \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_a78d3e549251cd4c842aecca5aa1ede36}{ResolveObject}( tmp, &ui) )
843                         \hyperlink{classLCHMFileImpl_ab5f59c7a474b444bb07a1992bd0a6d82}{m\_indexFile} = qPrintable( tmp );
844                 \}
845                 \textcolor{keywordflow}{break};
846 
847             \textcolor{keywordflow}{case} 16:
848                 index += 2;
849                 cursor = buffer + index;
850 
851                 \hyperlink{classLCHMFileImpl_a2b0d1d5b99fef328aa6a8f2c7ba7a495}{m\_font} = QString ((\textcolor{keyword}{const} \textcolor{keywordtype}{char}*) buffer + index + 2);
852                 \textcolor{keywordflow}{break};
853             
854             \textcolor{keywordflow}{default}:
855                 index += 2;
856                 cursor = buffer + index;
857         \}
858 
859         value = \hyperlink{bitfiddle_8h_a4cdadd3f542d83f288d0b415c397fbb9}{UINT16ARRAY}(cursor);
860         index += value + 2;
861     \}
862     
863     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
864 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_a27eafb562224f7159476f816492fa32d}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!get\+Info\+From\+Windows@{get\+Info\+From\+Windows}}
\index{get\+Info\+From\+Windows@{get\+Info\+From\+Windows}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{get\+Info\+From\+Windows}]{\setlength{\rightskip}{0pt plus 5cm}bool L\+C\+H\+M\+File\+Impl\+::get\+Info\+From\+Windows (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_a27eafb562224f7159476f816492fa32d}


Looks up as much information as possible from \#\+W\+I\+N\+D\+O\+W\+S/\#\+S\+T\+R\+I\+N\+G\+S. 



Definition at line 682 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
683 \{
684 \textcolor{preprocessor}{#define WIN\_HEADER\_LEN 0x08}
685     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} buffer[\hyperlink{libchmfileimpl_8cpp_a6821bafc3c88dfb2e433a095df9940c6}{BUF\_SIZE}];
686     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} factor;
687     chmUnitInfo ui;
688     \textcolor{keywordtype}{long} \hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size} = 0;
689 
690     \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_a78d3e549251cd4c842aecca5aa1ede36}{ResolveObject}(\textcolor{stringliteral}{"/#WINDOWS"}, &ui) )
691     \{
692         \textcolor{keywordflow}{if} ( !\hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{RetrieveObject}(&ui, buffer, 0, \hyperlink{libchmfileimpl_8cpp_a4f5589e322a8a2b6e3ead968320c86d8}{WIN\_HEADER\_LEN}) )
693             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
694 
695         uint32\_t entries = \hyperlink{bitfiddle_8h_aa84a55d4947b4ac2b8a52032cbaadd59}{get\_int32\_le}( (uint32\_t *)(buffer) );
696         uint32\_t entry\_size = \hyperlink{bitfiddle_8h_aa84a55d4947b4ac2b8a52032cbaadd59}{get\_int32\_le}( (uint32\_t *)(buffer + 0x04) );
697         
698         QVector<unsigned char> uptr(entries * entry\_size);
699         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}* raw = (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}*) uptr.data();
700         
701         \textcolor{keywordflow}{if} ( !\hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{RetrieveObject} (&ui, raw, 8, entries * entry\_size) )
702             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
703 
704         \textcolor{keywordflow}{if}( !\hyperlink{classLCHMFileImpl_a78d3e549251cd4c842aecca5aa1ede36}{ResolveObject} (\textcolor{stringliteral}{"/#STRINGS"}, &ui) )
705             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
706 
707         \textcolor{keywordflow}{for} ( uint32\_t i = 0; i < entries; ++i )
708         \{
709             uint32\_t offset = i * entry\_size;
710             
711             uint32\_t off\_title = \hyperlink{bitfiddle_8h_aa84a55d4947b4ac2b8a52032cbaadd59}{get\_int32\_le}( (uint32\_t *)(raw + offset + 0x14) );
712             uint32\_t off\_home = \hyperlink{bitfiddle_8h_aa84a55d4947b4ac2b8a52032cbaadd59}{get\_int32\_le}( (uint32\_t *)(raw + offset + 0x68) );
713             uint32\_t off\_hhc = \hyperlink{bitfiddle_8h_aa84a55d4947b4ac2b8a52032cbaadd59}{get\_int32\_le}( (uint32\_t *)(raw + offset + 0x60) );
714             uint32\_t off\_hhk = \hyperlink{bitfiddle_8h_aa84a55d4947b4ac2b8a52032cbaadd59}{get\_int32\_le}( (uint32\_t *)(raw + offset + 0x64) );
715 
716             factor = off\_title / 4096;
717 
718             \textcolor{keywordflow}{if} ( size == 0 ) 
719                 size = \hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{RetrieveObject}(&ui, buffer, factor * 4096, 
      \hyperlink{libchmfileimpl_8cpp_a6821bafc3c88dfb2e433a095df9940c6}{BUF\_SIZE});
720 
721             \textcolor{keywordflow}{if} ( size && off\_title )
722                 \hyperlink{classLCHMFileImpl_abe88f8991855d7d573bd2966f9fd9f8b}{m\_title} = QByteArray( (\textcolor{keyword}{const} \textcolor{keywordtype}{char}*) (buffer + off\_title % 4096) );
723 
724             \textcolor{keywordflow}{if} ( factor != off\_home / 4096)
725             \{
726                 factor = off\_home / 4096;       
727                 size = \hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{RetrieveObject} (&ui, buffer, factor * 4096, 
      \hyperlink{libchmfileimpl_8cpp_a6821bafc3c88dfb2e433a095df9940c6}{BUF\_SIZE});
728             \}
729             
730             \textcolor{keywordflow}{if} ( size && off\_home )
731                 \hyperlink{classLCHMFileImpl_a5bf6157ef7d4bc446c389eea871c09a0}{m\_home} = QByteArray(\textcolor{stringliteral}{"/"}) + QByteArray( (\textcolor{keyword}{const} \textcolor{keywordtype}{char}*) buffer + off\_home % 4096);
732 
733             \textcolor{keywordflow}{if} ( factor != off\_hhc / 4096)
734             \{
735                 factor = off\_hhc / 4096;
736                 size = \hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{RetrieveObject}(&ui, buffer, factor * 4096, 
      \hyperlink{libchmfileimpl_8cpp_a6821bafc3c88dfb2e433a095df9940c6}{BUF\_SIZE});
737             \}
738         
739             \textcolor{keywordflow}{if} ( size && off\_hhc )
740                 \hyperlink{classLCHMFileImpl_af3d33a88f44e3d103f08d9cc1c0ccf12}{m\_topicsFile} = QByteArray(\textcolor{stringliteral}{"/"}) + QByteArray((\textcolor{keyword}{const} \textcolor{keywordtype}{char}*) buffer + off\_hhc % 40
      96);
741 
742             \textcolor{keywordflow}{if} ( factor != off\_hhk / 4096)
743             \{
744                 factor = off\_hhk / 4096;
745                 size = \hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{RetrieveObject} (&ui, buffer, factor * 4096, 
      \hyperlink{libchmfileimpl_8cpp_a6821bafc3c88dfb2e433a095df9940c6}{BUF\_SIZE});
746             \}
747 
748             \textcolor{keywordflow}{if} ( size && off\_hhk )
749                 \hyperlink{classLCHMFileImpl_ab5f59c7a474b444bb07a1992bd0a6d82}{m\_indexFile} = QByteArray(\textcolor{stringliteral}{"/"}) + QByteArray((\textcolor{keyword}{const} \textcolor{keywordtype}{char}*) buffer + off\_hhk % 4096
      );
750         \}
751     \}
752     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
753 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_accf081c4ea0e7ec303b969d53d82593a}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!Get\+Leaf\+Node\+Offset@{Get\+Leaf\+Node\+Offset}}
\index{Get\+Leaf\+Node\+Offset@{Get\+Leaf\+Node\+Offset}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{Get\+Leaf\+Node\+Offset}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t L\+C\+H\+M\+File\+Impl\+::\+Get\+Leaf\+Node\+Offset (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{text, }
\item[{uint32\+\_\+t}]{inital\+Offset, }
\item[{uint32\+\_\+t}]{buff\+Size, }
\item[{uint16\+\_\+t}]{tree\+Depth}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classLCHMFileImpl_accf081c4ea0e7ec303b969d53d82593a}


Helper. Returns the \$\+F\+Ifti\+Main offset of leaf node or 0. 



Definition at line 553 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
557 \{
558     uint32\_t test\_offset = 0;
559     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}* cursor16, *cursor32;
560     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} word\_len, pos;
561     uint32\_t i = \textcolor{keyword}{sizeof}(uint16\_t);
562     QVector<unsigned char> buffer(buffSize);
563     QString word;
564     
565     \textcolor{keywordflow}{while}(--treeDepth)
566     \{
567         \textcolor{keywordflow}{if} ( initialOffset == test\_offset )
568             \textcolor{keywordflow}{return} 0;
569 
570         test\_offset = initialOffset;
571         \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{RetrieveObject} (&\hyperlink{classLCHMFileImpl_aff4c9c66f19b11205e4cbdabc7b2d8aa}{m\_chmFIftiMain}, buffer.data(), initialOffset, 
      buffSize) == 0 )
572             \textcolor{keywordflow}{return} 0;
573 
574         cursor16 = buffer.data();
575         uint16\_t free\_space = \hyperlink{bitfiddle_8h_a4cdadd3f542d83f288d0b415c397fbb9}{UINT16ARRAY}(cursor16);
576 
577         \textcolor{keywordflow}{while} (i < buffSize - free\_space )
578         \{
579             word\_len = *(buffer.data() + i);
580             pos = *(buffer.data() + i + 1);
581 
582             \textcolor{keywordtype}{char} *wrd\_buf = \textcolor{keyword}{new} \textcolor{keywordtype}{char}[word\_len];
583             memcpy ( wrd\_buf, buffer.data() + i + 2, word\_len - 1 );
584             wrd\_buf[word\_len - 1] = 0;
585 
586             \textcolor{keywordflow}{if} ( pos == 0 )
587                 word = wrd\_buf;
588             \textcolor{keywordflow}{else}
589                 word = word.mid(0, pos) + (\textcolor{keyword}{const} \textcolor{keywordtype}{char}*) wrd\_buf;
590 
591             \textcolor{keyword}{delete}[] wrd\_buf;
592 
593             \textcolor{keywordflow}{if} ( text <= word )
594             \{
595                 cursor32 = buffer.data() + i + word\_len + 1;
596                 initialOffset = \hyperlink{bitfiddle_8h_a09e5156ae22f7b3ea6e8fe0f94084390}{UINT32ARRAY}(cursor32);
597                 \textcolor{keywordflow}{break};
598             \}
599 
600             i += word\_len + \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{unsigned} char) +
601                     \textcolor{keyword}{sizeof}(uint32\_t) + \textcolor{keyword}{sizeof}(uint16\_t);
602         \}
603     \}
604 
605     \textcolor{keywordflow}{if} ( initialOffset == test\_offset )
606         \textcolor{keywordflow}{return} 0;
607 
608     \textcolor{keywordflow}{return} initialOffset;
609 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_ace9ea6df1f8aa45d2ef89052aa953e19}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!get\+Search\+Results@{get\+Search\+Results}}
\index{get\+Search\+Results@{get\+Search\+Results}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{get\+Search\+Results}]{\setlength{\rightskip}{0pt plus 5cm}void L\+C\+H\+M\+File\+Impl\+::get\+Search\+Results (
\begin{DoxyParamCaption}
\item[{const {\bf L\+C\+H\+M\+Search\+Progress\+Results} \&}]{tempres, }
\item[{Q\+String\+List $\ast$}]{results, }
\item[{unsigned int}]{limit\+\_\+results = {\ttfamily 500}}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_ace9ea6df1f8aa45d2ef89052aa953e19}


Finalize the search, resolve the matches, the and generate the results array. 


\begin{DoxyParams}{Parameters}
{\em tempres} & Temporary search results from Search\+Word. \\
\hline
{\em results} & A string-\/string hashmap that will hold the results in case of successful search. The keys are the U\+R\+Ls and the values are the page titles. \\
\hline
\end{DoxyParams}


Definition at line 903 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
906 \{
907     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} combuf [\hyperlink{libchmfileimpl_8cpp_a5cf142d10a2d762ab92a857e0aa368db}{COMMON\_BUF\_LEN}];
908     \hyperlink{classQMap}{QMap<uint32\_t, uint32\_t>} urlsmap;  \textcolor{comment}{// used to prevent duplicated urls}
909     
910     \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} i = 0; i < tempres.size(); i++ )
911     \{
912         \textcolor{keywordflow}{if} ( urlsmap.find (tempres[i].urloff) != urlsmap.end() )
913             \textcolor{keywordflow}{continue};
914         
915         urlsmap[tempres[i].urloff] = 1;
916         
917         \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{RetrieveObject} (&\hyperlink{classLCHMFileImpl_a8b003f45596e247595b90b57b1e8c499}{m\_chmURLSTR}, combuf, tempres[i].urloff + 8, 
      \hyperlink{libchmfileimpl_8cpp_a5cf142d10a2d762ab92a857e0aa368db}{COMMON\_BUF\_LEN} - 1) == 0 )
918             \textcolor{keywordflow}{continue};
919 
920         combuf[\hyperlink{libchmfileimpl_8cpp_a5cf142d10a2d762ab92a857e0aa368db}{COMMON\_BUF\_LEN} - 1] = 0;
921         results->push\_back( LCHMUrlFactory::makeURLabsoluteIfNeeded( (\textcolor{keyword}{const} \textcolor{keywordtype}{char}*) combuf ) );
922         
923         \textcolor{keywordflow}{if} ( --limit\_results == 0 )
924             \textcolor{keywordflow}{break};
925     \}
926 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_a0f6652702449e038b03be6b4264a9f44}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!get\+Text\+Encoding\+Table@{get\+Text\+Encoding\+Table}}
\index{get\+Text\+Encoding\+Table@{get\+Text\+Encoding\+Table}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{get\+Text\+Encoding\+Table}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf L\+C\+H\+M\+Text\+Encoding} $\ast$ L\+C\+H\+M\+File\+Impl\+::get\+Text\+Encoding\+Table (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classLCHMFileImpl_a0f6652702449e038b03be6b4264a9f44}


Returns the list of all available text encodings. 

\begin{DoxyReturn}{Returns}
A pointer to the beginning of the text encoding table. The table could be enumerated until language == 0, which means end of table. 
\end{DoxyReturn}


Definition at line 341 of file libchmtextencoding.\+cpp.


\begin{DoxyCode}
342 \{
343     \textcolor{keywordflow}{return} text\_encoding\_table;
344 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_af5c1957e8dbcc4c4a06186d766e222be}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!get\+Topic\+By\+Url@{get\+Topic\+By\+Url}}
\index{get\+Topic\+By\+Url@{get\+Topic\+By\+Url}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{get\+Topic\+By\+Url}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String L\+C\+H\+M\+File\+Impl\+::get\+Topic\+By\+Url (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{url}
\end{DoxyParamCaption}
) const}}\label{classLCHMFileImpl_af5c1957e8dbcc4c4a06186d766e222be}


Definition at line 1155 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
1156 \{
1157     \hyperlink{classQMap}{QMap< QString, QString >::const\_iterator} it = 
      \hyperlink{classLCHMFileImpl_ace36f0ffc8316cb551fb236989552620}{m\_url2topics}.find( url );
1158     
1159     \textcolor{keywordflow}{if} ( it == \hyperlink{classLCHMFileImpl_ace36f0ffc8316cb551fb236989552620}{m\_url2topics}.end() )
1160         \textcolor{keywordflow}{return} QString::null;
1161     
1162     \textcolor{keywordflow}{return} it.value();
1163 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_aaa1a1c472fc85e30e6d970b9056c7cba}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!guess\+Text\+Encoding@{guess\+Text\+Encoding}}
\index{guess\+Text\+Encoding@{guess\+Text\+Encoding}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{guess\+Text\+Encoding}]{\setlength{\rightskip}{0pt plus 5cm}bool L\+C\+H\+M\+File\+Impl\+::guess\+Text\+Encoding (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_aaa1a1c472fc85e30e6d970b9056c7cba}


Guess used text encoding, using m\+\_\+detected\+L\+C\+I\+D and m\+\_\+font. Set up m\+\_\+text\+Codec. 



Definition at line 1190 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
1191 \{
1192     \textcolor{keyword}{const} \hyperlink{structLCHMTextEncoding}{LCHMTextEncoding} * enc = 0;
1193 
1194     \textcolor{keywordflow}{if} ( !\hyperlink{classLCHMFileImpl_a6d5c5705a3c148206aae29da01555ad1}{m\_detectedLCID} || (enc = \hyperlink{classLCHMFileImpl_af4a32113ec9d09e7d49f3cbf44134443}{lookupByLCID} (
      \hyperlink{classLCHMFileImpl_a6d5c5705a3c148206aae29da01555ad1}{m\_detectedLCID})) == 0 )
1195         qFatal (\textcolor{stringliteral}{"Could not detect text encoding by LCID"});
1196     
1197     \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_a4b9bc32e0bc5cedb20fc851503e7a1ab}{changeFileEncoding} (enc->\hyperlink{structLCHMTextEncoding_a568ebc6339c15035490e8d9c0c1f9959}{qtcodec}) )
1198     \{
1199         \hyperlink{classLCHMFileImpl_a365b502e727dd2202dec204815d23c50}{m\_currentEncoding} = enc;
1200         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1201     \}
1202     
1203     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1204 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_a4a62bf461c3b534161fd2c09b638c929}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!home\+Url@{home\+Url}}
\index{home\+Url@{home\+Url}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{home\+Url}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String L\+C\+H\+M\+File\+Impl\+::home\+Url (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}}\label{classLCHMFileImpl_a4a62bf461c3b534161fd2c09b638c929}


Definition at line 62 of file libchmfileimpl.\+h.


\begin{DoxyCode}
62 \{ \textcolor{keywordflow}{return} \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec}( \hyperlink{classLCHMFileImpl_a5bf6157ef7d4bc446c389eea871c09a0}{m\_home} ); \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_a2bd2ffb002032653a199f24e091bca24}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!load\+File@{load\+File}}
\index{load\+File@{load\+File}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{load\+File}]{\setlength{\rightskip}{0pt plus 5cm}bool L\+C\+H\+M\+File\+Impl\+::load\+File (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{archive\+Name}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_a2bd2ffb002032653a199f24e091bca24}


Definition at line 75 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
76 \{
77     QString filename;
78             
79     \textcolor{comment}{// If the file has a file:// prefix, remove it}
80     \textcolor{keywordflow}{if} ( archiveName.startsWith( \textcolor{stringliteral}{"file://"} ) )
81         filename = archiveName.mid( 7 ); \textcolor{comment}{// strip it}
82     \textcolor{keywordflow}{else}
83         filename = archiveName;
84     
85     \textcolor{keywordflow}{if}( \hyperlink{classLCHMFileImpl_a82d1d6a252134efcf90a82bf8ffd8493}{m\_chmFile} )
86         \hyperlink{classLCHMFileImpl_a483f7cc028d300635b87e6975c6a1757}{closeAll}();
87 
88     \hyperlink{classLCHMFileImpl_a82d1d6a252134efcf90a82bf8ffd8493}{m\_chmFile} = chm\_open( QFile::encodeName(filename) );
89     
90     \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_a82d1d6a252134efcf90a82bf8ffd8493}{m\_chmFile} == NULL )
91         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
92 
93     \hyperlink{classLCHMFileImpl_a7e8bf327eeb1f4a3ccebb46ae6bd1bfa}{m\_filename} = filename;
94     
95     \textcolor{comment}{// Reset encoding}
96     \hyperlink{classLCHMFileImpl_a2f941b3f26a4f845d3e785cfad0eeb58}{m\_textCodec} = 0;
97     \hyperlink{classLCHMFileImpl_ad50032706377cebb647d43f348904942}{m\_textCodecForSpecialFiles} = 0;
98     \hyperlink{classLCHMFileImpl_a365b502e727dd2202dec204815d23c50}{m\_currentEncoding} = 0;
99     
100     \textcolor{comment}{// Get information from /#WINDOWS and /#SYSTEM files (encoding, title, context file and so)}
101     \textcolor{comment}{// and guess the encoding}
102     \hyperlink{classLCHMFileImpl_a27eafb562224f7159476f816492fa32d}{getInfoFromWindows}();
103     \hyperlink{classLCHMFileImpl_acb5511d96588dbcaa557d3e5dae04b75}{getInfoFromSystem}();
104     \hyperlink{classLCHMFileImpl_aaa1a1c472fc85e30e6d970b9056c7cba}{guessTextEncoding}();
105 
106     \textcolor{comment}{// Check whether the search tables are present}
107     \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_a78d3e549251cd4c842aecca5aa1ede36}{ResolveObject}(\textcolor{stringliteral}{"/#TOPICS"}, &\hyperlink{classLCHMFileImpl_ae4a2d92d948b4482781b6b539ff1dd75}{m\_chmTOPICS})
108             && \hyperlink{classLCHMFileImpl_a78d3e549251cd4c842aecca5aa1ede36}{ResolveObject}(\textcolor{stringliteral}{"/#STRINGS"}, &\hyperlink{classLCHMFileImpl_a73ed5eac37c22b2cd6d7fbc2a78b60db}{m\_chmSTRINGS})
109             && \hyperlink{classLCHMFileImpl_a78d3e549251cd4c842aecca5aa1ede36}{ResolveObject}(\textcolor{stringliteral}{"/#URLTBL"}, &\hyperlink{classLCHMFileImpl_a6570c3bf72f4ed7ee5992005a88320c9}{m\_chmURLTBL})
110             && \hyperlink{classLCHMFileImpl_a78d3e549251cd4c842aecca5aa1ede36}{ResolveObject}(\textcolor{stringliteral}{"/#URLSTR"}, &\hyperlink{classLCHMFileImpl_a8b003f45596e247595b90b57b1e8c499}{m\_chmURLSTR}) )
111     \{
112         \hyperlink{classLCHMFileImpl_a1bd04b8772eaa2e3dd91bda8c4553f90}{m\_lookupTablesValid} = \textcolor{keyword}{true};
113         \hyperlink{classLCHMFileImpl_a804539b5cbf92972efde3d56cbf42477}{fillTopicsUrlMap}();
114     \}
115     \textcolor{keywordflow}{else}
116         \hyperlink{classLCHMFileImpl_a1bd04b8772eaa2e3dd91bda8c4553f90}{m\_lookupTablesValid} = \textcolor{keyword}{false};
117 
118     \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_a1bd04b8772eaa2e3dd91bda8c4553f90}{m\_lookupTablesValid} && \hyperlink{classLCHMFileImpl_a78d3e549251cd4c842aecca5aa1ede36}{ResolveObject} (\textcolor{stringliteral}{"/$FIftiMain"}, &
      \hyperlink{classLCHMFileImpl_aff4c9c66f19b11205e4cbdabc7b2d8aa}{m\_chmFIftiMain}) )
119         \hyperlink{classLCHMFileImpl_a7f5f505b00220199785298bdad0627f6}{m\_searchAvailable} = \textcolor{keyword}{true};
120     \textcolor{keywordflow}{else}
121         \hyperlink{classLCHMFileImpl_a7f5f505b00220199785298bdad0627f6}{m\_searchAvailable} = \textcolor{keyword}{false};
122 
123     \textcolor{comment}{// Some CHM files have toc and index files, but do not set the name properly.}
124     \textcolor{comment}{// Some heuristics here.}
125     chmUnitInfo tui;
126     
127     \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_af3d33a88f44e3d103f08d9cc1c0ccf12}{m\_topicsFile}.isEmpty() && \hyperlink{classLCHMFileImpl_a78d3e549251cd4c842aecca5aa1ede36}{ResolveObject}(\textcolor{stringliteral}{"/toc.hhc"}, &tui) )
128         \hyperlink{classLCHMFileImpl_af3d33a88f44e3d103f08d9cc1c0ccf12}{m\_topicsFile} = \textcolor{stringliteral}{"/toc.hhc"};
129     
130     \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_ab5f59c7a474b444bb07a1992bd0a6d82}{m\_indexFile}.isEmpty() && \hyperlink{classLCHMFileImpl_a78d3e549251cd4c842aecca5aa1ede36}{ResolveObject}(\textcolor{stringliteral}{"/index.hhk"}, &tui) )
131         \hyperlink{classLCHMFileImpl_ab5f59c7a474b444bb07a1992bd0a6d82}{m\_indexFile} = \textcolor{stringliteral}{"/index.hhk"};
132     
133     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
134 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_af4a32113ec9d09e7d49f3cbf44134443}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!lookup\+By\+L\+C\+I\+D@{lookup\+By\+L\+C\+I\+D}}
\index{lookup\+By\+L\+C\+I\+D@{lookup\+By\+L\+C\+I\+D}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{lookup\+By\+L\+C\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf L\+C\+H\+M\+Text\+Encoding} $\ast$ L\+C\+H\+M\+File\+Impl\+::lookup\+By\+L\+C\+I\+D (
\begin{DoxyParamCaption}
\item[{short}]{lcid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classLCHMFileImpl_af4a32113ec9d09e7d49f3cbf44134443}


Looks up for encoding by L\+C\+I\+D. 


\begin{DoxyParams}{Parameters}
{\em lcid} & L\+C\+I\+D to look up \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to encoding structure. 
\end{DoxyReturn}


Definition at line 346 of file libchmtextencoding.\+cpp.


\begin{DoxyCode}
347 \{
348     \textcolor{keywordflow}{for} ( \textcolor{keyword}{const} \hyperlink{structLCHMTextEncoding}{LCHMTextEncoding} * t = text\_encoding\_table; t->
      \hyperlink{structLCHMTextEncoding_a3c0d7c55bb69d4dbdb1ae512a5c42225}{family}; t++ )
349     \{
350         \textcolor{keywordflow}{for} ( \textcolor{keyword}{const} \textcolor{keywordtype}{short} * lcids = t->lcids; *lcids; lcids++ )
351             \textcolor{keywordflow}{if} ( *lcids == lcid )
352                 \textcolor{keywordflow}{return} t;
353     \}
354     
355     \textcolor{keywordflow}{return} 0;
356 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_aac2d1a35019067cd0739d038eecd9b9e}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!lookup\+By\+Qt\+Codec@{lookup\+By\+Qt\+Codec}}
\index{lookup\+By\+Qt\+Codec@{lookup\+By\+Qt\+Codec}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{lookup\+By\+Qt\+Codec}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf L\+C\+H\+M\+Text\+Encoding} $\ast$ L\+C\+H\+M\+File\+Impl\+::lookup\+By\+Qt\+Codec (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{codec}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classLCHMFileImpl_aac2d1a35019067cd0739d038eecd9b9e}


Looks up for encoding by Qt\+Codec. 


\begin{DoxyParams}{Parameters}
{\em qtcodec} & Qt text codec name to look up \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to encoding structure. 
\end{DoxyReturn}


Definition at line 368 of file libchmtextencoding.\+cpp.


\begin{DoxyCode}
369 \{
370     \textcolor{keywordflow}{for} ( \textcolor{keyword}{const} \hyperlink{structLCHMTextEncoding}{LCHMTextEncoding} * t = text\_encoding\_table; t->
      \hyperlink{structLCHMTextEncoding_a3c0d7c55bb69d4dbdb1ae512a5c42225}{family}; t++ )
371         \textcolor{keywordflow}{if} ( codec == t->qtcodec )
372             \textcolor{keywordflow}{return} t;
373 
374     \textcolor{keywordflow}{return} 0;
375 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_abdb0cfe83119a89df45ef681e2548b17}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!normalize\+Url@{normalize\+Url}}
\index{normalize\+Url@{normalize\+Url}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{normalize\+Url}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String L\+C\+H\+M\+File\+Impl\+::normalize\+Url (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{path}
\end{DoxyParamCaption}
) const}}\label{classLCHMFileImpl_abdb0cfe83119a89df45ef681e2548b17}
Normalizes path to search in internal arrays 

Definition at line 929 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
930 \{
931     \textcolor{keywordtype}{int} pos = path.indexOf (\textcolor{charliteral}{'#'});
932     QString fixedpath = pos == -1 ? path : path.left (pos);
933     
934     \textcolor{keywordflow}{return} LCHMUrlFactory::makeURLabsoluteIfNeeded( fixedpath );
935 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_a7d59bfdee96e603b0cd1e19f9bf37448}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!parse\+File\+And\+Fill\+Array@{parse\+File\+And\+Fill\+Array}}
\index{parse\+File\+And\+Fill\+Array@{parse\+File\+And\+Fill\+Array}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{parse\+File\+And\+Fill\+Array}]{\setlength{\rightskip}{0pt plus 5cm}bool L\+C\+H\+M\+File\+Impl\+::parse\+File\+And\+Fill\+Array (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{file, }
\item[{Q\+Vector$<$ {\bf L\+C\+H\+M\+Parsed\+Entry} $>$ $\ast$}]{data, }
\item[{bool}]{as\+Index}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_a7d59bfdee96e603b0cd1e19f9bf37448}


Parse the H\+H\+C or H\+H\+S file, and fill the context (as\+Index is false) or index (as\+Index is true) array. 



Definition at line 942 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
943 \{
944     QString src;
945     \textcolor{keyword}{const} \textcolor{keywordtype}{int} MAX\_NEST\_DEPTH = 256;
946 
947     \textcolor{keywordflow}{if} ( !\hyperlink{classLCHMFileImpl_a4e0ea1a6ff803428299be6d72508c5c2}{getFileContentAsString}( &src, file ) || src.isEmpty() )
948         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
949 
950     \hyperlink{classKCHMShowWaitCursor}{KCHMShowWaitCursor} wc;
951         
952 \textcolor{comment}{/*}
953 \textcolor{comment}{    // Save the index for debugging purposes}
954 \textcolor{comment}{    QFile outfile( "parsed.htm" );}
955 \textcolor{comment}{    }
956 \textcolor{comment}{    if ( outfile.open( IO\_WriteOnly ) )}
957 \textcolor{comment}{    \{}
958 \textcolor{comment}{        QTextStream textstream( &outfile );}
959 \textcolor{comment}{        textstream << src;}
960 \textcolor{comment}{        outfile.close();}
961 \textcolor{comment}{    \}}
962 \textcolor{comment}{*/}
963     
964     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} defaultimagenum = asIndex ? \hyperlink{namespaceLCHMBookIcons_a53f976419fbc01639c4cd57090e11c2f}{LCHMBookIcons::IMAGE\_INDEX} : 
      \hyperlink{namespaceLCHMBookIcons_a0f3c670d267683e807f02d1cfa010518}{LCHMBookIcons::IMAGE\_AUTO};
965     \textcolor{keywordtype}{int} pos = 0, indent = 0, root\_indent\_offset = 0;
966     \textcolor{keywordtype}{bool} in\_object = \textcolor{keyword}{false}, root\_indent\_offset\_set = \textcolor{keyword}{false};
967     
968     \hyperlink{structLCHMParsedEntry}{LCHMParsedEntry} entry;
969     entry.\hyperlink{structLCHMParsedEntry_aefeb9372238ddebc327350e1696ec901}{imageid} = defaultimagenum;
970     
971     \textcolor{comment}{// Split the HHC file by HTML tags}
972     \textcolor{keywordtype}{int} stringlen = src.length();
973     
974     \textcolor{keywordflow}{while} ( pos < stringlen && (pos = src.indexOf (\textcolor{charliteral}{'<'}, pos)) != -1 )
975     \{
976         \textcolor{keywordtype}{int} i, word\_end = 0;
977         
978         \textcolor{keywordflow}{for} ( i = ++pos; i < stringlen; i++ )
979         \{
980             \textcolor{comment}{// If a " or ' is found, skip to the next one.}
981             \textcolor{keywordflow}{if} ( (src[i] == \textcolor{charliteral}{'"'} || src[i] == \textcolor{charliteral}{'\(\backslash\)''}) )
982             \{
983                 \textcolor{comment}{// find where quote ends, either by another quote, or by '>' symbol (some people don't know
       HTML)}
984                 \textcolor{keywordtype}{int} nextpos = src.indexOf (src[i], i+1);
985                 \textcolor{keywordflow}{if} ( nextpos == -1  && (nextpos = src.indexOf (\textcolor{charliteral}{'>'}, i+1)) == -1 )
986                 \{
987                     qWarning (\textcolor{stringliteral}{"LCHMFileImpl::ParseHhcAndFillTree: corrupted TOC: %s"}, qPrintable( src.mid(i
      ) ));
988                     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
989                 \}
990 
991                 i =  nextpos;
992             \}
993             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( src[i] == \textcolor{charliteral}{'>'}  )
994                 \textcolor{keywordflow}{break};
995             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( !src[i].isLetterOrNumber() && src[i] != \textcolor{charliteral}{'/'} && !word\_end )
996                 word\_end = i;
997         \}
998         
999         QString tagword, tag = src.mid (pos, i - pos);
1000          
1001         \textcolor{keywordflow}{if} ( word\_end )
1002             tagword = src.mid (pos, word\_end - pos).toLower();
1003         \textcolor{keywordflow}{else}
1004             tagword = tag.toLower();
1005 
1006         \textcolor{comment}{//qDebug ("tag: '%s', tagword: '%s'\(\backslash\)n", qPrintable( tag ), qPrintable( tagword ) );}
1007                         
1008         \textcolor{comment}{// <OBJECT type="text/sitemap"> - a topic entry}
1009         \textcolor{keywordflow}{if} ( tagword == \textcolor{stringliteral}{"object"} && tag.indexOf (\textcolor{stringliteral}{"text/sitemap"}, 0, Qt::CaseInsensitive ) != -1 )
1010             in\_object = \textcolor{keyword}{true};
1011         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( tagword == \textcolor{stringliteral}{"/object"} && in\_object ) 
1012         \{
1013             \textcolor{comment}{// a topic entry closed. Add a tree item}
1014             \textcolor{keywordflow}{if} ( !entry.\hyperlink{structLCHMParsedEntry_a90196da32bb2ed757f516caf583a6437}{name}.isEmpty() )
1015             \{
1016                 \textcolor{keywordflow}{if} ( !root\_indent\_offset\_set )
1017                 \{
1018                     root\_indent\_offset\_set = \textcolor{keyword}{true};
1019                     root\_indent\_offset = indent;
1020                     
1021                     \textcolor{keywordflow}{if} ( root\_indent\_offset > 1 )
1022                         qWarning(\textcolor{stringliteral}{"CHM has improper index; root indent offset is %d"}, root\_indent\_offset);
1023                 \}
1024                 
1025                 \textcolor{comment}{// Trim the entry name}
1026                 entry.\hyperlink{structLCHMParsedEntry_a90196da32bb2ed757f516caf583a6437}{name} = entry.\hyperlink{structLCHMParsedEntry_a90196da32bb2ed757f516caf583a6437}{name}.trimmed();
1027                 
1028                 \textcolor{keywordtype}{int} real\_indent = indent - root\_indent\_offset;
1029                 
1030                 entry.\hyperlink{structLCHMParsedEntry_a33a145dba3dd4761f26b361dcf49017b}{indent} = real\_indent;
1031                 \hyperlink{structdrawinf_af73f66288002f0a25c7843a534bf1340}{data}->push\_back( entry );
1032             \}
1033             \textcolor{keywordflow}{else}
1034             \{
1035                 \textcolor{keywordflow}{if} ( !entry.\hyperlink{structLCHMParsedEntry_aa871a08e7fca4ae8e23983ff299bd24f}{urls}.isEmpty() )
1036                     qDebug (\textcolor{stringliteral}{"LCHMFileImpl::ParseAndFillTopicsTree: <object> tag with url \(\backslash\)"%s\(\backslash\)" is parsed,
       but name is empty."}, qPrintable( entry.\hyperlink{structLCHMParsedEntry_aa871a08e7fca4ae8e23983ff299bd24f}{urls}[0] ));
1037                 \textcolor{keywordflow}{else}
1038                     qDebug (\textcolor{stringliteral}{"LCHMFileImpl::ParseAndFillTopicsTree: <object> tag is parsed, but both name
       and url are empty."});  
1039             \}
1040 
1041             entry.\hyperlink{structLCHMParsedEntry_a90196da32bb2ed757f516caf583a6437}{name} = QString::null;
1042             entry.\hyperlink{structLCHMParsedEntry_aa871a08e7fca4ae8e23983ff299bd24f}{urls}.clear();
1043             entry.\hyperlink{structLCHMParsedEntry_aefeb9372238ddebc327350e1696ec901}{imageid} = defaultimagenum;
1044             in\_object = \textcolor{keyword}{false};
1045         \}
1046         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( tagword == \textcolor{stringliteral}{"param"} && in\_object )
1047         \{
1048             \textcolor{comment}{// <param name="Name" value="First Page">}
1049             \textcolor{keywordtype}{int} offset; \textcolor{comment}{// strlen("param ")}
1050             QString name\_pattern = \textcolor{stringliteral}{"name="}, value\_pattern = \textcolor{stringliteral}{"value="};
1051             QString pname, pvalue;
1052 
1053             \textcolor{keywordflow}{if} ( (offset = tag.indexOf (name\_pattern, 0, Qt::CaseInsensitive )) == -1 )
1054                 qFatal (\textcolor{stringliteral}{"LCHMFileImpl::ParseAndFillTopicsTree: bad <param> tag '%s': no name=\(\backslash\)n"}, 
      qPrintable( tag ));
1055 
1056             \textcolor{comment}{// offset+5 skips 'name='}
1057             offset = \hyperlink{classLCHMFileImpl_a4682910033121f594c7619b92a55af54}{findStringInQuotes} (tag, offset + name\_pattern.length(), pname, 
      \hyperlink{unpluckint_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}, \hyperlink{unpluckint_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
1058             pname = pname.toLower();
1059 
1060             \textcolor{keywordflow}{if} ( (offset = tag.indexOf(value\_pattern, offset, Qt::CaseInsensitive )) == -1 )
1061                 qFatal (\textcolor{stringliteral}{"LCHMFileImpl::ParseAndFillTopicsTree: bad <param> tag '%s': no value=\(\backslash\)n"}, 
      qPrintable( tag ));
1062 
1063             \textcolor{comment}{// offset+6 skips 'value='}
1064             \hyperlink{classLCHMFileImpl_a4682910033121f594c7619b92a55af54}{findStringInQuotes} (tag, offset + value\_pattern.length(), pvalue, 
      \hyperlink{unpluckint_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}, \hyperlink{unpluckint_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1065 
1066             \textcolor{comment}{//qDebug ("<param>: name '%s', value '%s'", qPrintable( pname ), qPrintable( pvalue ));}
1067 
1068             \textcolor{keywordflow}{if} ( pname == \textcolor{stringliteral}{"name"} )
1069             \{
1070                 \textcolor{comment}{// Some help files contain duplicate names, where the second name is empty. Work it around
       by keeping the first one}
1071                 \textcolor{keywordflow}{if} ( !pvalue.isEmpty() )
1072                     entry.\hyperlink{structLCHMParsedEntry_a90196da32bb2ed757f516caf583a6437}{name} = pvalue;
1073             \}
1074             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( pname == \textcolor{stringliteral}{"local"} )
1075             \{
1076                 \textcolor{comment}{// Check for URL duplication}
1077                 QString url = LCHMUrlFactory::makeURLabsoluteIfNeeded( pvalue );
1078                 
1079                 \textcolor{keywordflow}{if} ( !entry.\hyperlink{structLCHMParsedEntry_aa871a08e7fca4ae8e23983ff299bd24f}{urls}.contains( url ) )
1080                     entry.\hyperlink{structLCHMParsedEntry_aa871a08e7fca4ae8e23983ff299bd24f}{urls}.push\_back( url );
1081             \}
1082             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( pname == \textcolor{stringliteral}{"see also"} && asIndex && entry.\hyperlink{structLCHMParsedEntry_a90196da32bb2ed757f516caf583a6437}{name} != pvalue )
1083                 entry.\hyperlink{structLCHMParsedEntry_aa871a08e7fca4ae8e23983ff299bd24f}{urls}.push\_back (\textcolor{stringliteral}{":"} + pvalue);
1084             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( pname == \textcolor{stringliteral}{"imagenumber"} )
1085             \{
1086                 \textcolor{keywordtype}{bool} bok;
1087                 \textcolor{keywordtype}{int} imgnum = pvalue.toInt (&bok);
1088     
1089                 \textcolor{keywordflow}{if} ( bok && imgnum >= 0 && imgnum < 
      \hyperlink{namespaceLCHMBookIcons_aa8a657bb1bcac77ff0c2b590a1cd8e2e}{LCHMBookIcons::MAX\_BUILTIN\_ICONS} )
1090                     entry.\hyperlink{structLCHMParsedEntry_aefeb9372238ddebc327350e1696ec901}{imageid} = imgnum;
1091             \}
1092         \}
1093         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( tagword == \textcolor{stringliteral}{"ul"} ) \textcolor{comment}{// increase indent level}
1094         \{
1095             \textcolor{comment}{// Fix for buggy help files     }
1096             \textcolor{keywordflow}{if} ( ++indent >= MAX\_NEST\_DEPTH )
1097                 qFatal(\textcolor{stringliteral}{"LCHMFileImpl::ParseAndFillTopicsTree: max nest depth (%d) is reached, error in help
       file"}, MAX\_NEST\_DEPTH);
1098 
1099             \textcolor{comment}{// This intended to fix <ul><ul>, which was seen in some buggy chm files,}
1100             \textcolor{comment}{// and brokes rootentry[indent-1] check}
1101         \}
1102         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( tagword == \textcolor{stringliteral}{"/ul"} ) \textcolor{comment}{// decrease indent level}
1103         \{
1104             \textcolor{keywordflow}{if} ( --indent < root\_indent\_offset )
1105                 indent = root\_indent\_offset;
1106             
1107             \hyperlink{libchmfileimpl_8cpp_a149f4229693fa8b60eefb29d232e768d}{DEBUGPARSER}((\textcolor{stringliteral}{"</ul>: new intent is %d\(\backslash\)n"}, indent - root\_indent\_offset));
1108         \}
1109 
1110         pos = i;    
1111     \}
1112     
1113     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1114 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_adb1b14253941ebf518aa458e9fdeb0d7}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!Process\+W\+L\+C@{Process\+W\+L\+C}}
\index{Process\+W\+L\+C@{Process\+W\+L\+C}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{Process\+W\+L\+C}]{\setlength{\rightskip}{0pt plus 5cm}bool L\+C\+H\+M\+File\+Impl\+::\+Process\+W\+L\+C (
\begin{DoxyParamCaption}
\item[{uint64\+\_\+t}]{wlc\+\_\+count, }
\item[{uint64\+\_\+t}]{wlc\+\_\+size, }
\item[{uint32\+\_\+t}]{wlc\+\_\+offset, }
\item[{unsigned char}]{ds, }
\item[{unsigned char}]{dr, }
\item[{unsigned char}]{cs, }
\item[{unsigned char}]{cr, }
\item[{unsigned char}]{ls, }
\item[{unsigned char}]{lr, }
\item[{{\bf L\+C\+H\+M\+Search\+Progress\+Results} \&}]{results, }
\item[{bool}]{phrase\+\_\+search}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classLCHMFileImpl_adb1b14253941ebf518aa458e9fdeb0d7}


Helper. Processes the word location code entries while searching. 



Definition at line 612 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
619 \{
620     \textcolor{keywordtype}{int} wlc\_bit = 7;
621     uint64\_t index = 0, count;
622     \textcolor{keywordtype}{size\_t} length, off = 0;
623     QVector<unsigned char> buffer (wlc\_size);
624     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *cursor32;
625 
626     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} entry[\hyperlink{libchmfileimpl_8cpp_aee75fb5b9a986eae20d17ffa638c98e4}{TOPICS\_ENTRY\_LEN}];
627     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} combuf[13];
628 
629     \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{RetrieveObject} (&\hyperlink{classLCHMFileImpl_aff4c9c66f19b11205e4cbdabc7b2d8aa}{m\_chmFIftiMain}, buffer.data(), wlc\_offset, wlc\_size) 
      == 0 )
630         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
631 
632     \textcolor{keywordflow}{for} ( uint64\_t i = 0; i < wlc\_count; ++i )
633     \{
634         \textcolor{keywordflow}{if} ( wlc\_bit != 7 )
635         \{
636             ++off;
637             wlc\_bit = 7;
638         \}
639 
640         index += \hyperlink{bitfiddle_8h_a43e8ade332d40ce66a429ba61e1827cc}{sr\_int} (buffer.data() + off, &wlc\_bit, ds, dr, length);
641         off += length;
642 
643         \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{RetrieveObject} (&\hyperlink{classLCHMFileImpl_ae4a2d92d948b4482781b6b539ff1dd75}{m\_chmTOPICS}, entry, index * 16, 
      \hyperlink{libchmfileimpl_8cpp_aee75fb5b9a986eae20d17ffa638c98e4}{TOPICS\_ENTRY\_LEN}) == 0 )
644             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
645 
646         \hyperlink{classLCHMSearchProgressResult}{LCHMSearchProgressResult} progres;
647 
648         cursor32 = entry + 4;
649         progres.\hyperlink{classLCHMSearchProgressResult_a19efd6e530de64b24d8241e63879b10e}{titleoff} = \hyperlink{bitfiddle_8h_a09e5156ae22f7b3ea6e8fe0f94084390}{UINT32ARRAY}(cursor32);
650 
651         cursor32 = entry + 8;
652         progres.\hyperlink{classLCHMSearchProgressResult_a5adc806eecbe534531e56d8c3bec9bee}{urloff} = \hyperlink{bitfiddle_8h_a09e5156ae22f7b3ea6e8fe0f94084390}{UINT32ARRAY}(cursor32);
653 
654         \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{RetrieveObject} (&\hyperlink{classLCHMFileImpl_a6570c3bf72f4ed7ee5992005a88320c9}{m\_chmURLTBL}, combuf, progres.
      \hyperlink{classLCHMSearchProgressResult_a5adc806eecbe534531e56d8c3bec9bee}{urloff}, 12) == 0 )
655             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
656 
657         cursor32 = combuf + 8;
658         progres.\hyperlink{classLCHMSearchProgressResult_a5adc806eecbe534531e56d8c3bec9bee}{urloff} = \hyperlink{bitfiddle_8h_a09e5156ae22f7b3ea6e8fe0f94084390}{UINT32ARRAY} (cursor32);
659 
660         count = \hyperlink{bitfiddle_8h_a43e8ade332d40ce66a429ba61e1827cc}{sr\_int} (buffer.data() + off, &wlc\_bit, cs, cr, length);
661         off += length;
662 
663         \textcolor{keywordflow}{if} ( phrase\_search )
664             progres.\hyperlink{classLCHMSearchProgressResult_a72f86fd02076b9234fbf3b7418740757}{offsets}.reserve (count);
665         
666         \textcolor{keywordflow}{for} (uint64\_t j = 0; j < count; ++j)
667         \{
668             uint64\_t lcode = \hyperlink{bitfiddle_8h_a43e8ade332d40ce66a429ba61e1827cc}{sr\_int} (buffer.data() + off, &wlc\_bit, ls, lr, length);
669             off += length;
670             
671             \textcolor{keywordflow}{if} ( phrase\_search )
672                 progres.\hyperlink{classLCHMSearchProgressResult_a72f86fd02076b9234fbf3b7418740757}{offsets}.push\_back (lcode);
673         \}
674         
675         results.push\_back (progres);
676     \}
677 
678     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
679 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_a78d3e549251cd4c842aecca5aa1ede36}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!Resolve\+Object@{Resolve\+Object}}
\index{Resolve\+Object@{Resolve\+Object}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{Resolve\+Object}]{\setlength{\rightskip}{0pt plus 5cm}bool L\+C\+H\+M\+File\+Impl\+::\+Resolve\+Object (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{file\+Name, }
\item[{chm\+Unit\+Info $\ast$}]{ui}
\end{DoxyParamCaption}
) const}}\label{classLCHMFileImpl_a78d3e549251cd4c842aecca5aa1ede36}


Looks up file\+Name in the archive. 



Definition at line 537 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
538 \{
539     \textcolor{keywordflow}{return} \hyperlink{classLCHMFileImpl_a82d1d6a252134efcf90a82bf8ffd8493}{m\_chmFile} != NULL 
540             && ::chm\_resolve\_object(\hyperlink{classLCHMFileImpl_a82d1d6a252134efcf90a82bf8ffd8493}{m\_chmFile}, qPrintable( fileName ), ui) ==
541             CHM\_RESOLVE\_SUCCESS;
542 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!Retrieve\+Object@{Retrieve\+Object}}
\index{Retrieve\+Object@{Retrieve\+Object}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{Retrieve\+Object}]{\setlength{\rightskip}{0pt plus 5cm}size\+\_\+t L\+C\+H\+M\+File\+Impl\+::\+Retrieve\+Object (
\begin{DoxyParamCaption}
\item[{const chm\+Unit\+Info $\ast$}]{ui, }
\item[{unsigned char $\ast$}]{buffer, }
\item[{L\+O\+N\+G\+U\+I\+N\+T64}]{file\+Offset, }
\item[{L\+O\+N\+G\+I\+N\+T64}]{buffer\+Size}
\end{DoxyParamCaption}
) const}}\label{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}


Retrieves an uncompressed chunk of a file in the .chm. 



Definition at line 545 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
547 \{
548     return ::chm\_retrieve\_object(\hyperlink{classLCHMFileImpl_a82d1d6a252134efcf90a82bf8ffd8493}{m\_chmFile}, const\_cast<chmUnitInfo*>(ui),
549                                  buffer, fileOffset, bufferSize);
550 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_aef2f435b859a816d543af610ed65316e}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!search\+Word@{search\+Word}}
\index{search\+Word@{search\+Word}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{search\+Word}]{\setlength{\rightskip}{0pt plus 5cm}bool L\+C\+H\+M\+File\+Impl\+::search\+Word (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{word, }
\item[{bool}]{whole\+Words, }
\item[{bool}]{titles\+Only, }
\item[{{\bf L\+C\+H\+M\+Search\+Progress\+Results} \&}]{results, }
\item[{bool}]{phrase\+\_\+search}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_aef2f435b859a816d543af610ed65316e}


Fast search using the \$\+F\+Ifti\+Main file in the .chm. 


\begin{DoxyParams}{Parameters}
{\em text} & The text we're looking for. \\
\hline
{\em whole\+Words} & Are we looking for whole words only? \\
\hline
{\em titles\+Only} & Are we looking for titles only? \\
\hline
{\em results} & A string-\/string hashmap that will hold the results in case of successful search. The keys are the U\+R\+Ls and the values are the page titles. \\
\hline
{\em phrase\+\_\+search} & Indicates that word offset information should be kept. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the search found something, false otherwise. 
\end{DoxyReturn}


Definition at line 407 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
412 \{
413     \textcolor{keywordtype}{bool} partial = \textcolor{keyword}{false};
414 
415     \textcolor{keywordflow}{if} ( text.isEmpty() || !\hyperlink{classLCHMFileImpl_a7f5f505b00220199785298bdad0627f6}{m\_searchAvailable} )
416         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
417 
418     QString searchword = (QString) \hyperlink{classLCHMFileImpl_af271c732dfabab23d3d9a3aea235b983}{convertSearchWord} (text);
419 
420 \textcolor{preprocessor}{#define FTS\_HEADER\_LEN 0x32}
421     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} header[\hyperlink{libchmfileimpl_8cpp_a6b364c5fb9d60b5ec54ddfed513257e0}{FTS\_HEADER\_LEN}];
422 
423     \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{RetrieveObject} (&\hyperlink{classLCHMFileImpl_aff4c9c66f19b11205e4cbdabc7b2d8aa}{m\_chmFIftiMain}, header, 0, 
      \hyperlink{libchmfileimpl_8cpp_a6b364c5fb9d60b5ec54ddfed513257e0}{FTS\_HEADER\_LEN}) == 0 )
424         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
425     
426     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} doc\_index\_s = header[0x1E], doc\_index\_r = header[0x1F];
427     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} code\_count\_s = header[0x20], code\_count\_r = header[0x21];
428     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} loc\_codes\_s = header[0x22], loc\_codes\_r = header[0x23];
429 
430     \textcolor{keywordflow}{if}(doc\_index\_s != 2 || code\_count\_s != 2 || loc\_codes\_s != 2)
431     \{
432         \textcolor{comment}{// Don't know how to use values other than 2 yet. Maybe next chmspec.}
433         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
434     \}
435 
436     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}* cursor32 = header + 0x14;
437     uint32\_t node\_offset = \hyperlink{bitfiddle_8h_a09e5156ae22f7b3ea6e8fe0f94084390}{UINT32ARRAY}(cursor32);
438 
439     cursor32 = header + 0x2e;
440     uint32\_t node\_len = \hyperlink{bitfiddle_8h_a09e5156ae22f7b3ea6e8fe0f94084390}{UINT32ARRAY}(cursor32);
441 
442     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}* cursor16 = header + 0x18;
443     uint16\_t tree\_depth = \hyperlink{bitfiddle_8h_a4cdadd3f542d83f288d0b415c397fbb9}{UINT16ARRAY}(cursor16);
444 
445     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} word\_len, pos;
446     QString word;
447     uint32\_t i = \textcolor{keyword}{sizeof}(uint16\_t);
448     uint16\_t free\_space;
449 
450     QVector<unsigned char> buffer(node\_len);
451 
452     node\_offset = \hyperlink{classLCHMFileImpl_accf081c4ea0e7ec303b969d53d82593a}{GetLeafNodeOffset} (searchword, node\_offset, node\_len, tree\_depth);
453 
454     \textcolor{keywordflow}{if} ( !node\_offset )
455         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
456 
457     \textcolor{keywordflow}{do}
458     \{
459         \textcolor{comment}{// got a leaf node here.}
460         \textcolor{keywordflow}{if} ( \hyperlink{classLCHMFileImpl_a8535dce5eb8f22161ecf3510fde8aa4e}{RetrieveObject} (&\hyperlink{classLCHMFileImpl_aff4c9c66f19b11205e4cbdabc7b2d8aa}{m\_chmFIftiMain}, buffer.data(), node\_offset, 
      node\_len) == 0 )
461             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
462 
463         cursor16 = buffer.data() + 6;
464         free\_space = \hyperlink{bitfiddle_8h_a4cdadd3f542d83f288d0b415c397fbb9}{UINT16ARRAY}(cursor16);
465 
466         i = \textcolor{keyword}{sizeof}(uint32\_t) + \textcolor{keyword}{sizeof}(uint16\_t) + \textcolor{keyword}{sizeof}(uint16\_t);
467         uint64\_t wlc\_count, wlc\_size;
468         uint32\_t wlc\_offset;
469 
470         \textcolor{keywordflow}{while} (i < node\_len - free\_space)
471         \{
472             word\_len = *(buffer.data() + i);
473             pos = *(buffer.data() + i + 1);
474 
475             \textcolor{keywordtype}{char} *wrd\_buf = \textcolor{keyword}{new} \textcolor{keywordtype}{char}[word\_len];
476             memcpy (wrd\_buf, buffer.data() + i + 2, word\_len - 1);
477             wrd\_buf[word\_len - 1] = 0;
478 
479             \textcolor{keywordflow}{if} ( pos == 0 )
480                 word = wrd\_buf;
481             \textcolor{keywordflow}{else}
482                 word = word.mid (0, pos) + (\textcolor{keyword}{const} \textcolor{keywordtype}{char}*) wrd\_buf;
483 
484             \textcolor{keyword}{delete}[] wrd\_buf;
485 
486             i += 2 + word\_len;
487             \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} \hyperlink{classLCHMFileImpl_ad4d900f2d705ecd494289de810318b5c}{title} = *(buffer.data() + i - 1);
488 
489             \textcolor{keywordtype}{size\_t} encsz;
490             wlc\_count = \hyperlink{bitfiddle_8h_ac5be5a4138a59661d9c6c46ac85b0ec8}{be\_encint} (buffer.data() + i, encsz);
491             i += encsz;
492         
493             cursor32 = buffer.data() + i;
494             wlc\_offset = \hyperlink{bitfiddle_8h_a09e5156ae22f7b3ea6e8fe0f94084390}{UINT32ARRAY}(cursor32);
495 
496             i += \textcolor{keyword}{sizeof}(uint32\_t) + \textcolor{keyword}{sizeof}(uint16\_t);
497             wlc\_size =  \hyperlink{bitfiddle_8h_ac5be5a4138a59661d9c6c46ac85b0ec8}{be\_encint} (buffer.data() + i, encsz);
498             i += encsz;
499 
500             cursor32 = buffer.data();
501             node\_offset = \hyperlink{bitfiddle_8h_a09e5156ae22f7b3ea6e8fe0f94084390}{UINT32ARRAY}(cursor32);
502         
503             \textcolor{keywordflow}{if} ( !title && titlesOnly )
504                 \textcolor{keywordflow}{continue};
505 
506             \textcolor{keywordflow}{if} ( wholeWords && searchword == word )
507                 \textcolor{keywordflow}{return} \hyperlink{classLCHMFileImpl_adb1b14253941ebf518aa458e9fdeb0d7}{ProcessWLC}(wlc\_count, wlc\_size,
508                                   wlc\_offset, doc\_index\_s,
509                                   doc\_index\_r,code\_count\_s,
510                                   code\_count\_r, loc\_codes\_s,
511                                   loc\_codes\_r, results, phrase\_search);
512 
513             \textcolor{keywordflow}{if} ( !wholeWords )
514             \{
515                 \textcolor{keywordflow}{if} ( word.startsWith (searchword))
516                 \{
517                     partial = \textcolor{keyword}{true};
518                     
519                     \hyperlink{classLCHMFileImpl_adb1b14253941ebf518aa458e9fdeb0d7}{ProcessWLC}(wlc\_count, wlc\_size,
520                                wlc\_offset, doc\_index\_s,
521                                doc\_index\_r,code\_count\_s,
522                                code\_count\_r, loc\_codes\_s,
523                                loc\_codes\_r, results, phrase\_search);
524 
525                 \}
526                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( QString::compare (searchword, word.mid(0, searchword.length())) < -1 )
527                     \textcolor{keywordflow}{break};
528             \}
529         \}   
530     \}
531     \textcolor{keywordflow}{while} ( !wholeWords && word.startsWith (searchword) && node\_offset );
532     
533     \textcolor{keywordflow}{return} partial;
534 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_afa8e9063a88e0a8090b3412b49e67f9e}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!set\+Current\+Encoding@{set\+Current\+Encoding}}
\index{set\+Current\+Encoding@{set\+Current\+Encoding}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{set\+Current\+Encoding}]{\setlength{\rightskip}{0pt plus 5cm}bool L\+C\+H\+M\+File\+Impl\+::set\+Current\+Encoding (
\begin{DoxyParamCaption}
\item[{const {\bf L\+C\+H\+M\+Text\+Encoding} $\ast$}]{encoding}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_afa8e9063a88e0a8090b3412b49e67f9e}


Definition at line 1183 of file libchmfileimpl.\+cpp.


\begin{DoxyCode}
1184 \{
1185     \hyperlink{classLCHMFileImpl_a365b502e727dd2202dec204815d23c50}{m\_currentEncoding} = encoding;
1186     \textcolor{keywordflow}{return} \hyperlink{classLCHMFileImpl_a4b9bc32e0bc5cedb20fc851503e7a1ab}{changeFileEncoding}( encoding->\hyperlink{structLCHMTextEncoding_a568ebc6339c15035490e8d9c0c1f9959}{qtcodec} );
1187 \}
\end{DoxyCode}
\hypertarget{classLCHMFileImpl_a577e4f87f3481ff5afdeadac1be3d71d}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!setup\+Text\+Codec@{setup\+Text\+Codec}}
\index{setup\+Text\+Codec@{setup\+Text\+Codec}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{setup\+Text\+Codec}]{\setlength{\rightskip}{0pt plus 5cm}void L\+C\+H\+M\+File\+Impl\+::setup\+Text\+Codec (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{name}
\end{DoxyParamCaption}
)}}\label{classLCHMFileImpl_a577e4f87f3481ff5afdeadac1be3d71d}


Sets up text\+Codec. 

\hypertarget{classLCHMFileImpl_ad4d900f2d705ecd494289de810318b5c}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!title@{title}}
\index{title@{title}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{title}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String L\+C\+H\+M\+File\+Impl\+::title (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}}\label{classLCHMFileImpl_ad4d900f2d705ecd494289de810318b5c}


Definition at line 61 of file libchmfileimpl.\+h.


\begin{DoxyCode}
61 \{ \textcolor{keywordflow}{return} \hyperlink{classLCHMFileImpl_a6f8c407b1fbbe568df1690b3d2edee91}{encodeWithCurrentCodec}( \hyperlink{classLCHMFileImpl_abe88f8991855d7d573bd2966f9fd9f8b}{m\_title} ); \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{classLCHMFileImpl_aff4c9c66f19b11205e4cbdabc7b2d8aa}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+chm\+F\+Ifti\+Main@{m\+\_\+chm\+F\+Ifti\+Main}}
\index{m\+\_\+chm\+F\+Ifti\+Main@{m\+\_\+chm\+F\+Ifti\+Main}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+chm\+F\+Ifti\+Main}]{\setlength{\rightskip}{0pt plus 5cm}chm\+Unit\+Info L\+C\+H\+M\+File\+Impl\+::m\+\_\+chm\+F\+Ifti\+Main}}\label{classLCHMFileImpl_aff4c9c66f19b11205e4cbdabc7b2d8aa}


pointer to /\$\+F\+Ifti\+Main 



Definition at line 292 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_a82d1d6a252134efcf90a82bf8ffd8493}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+chm\+File@{m\+\_\+chm\+File}}
\index{m\+\_\+chm\+File@{m\+\_\+chm\+File}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+chm\+File}]{\setlength{\rightskip}{0pt plus 5cm}chm\+File$\ast$ L\+C\+H\+M\+File\+Impl\+::m\+\_\+chm\+File}}\label{classLCHMFileImpl_a82d1d6a252134efcf90a82bf8ffd8493}


Pointer to the chmlib structure. 



Definition at line 238 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_a73ed5eac37c22b2cd6d7fbc2a78b60db}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+chm\+S\+T\+R\+I\+N\+G\+S@{m\+\_\+chm\+S\+T\+R\+I\+N\+G\+S}}
\index{m\+\_\+chm\+S\+T\+R\+I\+N\+G\+S@{m\+\_\+chm\+S\+T\+R\+I\+N\+G\+S}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+chm\+S\+T\+R\+I\+N\+G\+S}]{\setlength{\rightskip}{0pt plus 5cm}chm\+Unit\+Info L\+C\+H\+M\+File\+Impl\+::m\+\_\+chm\+S\+T\+R\+I\+N\+G\+S}}\label{classLCHMFileImpl_a73ed5eac37c22b2cd6d7fbc2a78b60db}


pointer to /\#\+S\+T\+R\+I\+N\+G\+S 



Definition at line 279 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_ae4a2d92d948b4482781b6b539ff1dd75}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+chm\+T\+O\+P\+I\+C\+S@{m\+\_\+chm\+T\+O\+P\+I\+C\+S}}
\index{m\+\_\+chm\+T\+O\+P\+I\+C\+S@{m\+\_\+chm\+T\+O\+P\+I\+C\+S}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+chm\+T\+O\+P\+I\+C\+S}]{\setlength{\rightskip}{0pt plus 5cm}chm\+Unit\+Info L\+C\+H\+M\+File\+Impl\+::m\+\_\+chm\+T\+O\+P\+I\+C\+S}}\label{classLCHMFileImpl_ae4a2d92d948b4482781b6b539ff1dd75}


pointer to /\#\+T\+O\+P\+I\+C\+S 



Definition at line 276 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_a8b003f45596e247595b90b57b1e8c499}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+chm\+U\+R\+L\+S\+T\+R@{m\+\_\+chm\+U\+R\+L\+S\+T\+R}}
\index{m\+\_\+chm\+U\+R\+L\+S\+T\+R@{m\+\_\+chm\+U\+R\+L\+S\+T\+R}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+chm\+U\+R\+L\+S\+T\+R}]{\setlength{\rightskip}{0pt plus 5cm}chm\+Unit\+Info L\+C\+H\+M\+File\+Impl\+::m\+\_\+chm\+U\+R\+L\+S\+T\+R}}\label{classLCHMFileImpl_a8b003f45596e247595b90b57b1e8c499}


pointer to /\#\+U\+R\+L\+S\+T\+R 



Definition at line 285 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_a6570c3bf72f4ed7ee5992005a88320c9}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+chm\+U\+R\+L\+T\+B\+L@{m\+\_\+chm\+U\+R\+L\+T\+B\+L}}
\index{m\+\_\+chm\+U\+R\+L\+T\+B\+L@{m\+\_\+chm\+U\+R\+L\+T\+B\+L}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+chm\+U\+R\+L\+T\+B\+L}]{\setlength{\rightskip}{0pt plus 5cm}chm\+Unit\+Info L\+C\+H\+M\+File\+Impl\+::m\+\_\+chm\+U\+R\+L\+T\+B\+L}}\label{classLCHMFileImpl_a6570c3bf72f4ed7ee5992005a88320c9}


pointer to /\#\+U\+R\+L\+T\+B\+L 



Definition at line 282 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_a365b502e727dd2202dec204815d23c50}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+current\+Encoding@{m\+\_\+current\+Encoding}}
\index{m\+\_\+current\+Encoding@{m\+\_\+current\+Encoding}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+current\+Encoding}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf L\+C\+H\+M\+Text\+Encoding}$\ast$ L\+C\+H\+M\+File\+Impl\+::m\+\_\+current\+Encoding}}\label{classLCHMFileImpl_a365b502e727dd2202dec204815d23c50}


Current encoding. 



Definition at line 267 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_a6d5c5705a3c148206aae29da01555ad1}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+detected\+L\+C\+I\+D@{m\+\_\+detected\+L\+C\+I\+D}}
\index{m\+\_\+detected\+L\+C\+I\+D@{m\+\_\+detected\+L\+C\+I\+D}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+detected\+L\+C\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}short L\+C\+H\+M\+File\+Impl\+::m\+\_\+detected\+L\+C\+I\+D}}\label{classLCHMFileImpl_a6d5c5705a3c148206aae29da01555ad1}


L\+C\+I\+D from C\+H\+M file, used in encoding detection. 



Definition at line 257 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+entity\+Decode\+Map@{m\+\_\+entity\+Decode\+Map}}
\index{m\+\_\+entity\+Decode\+Map@{m\+\_\+entity\+Decode\+Map}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+entity\+Decode\+Map}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Q\+Map}$<$Q\+String, Q\+String$>$ L\+C\+H\+M\+File\+Impl\+::m\+\_\+entity\+Decode\+Map}}\label{classLCHMFileImpl_ae00b1b33fde26e719bc22207c11e589f}


Map to decode H\+T\+M\+L entitles like \'{} based on current encoding. 



Definition at line 270 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_a7e8bf327eeb1f4a3ccebb46ae6bd1bfa}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+filename@{m\+\_\+filename}}
\index{m\+\_\+filename@{m\+\_\+filename}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+filename}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String L\+C\+H\+M\+File\+Impl\+::m\+\_\+filename}}\label{classLCHMFileImpl_a7e8bf327eeb1f4a3ccebb46ae6bd1bfa}


Opened file name. 



Definition at line 241 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_a2b0d1d5b99fef328aa6a8f2c7ba7a495}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+font@{m\+\_\+font}}
\index{m\+\_\+font@{m\+\_\+font}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+font}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String L\+C\+H\+M\+File\+Impl\+::m\+\_\+font}}\label{classLCHMFileImpl_a2b0d1d5b99fef328aa6a8f2c7ba7a495}


font charset from C\+H\+M file, used in encoding detection 



Definition at line 260 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_a5bf6157ef7d4bc446c389eea871c09a0}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+home@{m\+\_\+home}}
\index{m\+\_\+home@{m\+\_\+home}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+home}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Byte\+Array L\+C\+H\+M\+File\+Impl\+::m\+\_\+home}}\label{classLCHMFileImpl_a5bf6157ef7d4bc446c389eea871c09a0}


Home url, got from C\+H\+M file. 



Definition at line 244 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_afbd4fcdb78858fab9c7c594c58cd4367}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+images\+Keeper@{m\+\_\+images\+Keeper}}
\index{m\+\_\+images\+Keeper@{m\+\_\+images\+Keeper}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+images\+Keeper}]{\setlength{\rightskip}{0pt plus 5cm}{\bf L\+C\+H\+M\+Toc\+Image\+Keeper} L\+C\+H\+M\+File\+Impl\+::m\+\_\+images\+Keeper}}\label{classLCHMFileImpl_afbd4fcdb78858fab9c7c594c58cd4367}


Book \hyperlink{classTOC}{T\+O\+C} icon images storage. 



Definition at line 295 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_ab5f59c7a474b444bb07a1992bd0a6d82}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+index\+File@{m\+\_\+index\+File}}
\index{m\+\_\+index\+File@{m\+\_\+index\+File}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+index\+File}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Byte\+Array L\+C\+H\+M\+File\+Impl\+::m\+\_\+index\+File}}\label{classLCHMFileImpl_ab5f59c7a474b444bb07a1992bd0a6d82}


Index filename. Got from C\+H\+M file. 



Definition at line 250 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_a1bd04b8772eaa2e3dd91bda8c4553f90}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+lookup\+Tables\+Valid@{m\+\_\+lookup\+Tables\+Valid}}
\index{m\+\_\+lookup\+Tables\+Valid@{m\+\_\+lookup\+Tables\+Valid}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+lookup\+Tables\+Valid}]{\setlength{\rightskip}{0pt plus 5cm}bool L\+C\+H\+M\+File\+Impl\+::m\+\_\+lookup\+Tables\+Valid}}\label{classLCHMFileImpl_a1bd04b8772eaa2e3dd91bda8c4553f90}


T\+R\+U\+E if /\#\+T\+O\+P\+I\+C\+S, /\#\+S\+T\+R\+I\+N\+G\+S, /\#\+U\+R\+L\+T\+B\+L and /\#\+U\+R\+L\+S\+T\+R are resolved, and the members below are valid. 



Definition at line 273 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_a7f5f505b00220199785298bdad0627f6}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+search\+Available@{m\+\_\+search\+Available}}
\index{m\+\_\+search\+Available@{m\+\_\+search\+Available}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+search\+Available}]{\setlength{\rightskip}{0pt plus 5cm}bool L\+C\+H\+M\+File\+Impl\+::m\+\_\+search\+Available}}\label{classLCHMFileImpl_a7f5f505b00220199785298bdad0627f6}
Indicates whether the built-\/in search is available. This is true only when m\+\_\+lookup\+Tables\+Valid is T\+R\+U\+E, and m\+\_\+chm\+F\+Ifti\+Main is resolved. 

Definition at line 289 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_a2f941b3f26a4f845d3e785cfad0eeb58}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+text\+Codec@{m\+\_\+text\+Codec}}
\index{m\+\_\+text\+Codec@{m\+\_\+text\+Codec}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+text\+Codec}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Text\+Codec$\ast$ L\+C\+H\+M\+File\+Impl\+::m\+\_\+text\+Codec}}\label{classLCHMFileImpl_a2f941b3f26a4f845d3e785cfad0eeb58}


Chosen text codec. 



Definition at line 263 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_ad50032706377cebb647d43f348904942}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+text\+Codec\+For\+Special\+Files@{m\+\_\+text\+Codec\+For\+Special\+Files}}
\index{m\+\_\+text\+Codec\+For\+Special\+Files@{m\+\_\+text\+Codec\+For\+Special\+Files}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+text\+Codec\+For\+Special\+Files}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Text\+Codec$\ast$ L\+C\+H\+M\+File\+Impl\+::m\+\_\+text\+Codec\+For\+Special\+Files}}\label{classLCHMFileImpl_ad50032706377cebb647d43f348904942}


Definition at line 264 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_abe88f8991855d7d573bd2966f9fd9f8b}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+title@{m\+\_\+title}}
\index{m\+\_\+title@{m\+\_\+title}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+title}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Byte\+Array L\+C\+H\+M\+File\+Impl\+::m\+\_\+title}}\label{classLCHMFileImpl_abe88f8991855d7d573bd2966f9fd9f8b}


Chm Title. Got from C\+H\+M file. 



Definition at line 253 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_af3d33a88f44e3d103f08d9cc1c0ccf12}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+topics\+File@{m\+\_\+topics\+File}}
\index{m\+\_\+topics\+File@{m\+\_\+topics\+File}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+topics\+File}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Byte\+Array L\+C\+H\+M\+File\+Impl\+::m\+\_\+topics\+File}}\label{classLCHMFileImpl_af3d33a88f44e3d103f08d9cc1c0ccf12}


\hyperlink{classContext}{Context} tree filename. Got from C\+H\+M file. 



Definition at line 247 of file libchmfileimpl.\+h.

\hypertarget{classLCHMFileImpl_ace36f0ffc8316cb551fb236989552620}{\index{L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}!m\+\_\+url2topics@{m\+\_\+url2topics}}
\index{m\+\_\+url2topics@{m\+\_\+url2topics}!L\+C\+H\+M\+File\+Impl@{L\+C\+H\+M\+File\+Impl}}
\subsubsection[{m\+\_\+url2topics}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Q\+Map}$<$ Q\+String, Q\+String $>$ L\+C\+H\+M\+File\+Impl\+::m\+\_\+url2topics}}\label{classLCHMFileImpl_ace36f0ffc8316cb551fb236989552620}


Map url-\/$>$topic. 



Definition at line 298 of file libchmfileimpl.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
generators/chm/lib/\hyperlink{libchmfileimpl_8h}{libchmfileimpl.\+h}\item 
generators/chm/lib/\hyperlink{libchmfileimpl_8cpp}{libchmfileimpl.\+cpp}\item 
generators/chm/lib/\hyperlink{libchmtextencoding_8cpp}{libchmtextencoding.\+cpp}\end{DoxyCompactItemize}
