\hypertarget{classMobi_1_1MobiDocument}{\section{Mobi\+:\+:Mobi\+Document Class Reference}
\label{classMobi_1_1MobiDocument}\index{Mobi\+::\+Mobi\+Document@{Mobi\+::\+Mobi\+Document}}
}


{\ttfamily \#include $<$mobidocument.\+h$>$}

Inheritance diagram for Mobi\+:\+:Mobi\+Document\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classMobi_1_1MobiDocument}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classMobi_1_1MobiDocument_a3b77261b1552383dd533f49fc72a21e2}{Mobi\+Document} (const Q\+String \&file\+Name)
\item 
\hyperlink{classMobi_1_1MobiDocument_a92fbc8d691471043e6733bb5faad99ad}{$\sim$\+Mobi\+Document} ()
\item 
Mobipocket\+::\+Document $\ast$ \hyperlink{classMobi_1_1MobiDocument_a22ca18d34e4e1f9f3aacf54ed7d274c8}{mobi} () const 
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual Q\+Variant \hyperlink{classMobi_1_1MobiDocument_a35ad9b759c528d3de5b590754ca7774d}{load\+Resource} (int type, const Q\+Url \&name)
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 24 of file mobidocument.\+h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classMobi_1_1MobiDocument_a3b77261b1552383dd533f49fc72a21e2}{\index{Mobi\+::\+Mobi\+Document@{Mobi\+::\+Mobi\+Document}!Mobi\+Document@{Mobi\+Document}}
\index{Mobi\+Document@{Mobi\+Document}!Mobi\+::\+Mobi\+Document@{Mobi\+::\+Mobi\+Document}}
\subsubsection[{Mobi\+Document}]{\setlength{\rightskip}{0pt plus 5cm}Mobi\+Document\+::\+Mobi\+Document (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{file\+Name}
\end{DoxyParamCaption}
)}}\label{classMobi_1_1MobiDocument_a3b77261b1552383dd533f49fc72a21e2}


Definition at line 21 of file mobidocument.\+cpp.


\begin{DoxyCode}
21                                                   : QTextDocument() 
22 \{
23   file = \textcolor{keyword}{new} Mobipocket::QFileStream(fileName);
24   doc = \textcolor{keyword}{new} Mobipocket::Document(file);
25   \textcolor{keywordflow}{if} (doc->isValid()) \{
26       QString text=doc->text();
27       QString header=text.left(1024);
28       \textcolor{keywordflow}{if} (header.contains(\textcolor{stringliteral}{"<html>"}) || header.contains(\textcolor{stringliteral}{"<HTML>"})) \{
29         \textcolor{comment}{// HACK BEGIN Get the links without CSS to be blue}
30         \textcolor{comment}{//            Remove if Qt ever gets fixed and the code in textdocumentgenerator.cpp works}
31         \textcolor{keyword}{const} QPalette orig = qApp->palette();
32         QPalette p = orig;
33         p.setColor(QPalette::Link, Qt::blue);
34         qApp->setPalette(p);
35         \textcolor{comment}{// HACK END}
36 
37         setHtml(fixMobiMarkup(text));
38 
39         \textcolor{comment}{// HACK BEGIN}
40         qApp->setPalette(orig);
41         \textcolor{comment}{// HACK END}
42       \} \textcolor{keywordflow}{else} \{
43           setPlainText(text);
44       \}
45   \}
46 \}
\end{DoxyCode}
\hypertarget{classMobi_1_1MobiDocument_a92fbc8d691471043e6733bb5faad99ad}{\index{Mobi\+::\+Mobi\+Document@{Mobi\+::\+Mobi\+Document}!````~Mobi\+Document@{$\sim$\+Mobi\+Document}}
\index{````~Mobi\+Document@{$\sim$\+Mobi\+Document}!Mobi\+::\+Mobi\+Document@{Mobi\+::\+Mobi\+Document}}
\subsubsection[{$\sim$\+Mobi\+Document}]{\setlength{\rightskip}{0pt plus 5cm}Mobi\+Document\+::$\sim$\+Mobi\+Document (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classMobi_1_1MobiDocument_a92fbc8d691471043e6733bb5faad99ad}


Definition at line 48 of file mobidocument.\+cpp.


\begin{DoxyCode}
49 \{
50     \textcolor{keyword}{delete} doc;
51     \textcolor{keyword}{delete} file;
52 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{classMobi_1_1MobiDocument_a35ad9b759c528d3de5b590754ca7774d}{\index{Mobi\+::\+Mobi\+Document@{Mobi\+::\+Mobi\+Document}!load\+Resource@{load\+Resource}}
\index{load\+Resource@{load\+Resource}!Mobi\+::\+Mobi\+Document@{Mobi\+::\+Mobi\+Document}}
\subsubsection[{load\+Resource}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Variant Mobi\+Document\+::load\+Resource (
\begin{DoxyParamCaption}
\item[{int}]{type, }
\item[{const Q\+Url \&}]{name}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{classMobi_1_1MobiDocument_a35ad9b759c528d3de5b590754ca7774d}


Definition at line 54 of file mobidocument.\+cpp.


\begin{DoxyCode}
55 \{
56   \textcolor{keywordflow}{if} (type!=QTextDocument::ImageResource || name.scheme()!=QString(\textcolor{stringliteral}{"pdbrec"})) \textcolor{keywordflow}{return} QVariant();
57   \textcolor{keywordtype}{bool} ok;
58   quint16 recnum=name.path().mid(1).toUShort(&ok);
59   \textcolor{keywordflow}{if} (!ok || recnum>=doc->imageCount()) \textcolor{keywordflow}{return} QVariant();
60    
61   QVariant resource;
62   resource.setValue(doc->getImage(recnum-1));
63   addResource(type, name, resource); 
64     
65   \textcolor{keywordflow}{return} resource;
66 \}
\end{DoxyCode}
\hypertarget{classMobi_1_1MobiDocument_a22ca18d34e4e1f9f3aacf54ed7d274c8}{\index{Mobi\+::\+Mobi\+Document@{Mobi\+::\+Mobi\+Document}!mobi@{mobi}}
\index{mobi@{mobi}!Mobi\+::\+Mobi\+Document@{Mobi\+::\+Mobi\+Document}}
\subsubsection[{mobi}]{\setlength{\rightskip}{0pt plus 5cm}Mobipocket\+::\+Document$\ast$ Mobi\+::\+Mobi\+Document\+::mobi (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}}\label{classMobi_1_1MobiDocument_a22ca18d34e4e1f9f3aacf54ed7d274c8}


Definition at line 30 of file mobidocument.\+h.


\begin{DoxyCode}
30 \{ \textcolor{keywordflow}{return} doc; \}
\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
generators/mobipocket/\hyperlink{mobidocument_8h}{mobidocument.\+h}\item 
generators/mobipocket/\hyperlink{mobidocument_8cpp}{mobidocument.\+cpp}\end{DoxyCompactItemize}
