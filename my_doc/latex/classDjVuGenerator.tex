\hypertarget{classDjVuGenerator}{\section{Dj\+Vu\+Generator Class Reference}
\label{classDjVuGenerator}\index{Dj\+Vu\+Generator@{Dj\+Vu\+Generator}}
}


{\ttfamily \#include $<$generator\+\_\+djvu.\+h$>$}

Inheritance diagram for Dj\+Vu\+Generator\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classDjVuGenerator}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classDjVuGenerator_a1afc4e3ef24772d6e7c53d71a7d85b59}{Dj\+Vu\+Generator} (Q\+Object $\ast$parent, const Q\+Variant\+List \&args)
\item 
\hyperlink{classDjVuGenerator_ac4ca23827a811606c09eaaac001e5a73}{$\sim$\+Dj\+Vu\+Generator} ()
\item 
bool \hyperlink{classDjVuGenerator_ace33eff68f72609689d7850b0ef3e6ef}{load\+Document} (const Q\+String \&file\+Name, Q\+Vector$<$ \hyperlink{classOkular_1_1Page}{Okular\+::\+Page} $\ast$ $>$ \&pages\+Vector)
\item 
const \hyperlink{classOkular_1_1DocumentInfo}{Okular\+::\+Document\+Info} $\ast$ \hyperlink{classDjVuGenerator_acf9234f6d7b9d33c6306b6d0e11464a0}{generate\+Document\+Info} ()
\item 
const \hyperlink{classOkular_1_1DocumentSynopsis}{Okular\+::\+Document\+Synopsis} $\ast$ \hyperlink{classDjVuGenerator_acc8cf4d02a9dcc84880ccc9cba988345}{generate\+Document\+Synopsis} ()
\item 
bool \hyperlink{classDjVuGenerator_a8127027939e0f71b0b15b28794863dd5}{print} (Q\+Printer \&printer)
\item 
Q\+Variant \hyperlink{classDjVuGenerator_a354dc9b90acf89f0a83dfcd92429bfdb}{meta\+Data} (const Q\+String \&key, const Q\+Variant \&option) const 
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classDjVuGenerator_a233a2a93d7b18e866e927fc686cf94ac}{do\+Close\+Document} ()
\item 
Q\+Image \hyperlink{classDjVuGenerator_a6d072c673c6e484f75aab6943d51c2be}{image} (\hyperlink{classOkular_1_1PixmapRequest}{Okular\+::\+Pixmap\+Request} $\ast$request)
\item 
\hyperlink{classOkular_1_1TextPage}{Okular\+::\+Text\+Page} $\ast$ \hyperlink{classDjVuGenerator_a1923561a9e90819282c769b78ba4ce01}{text\+Page} (\hyperlink{classOkular_1_1Page}{Okular\+::\+Page} $\ast$page)
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 24 of file generator\+\_\+djvu.\+h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classDjVuGenerator_a1afc4e3ef24772d6e7c53d71a7d85b59}{\index{Dj\+Vu\+Generator@{Dj\+Vu\+Generator}!Dj\+Vu\+Generator@{Dj\+Vu\+Generator}}
\index{Dj\+Vu\+Generator@{Dj\+Vu\+Generator}!Dj\+Vu\+Generator@{Dj\+Vu\+Generator}}
\subsubsection[{Dj\+Vu\+Generator}]{\setlength{\rightskip}{0pt plus 5cm}Dj\+Vu\+Generator\+::\+Dj\+Vu\+Generator (
\begin{DoxyParamCaption}
\item[{Q\+Object $\ast$}]{parent, }
\item[{const Q\+Variant\+List \&}]{args}
\end{DoxyParamCaption}
)}}\label{classDjVuGenerator_a1afc4e3ef24772d6e7c53d71a7d85b59}


Definition at line 86 of file generator\+\_\+djvu.\+cpp.


\begin{DoxyCode}
87     : \hyperlink{classOkular_1_1Generator}{Okular::Generator}( parent, args ), m\_docInfo( 0 ), m\_docSyn( 0 )
88 \{
89     \hyperlink{classOkular_1_1Generator_abcebcc5f69e98b6227496198a5c69d2c}{setFeature}( \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a1bf7de5d98ec0333e392ce7f004d6578}{TextExtraction} );
90     \hyperlink{classOkular_1_1Generator_abcebcc5f69e98b6227496198a5c69d2c}{setFeature}( \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a0764a910b194896e72da084c3c51a2d0}{Threaded} );
91     \hyperlink{classOkular_1_1Generator_abcebcc5f69e98b6227496198a5c69d2c}{setFeature}( \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77af0ce4775bf5c69b470c2cce6011d576b}{PrintPostscript} );
92     \textcolor{keywordflow}{if} ( \hyperlink{classOkular_1_1FilePrinter_a047b30a135796c064fda2823ae6c0ddb}{Okular::FilePrinter::ps2pdfAvailable}() )
93         \hyperlink{classOkular_1_1Generator_abcebcc5f69e98b6227496198a5c69d2c}{setFeature}( \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a0bb6cbe50f2ffb616e25106b2e34c289}{PrintToFile} );
94 
95     m\_djvu = \textcolor{keyword}{new} \hyperlink{classKDjVu}{KDjVu}();
96     m\_djvu->\hyperlink{classKDjVu_a175f29677ef28f549a709b337f917d92}{setCacheEnabled}( \textcolor{keyword}{false} );
97 \}
\end{DoxyCode}
\hypertarget{classDjVuGenerator_ac4ca23827a811606c09eaaac001e5a73}{\index{Dj\+Vu\+Generator@{Dj\+Vu\+Generator}!````~Dj\+Vu\+Generator@{$\sim$\+Dj\+Vu\+Generator}}
\index{````~Dj\+Vu\+Generator@{$\sim$\+Dj\+Vu\+Generator}!Dj\+Vu\+Generator@{Dj\+Vu\+Generator}}
\subsubsection[{$\sim$\+Dj\+Vu\+Generator}]{\setlength{\rightskip}{0pt plus 5cm}Dj\+Vu\+Generator\+::$\sim$\+Dj\+Vu\+Generator (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classDjVuGenerator_ac4ca23827a811606c09eaaac001e5a73}


Definition at line 99 of file generator\+\_\+djvu.\+cpp.


\begin{DoxyCode}
100 \{
101     \textcolor{keyword}{delete} m\_djvu;
102 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{classDjVuGenerator_a233a2a93d7b18e866e927fc686cf94ac}{\index{Dj\+Vu\+Generator@{Dj\+Vu\+Generator}!do\+Close\+Document@{do\+Close\+Document}}
\index{do\+Close\+Document@{do\+Close\+Document}!Dj\+Vu\+Generator@{Dj\+Vu\+Generator}}
\subsubsection[{do\+Close\+Document}]{\setlength{\rightskip}{0pt plus 5cm}bool Dj\+Vu\+Generator\+::do\+Close\+Document (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{classDjVuGenerator_a233a2a93d7b18e866e927fc686cf94ac}
This method is called when the document is closed and not used any longer.

\begin{DoxyReturn}{Returns}
true on success, false otherwise. 
\end{DoxyReturn}


Implements \hyperlink{classOkular_1_1Generator_ad3f1dcb98f3bd87c87ad0e91ecf4a6d7}{Okular\+::\+Generator}.



Definition at line 117 of file generator\+\_\+djvu.\+cpp.


\begin{DoxyCode}
118 \{
119     \hyperlink{classOkular_1_1Generator_a83d702cccbce2288c3258d97f1f15e19}{userMutex}()->lock();
120     m\_djvu->\hyperlink{classKDjVu_af9c1d642f5ef455739abadf09ed44586}{closeFile}();
121     \hyperlink{classOkular_1_1Generator_a83d702cccbce2288c3258d97f1f15e19}{userMutex}()->unlock();
122 
123     \textcolor{keyword}{delete} m\_docInfo;
124     m\_docInfo = 0;
125     \textcolor{keyword}{delete} m\_docSyn;
126     m\_docSyn = 0;
127 
128     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
129 \}
\end{DoxyCode}
\hypertarget{classDjVuGenerator_acf9234f6d7b9d33c6306b6d0e11464a0}{\index{Dj\+Vu\+Generator@{Dj\+Vu\+Generator}!generate\+Document\+Info@{generate\+Document\+Info}}
\index{generate\+Document\+Info@{generate\+Document\+Info}!Dj\+Vu\+Generator@{Dj\+Vu\+Generator}}
\subsubsection[{generate\+Document\+Info}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Okular\+::\+Document\+Info} $\ast$ Dj\+Vu\+Generator\+::generate\+Document\+Info (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classDjVuGenerator_acf9234f6d7b9d33c6306b6d0e11464a0}
Returns the general information object of the document or 0 if no information are available. 

Reimplemented from \hyperlink{classOkular_1_1Generator_a9993dd0a2415499e23d8394e7a447e98}{Okular\+::\+Generator}.



Definition at line 139 of file generator\+\_\+djvu.\+cpp.


\begin{DoxyCode}
140 \{
141     \textcolor{keywordflow}{if} ( m\_docInfo )
142         \textcolor{keywordflow}{return} m\_docInfo;
143 
144     m\_docInfo = \textcolor{keyword}{new} \hyperlink{classOkular_1_1DocumentInfo}{Okular::DocumentInfo}();
145 
146     m\_docInfo->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \hyperlink{classOkular_1_1DocumentInfo_a3a6e5f7fb246e29bcb2e830b6f770791a786464e8e8c3e6ba1cd74e408487785b}{Okular::DocumentInfo::MimeType}, \textcolor{stringliteral}{"image/vnd.djvu"} );
147 
148     \textcolor{keywordflow}{if} ( m\_djvu )
149     \{
150         \textcolor{comment}{// compile internal structure reading properties from KDjVu}
151         QString title = m\_djvu->\hyperlink{classKDjVu_ae1a73203fc07dc0c81996810ca2f7ae3}{metaData}( \textcolor{stringliteral}{"title"} ).toString();
152         m\_docInfo->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \hyperlink{classOkular_1_1DocumentInfo_a3a6e5f7fb246e29bcb2e830b6f770791ae400626d63f14b61c55bd22aca9481e0}{Okular::DocumentInfo::Title}, title.isEmpty() ? i18nc(
       \textcolor{stringliteral}{"Unknown title"}, \textcolor{stringliteral}{"Unknown"} ) : title );
153         QString author = m\_djvu->\hyperlink{classKDjVu_ae1a73203fc07dc0c81996810ca2f7ae3}{metaData}( \textcolor{stringliteral}{"author"} ).toString();
154         m\_docInfo->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \hyperlink{classOkular_1_1DocumentInfo_a3a6e5f7fb246e29bcb2e830b6f770791a1010574d070b1925e030c20fef3e7a35}{Okular::DocumentInfo::Author}, author.isEmpty() ? 
      i18nc( \textcolor{stringliteral}{"Unknown author"}, \textcolor{stringliteral}{"Unknown"} ) : author );
155         QString editor = m\_djvu->\hyperlink{classKDjVu_ae1a73203fc07dc0c81996810ca2f7ae3}{metaData}( \textcolor{stringliteral}{"editor"} ).toString();
156         m\_docInfo->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \textcolor{stringliteral}{"editor"}, editor.isEmpty() ? i18nc( \textcolor{stringliteral}{"Unknown editor"}, \textcolor{stringliteral}{"Unknown"} ) : editor, i18n
      ( \textcolor{stringliteral}{"Editor"} ) );
157         QString publisher = m\_djvu->\hyperlink{classKDjVu_ae1a73203fc07dc0c81996810ca2f7ae3}{metaData}( \textcolor{stringliteral}{"publisher"} ).toString();
158         m\_docInfo->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \textcolor{stringliteral}{"publisher"}, publisher.isEmpty() ? i18nc( \textcolor{stringliteral}{"Unknown publisher"}, \textcolor{stringliteral}{"Unknown"} ) : 
      publisher, i18n( \textcolor{stringliteral}{"Publisher"} ) );
159         QString year = m\_djvu->\hyperlink{classKDjVu_ae1a73203fc07dc0c81996810ca2f7ae3}{metaData}( \textcolor{stringliteral}{"year"} ).toString();
160         m\_docInfo->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \hyperlink{classOkular_1_1DocumentInfo_a3a6e5f7fb246e29bcb2e830b6f770791a58a72aeacd3cb08e85d0f9f19b2fe83a}{Okular::DocumentInfo::CreationDate}, year.
      isEmpty() ? i18nc( \textcolor{stringliteral}{"Unknown creation date"}, \textcolor{stringliteral}{"Unknown"} ) : year );
161         QString volume = m\_djvu->\hyperlink{classKDjVu_ae1a73203fc07dc0c81996810ca2f7ae3}{metaData}( \textcolor{stringliteral}{"volume"} ).toString();
162         m\_docInfo->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \textcolor{stringliteral}{"volume"}, volume.isEmpty() ? i18nc( \textcolor{stringliteral}{"Unknown volume information"}, \textcolor{stringliteral}{"Unknown"} ) : 
      volume, i18n( \textcolor{stringliteral}{"Volume"} ) );
163         QString doctype = m\_djvu->\hyperlink{classKDjVu_ae1a73203fc07dc0c81996810ca2f7ae3}{metaData}( \textcolor{stringliteral}{"documentType"} ).toString();
164         m\_docInfo->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \textcolor{stringliteral}{"documentType"}, doctype.isEmpty() ? i18nc( \textcolor{stringliteral}{"Unknown type of document"}, \textcolor{stringliteral}{"Unknown"}
       ) : doctype, i18n( \textcolor{stringliteral}{"Type of document"} ) );
165         QVariant numcomponents = m\_djvu->\hyperlink{classKDjVu_ae1a73203fc07dc0c81996810ca2f7ae3}{metaData}( \textcolor{stringliteral}{"componentFile"} );
166         m\_docInfo->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \textcolor{stringliteral}{"componentFile"}, numcomponents.type() != QVariant::Int ? i18nc( \textcolor{stringliteral}{"Unknown number
       of component files"}, \textcolor{stringliteral}{"Unknown"} ) : numcomponents.\hyperlink{namespaceQTest_a861302f3f44f1ae8461d2752a3e3813c}{toString}(), i18n( \textcolor{stringliteral}{"Component Files"} ) );
167     \}
168     \textcolor{keywordflow}{else}
169     \{
170         m\_docInfo->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \hyperlink{classOkular_1_1DocumentInfo_a3a6e5f7fb246e29bcb2e830b6f770791ae400626d63f14b61c55bd22aca9481e0}{Okular::DocumentInfo::Title}, i18nc( \textcolor{stringliteral}{"Unknown title"}, \textcolor{stringliteral}{
      "Unknown"} ) );
171         m\_docInfo->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \hyperlink{classOkular_1_1DocumentInfo_a3a6e5f7fb246e29bcb2e830b6f770791a1010574d070b1925e030c20fef3e7a35}{Okular::DocumentInfo::Author}, i18nc( \textcolor{stringliteral}{"Unknown author
      "}, \textcolor{stringliteral}{"Unknown"} ) );
172         m\_docInfo->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \textcolor{stringliteral}{"editor"}, i18nc( \textcolor{stringliteral}{"Unknown editor"}, \textcolor{stringliteral}{"Unknown"} ), i18n( \textcolor{stringliteral}{"Editor"} ) );
173         m\_docInfo->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \textcolor{stringliteral}{"publisher"}, i18nc( \textcolor{stringliteral}{"Unknown publisher"}, \textcolor{stringliteral}{"Unknown"} ), i18n( \textcolor{stringliteral}{"Publisher"} ) );
174         m\_docInfo->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \hyperlink{classOkular_1_1DocumentInfo_a3a6e5f7fb246e29bcb2e830b6f770791a58a72aeacd3cb08e85d0f9f19b2fe83a}{Okular::DocumentInfo::CreationDate}, i18nc( \textcolor{stringliteral}{"
      Unknown creation date"}, \textcolor{stringliteral}{"Unknown"} ) );
175         m\_docInfo->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \textcolor{stringliteral}{"volume"}, i18nc( \textcolor{stringliteral}{"Unknown volume information"}, \textcolor{stringliteral}{"Unknown"} ), i18n( \textcolor{stringliteral}{"Volume"} ) );
176         m\_docInfo->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \textcolor{stringliteral}{"documentType"}, i18nc( \textcolor{stringliteral}{"Unknown type of document"}, \textcolor{stringliteral}{"Unknown"} ), i18n( \textcolor{stringliteral}{"Type of
       document"} ) );
177         m\_docInfo->\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \textcolor{stringliteral}{"componentFile"}, i18nc( \textcolor{stringliteral}{"Unknown number of component files"}, \textcolor{stringliteral}{"Unknown"} ), i18n( \textcolor{stringliteral}{
      "Component Files"} ) );
178     \}
179 
180     \textcolor{keywordflow}{return} m\_docInfo;
181 \}
\end{DoxyCode}
\hypertarget{classDjVuGenerator_acc8cf4d02a9dcc84880ccc9cba988345}{\index{Dj\+Vu\+Generator@{Dj\+Vu\+Generator}!generate\+Document\+Synopsis@{generate\+Document\+Synopsis}}
\index{generate\+Document\+Synopsis@{generate\+Document\+Synopsis}!Dj\+Vu\+Generator@{Dj\+Vu\+Generator}}
\subsubsection[{generate\+Document\+Synopsis}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Okular\+::\+Document\+Synopsis} $\ast$ Dj\+Vu\+Generator\+::generate\+Document\+Synopsis (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classDjVuGenerator_acc8cf4d02a9dcc84880ccc9cba988345}
Returns the 'table of content' object of the document or 0 if no table of content is available. 

Reimplemented from \hyperlink{classOkular_1_1Generator_a1f8b31c19d7a5101cadf3fe3186ab0f1}{Okular\+::\+Generator}.



Definition at line 183 of file generator\+\_\+djvu.\+cpp.


\begin{DoxyCode}
184 \{
185     QMutexLocker locker( \hyperlink{classOkular_1_1Generator_a83d702cccbce2288c3258d97f1f15e19}{userMutex}() );
186     \textcolor{keywordflow}{if} ( m\_docSyn )
187         \textcolor{keywordflow}{return} m\_docSyn;
188 
189     \textcolor{keyword}{const} QDomDocument *doc = m\_djvu->\hyperlink{classKDjVu_a48975c0c9c80a7b85600812c22ed5fda}{documentBookmarks}();
190     \textcolor{keywordflow}{if} ( doc )
191     \{
192         m\_docSyn = \textcolor{keyword}{new} \hyperlink{classOkular_1_1DocumentSynopsis}{Okular::DocumentSynopsis}();
193         recurseCreateTOC( *m\_docSyn, *doc, *m\_docSyn, m\_djvu );
194     \}
195     locker.unlock();
196 
197     \textcolor{keywordflow}{return} m\_docSyn;
198 \}
\end{DoxyCode}
\hypertarget{classDjVuGenerator_a6d072c673c6e484f75aab6943d51c2be}{\index{Dj\+Vu\+Generator@{Dj\+Vu\+Generator}!image@{image}}
\index{image@{image}!Dj\+Vu\+Generator@{Dj\+Vu\+Generator}}
\subsubsection[{image}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Image Dj\+Vu\+Generator\+::image (
\begin{DoxyParamCaption}
\item[{{\bf Okular\+::\+Pixmap\+Request} $\ast$}]{page}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{classDjVuGenerator_a6d072c673c6e484f75aab6943d51c2be}
Returns the image of the page as specified in the passed pixmap {\ttfamily request}.

\begin{DoxyWarning}{Warning}
this method may be executed in its own separated thread if the \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a0764a910b194896e72da084c3c51a2d0}{Threaded} is enabled! 
\end{DoxyWarning}


Reimplemented from \hyperlink{classOkular_1_1Generator_a6712c8d3c2759c3a1fcacbd503d3286e}{Okular\+::\+Generator}.



Definition at line 131 of file generator\+\_\+djvu.\+cpp.


\begin{DoxyCode}
132 \{
133     \hyperlink{classOkular_1_1Generator_a83d702cccbce2288c3258d97f1f15e19}{userMutex}()->lock();
134     QImage img = m\_djvu->\hyperlink{classKDjVu_a912d8a8a28dfd28bf871c0c1726b266e}{image}( request->pageNumber(), request->width(), request->height(), request->
      page()->rotation() );
135     \hyperlink{classOkular_1_1Generator_a83d702cccbce2288c3258d97f1f15e19}{userMutex}()->unlock();
136     \textcolor{keywordflow}{return} img;
137 \}
\end{DoxyCode}
\hypertarget{classDjVuGenerator_ace33eff68f72609689d7850b0ef3e6ef}{\index{Dj\+Vu\+Generator@{Dj\+Vu\+Generator}!load\+Document@{load\+Document}}
\index{load\+Document@{load\+Document}!Dj\+Vu\+Generator@{Dj\+Vu\+Generator}}
\subsubsection[{load\+Document}]{\setlength{\rightskip}{0pt plus 5cm}bool Dj\+Vu\+Generator\+::load\+Document (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{file\+Name, }
\item[{Q\+Vector$<$ {\bf Okular\+::\+Page} $\ast$ $>$ \&}]{pages\+Vector}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classDjVuGenerator_ace33eff68f72609689d7850b0ef3e6ef}
Loads the document with the given {\ttfamily file\+Name} and fills the {\ttfamily pages\+Vector} with the parsed pages.

\begin{DoxyReturn}{Returns}
true on success, false otherwise. 
\end{DoxyReturn}


Implements \hyperlink{classOkular_1_1Generator_a388b47328a5297d53cdbdc6fcf074ee3}{Okular\+::\+Generator}.



Definition at line 104 of file generator\+\_\+djvu.\+cpp.


\begin{DoxyCode}
105 \{
106     QMutexLocker locker( \hyperlink{classOkular_1_1Generator_a83d702cccbce2288c3258d97f1f15e19}{userMutex}() );
107     \textcolor{keywordflow}{if} ( !m\_djvu->\hyperlink{classKDjVu_a223ea1608a7b3ed9314bd89a2534dfd5}{openFile}( fileName ) )
108         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
109 
110     locker.unlock();
111 
112     loadPages( pagesVector, 0 );
113 
114     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
115 \}
\end{DoxyCode}
\hypertarget{classDjVuGenerator_a354dc9b90acf89f0a83dfcd92429bfdb}{\index{Dj\+Vu\+Generator@{Dj\+Vu\+Generator}!meta\+Data@{meta\+Data}}
\index{meta\+Data@{meta\+Data}!Dj\+Vu\+Generator@{Dj\+Vu\+Generator}}
\subsubsection[{meta\+Data}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Variant Dj\+Vu\+Generator\+::meta\+Data (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{key, }
\item[{const Q\+Variant \&}]{option}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classDjVuGenerator_a354dc9b90acf89f0a83dfcd92429bfdb}
This method returns the meta data of the given {\ttfamily key} with the given {\ttfamily option} of the document. 

Reimplemented from \hyperlink{classOkular_1_1Generator_a74f6b91e31ead5b572ffb9fb6b06c188}{Okular\+::\+Generator}.



Definition at line 230 of file generator\+\_\+djvu.\+cpp.


\begin{DoxyCode}
231 \{
232     Q\_UNUSED( option )
233     if ( key == "DocumentTitle" )
234     \{
235         \textcolor{keywordflow}{return} m\_djvu->\hyperlink{classKDjVu_ae1a73203fc07dc0c81996810ca2f7ae3}{metaData}( \textcolor{stringliteral}{"title"} );
236     \}
237     \textcolor{keywordflow}{return} QVariant();
238 \}
\end{DoxyCode}
\hypertarget{classDjVuGenerator_a8127027939e0f71b0b15b28794863dd5}{\index{Dj\+Vu\+Generator@{Dj\+Vu\+Generator}!print@{print}}
\index{print@{print}!Dj\+Vu\+Generator@{Dj\+Vu\+Generator}}
\subsubsection[{print}]{\setlength{\rightskip}{0pt plus 5cm}bool Dj\+Vu\+Generator\+::print (
\begin{DoxyParamCaption}
\item[{Q\+Printer \&}]{printer}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classDjVuGenerator_a8127027939e0f71b0b15b28794863dd5}
This method is called to print the document to the given {\ttfamily printer}. 

Reimplemented from \hyperlink{classOkular_1_1Generator_aa786d406a1b0db6679a3bc62bbe2dc82}{Okular\+::\+Generator}.



Definition at line 200 of file generator\+\_\+djvu.\+cpp.


\begin{DoxyCode}
201 \{
202     \textcolor{keywordtype}{bool} result = \textcolor{keyword}{false};
203 
204     \textcolor{comment}{// Create tempfile to write to}
205     KTemporaryFile tf;
206     tf.setSuffix( \textcolor{stringliteral}{".ps"} );
207     \textcolor{keywordflow}{if} ( !tf.open() )
208         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
209 
210     QMutexLocker locker( \hyperlink{classOkular_1_1Generator_a83d702cccbce2288c3258d97f1f15e19}{userMutex}() );
211     \hyperlink{classQList}{QList<int>} pageList = \hyperlink{classOkular_1_1FilePrinter_aed485e5e3fbe591b16e15915e318a1b7}{Okular::FilePrinter::pageList}( printer, 
      m\_djvu->\hyperlink{classKDjVu_aea351abdd42f5494382d2d3d20c1a94e}{pages}().count(),
212                                                          \hyperlink{classOkular_1_1Generator_a4248672ef04e62660d51f16c0a862bbe}{document}()->
      \hyperlink{classOkular_1_1Document_a42ec374d73794bf56d7e7b11f1f56319}{currentPage}() + 1,
213                                                          \hyperlink{classOkular_1_1Generator_a4248672ef04e62660d51f16c0a862bbe}{document}()->
      \hyperlink{classOkular_1_1Document_a01de5a7212e14772e647a8e1caa07627}{bookmarkedPageList}() );
214 
215     \textcolor{keywordflow}{if} ( m\_djvu->\hyperlink{classKDjVu_a476b8e76dc69d3872166fdf76ae2a8c2}{exportAsPostScript}( &tf, pageList ) )
216     \{
217         tf.setAutoRemove( \textcolor{keyword}{false} );
218         \textcolor{keyword}{const} QString fileName = tf.fileName();
219         tf.close();
220         \textcolor{keywordtype}{int} ret = \hyperlink{classOkular_1_1FilePrinter_abd5ec189d80d15983c49f91f7e1d38c1}{Okular::FilePrinter::printFile}( printer, fileName, 
      \hyperlink{classOkular_1_1Generator_a4248672ef04e62660d51f16c0a862bbe}{document}()->orientation(),
221                                                   
      \hyperlink{classOkular_1_1FilePrinter_acd01eb48e99f9289a7f4786a366ef7baa86d9b928c2434b89a15de26c8cc22705}{Okular::FilePrinter::SystemDeletesFiles},
222                                                   
      \hyperlink{classOkular_1_1FilePrinter_a755b647910344031db1d79312482981da3910c7efe4c8f4f8a69459765bea25a4}{Okular::FilePrinter::ApplicationSelectsPages},
223                                                   \hyperlink{classOkular_1_1Generator_a4248672ef04e62660d51f16c0a862bbe}{document}()->bookmarkedPageRange() );
224         result = ( ret >=0 );
225     \}
226 
227     \textcolor{keywordflow}{return} result;
228 \}
\end{DoxyCode}
\hypertarget{classDjVuGenerator_a1923561a9e90819282c769b78ba4ce01}{\index{Dj\+Vu\+Generator@{Dj\+Vu\+Generator}!text\+Page@{text\+Page}}
\index{text\+Page@{text\+Page}!Dj\+Vu\+Generator@{Dj\+Vu\+Generator}}
\subsubsection[{text\+Page}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Okular\+::\+Text\+Page} $\ast$ Dj\+Vu\+Generator\+::text\+Page (
\begin{DoxyParamCaption}
\item[{{\bf Okular\+::\+Page} $\ast$}]{page}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{classDjVuGenerator_a1923561a9e90819282c769b78ba4ce01}
Returns the text page for the given {\ttfamily page}.

\begin{DoxyWarning}{Warning}
this method may be executed in its own separated thread if the \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a0764a910b194896e72da084c3c51a2d0}{Threaded} is enabled! 
\end{DoxyWarning}


Reimplemented from \hyperlink{classOkular_1_1Generator_af7915b97ab4b9347fb76babdda212cef}{Okular\+::\+Generator}.



Definition at line 240 of file generator\+\_\+djvu.\+cpp.


\begin{DoxyCode}
241 \{
242     \hyperlink{classOkular_1_1Generator_a83d702cccbce2288c3258d97f1f15e19}{userMutex}()->lock();
243     \hyperlink{classQList}{QList<KDjVu::TextEntity>} te;
244 \textcolor{preprocessor}{#if 0}
245     m\_djvu->\hyperlink{classKDjVu_a658d09462a1b727a001c6f7f183a3f7e}{textEntities}( page->\hyperlink{classOkular_1_1Page_a6eee5f157a130b47d81ddd63e501664b}{number}(), \textcolor{stringliteral}{"char"} );
246 \textcolor{preprocessor}{#endif}
247     \textcolor{keywordflow}{if} ( te.isEmpty() )
248         te = m\_djvu->\hyperlink{classKDjVu_a658d09462a1b727a001c6f7f183a3f7e}{textEntities}( page->\hyperlink{classOkular_1_1Page_a6eee5f157a130b47d81ddd63e501664b}{number}(), \textcolor{stringliteral}{"word"} );
249     \textcolor{keywordflow}{if} ( te.isEmpty() )
250         te = m\_djvu->\hyperlink{classKDjVu_a658d09462a1b727a001c6f7f183a3f7e}{textEntities}( page->\hyperlink{classOkular_1_1Page_a6eee5f157a130b47d81ddd63e501664b}{number}(), \textcolor{stringliteral}{"line"} );
251     \hyperlink{classOkular_1_1Generator_a83d702cccbce2288c3258d97f1f15e19}{userMutex}()->unlock();
252     \hyperlink{classQList}{QList<KDjVu::TextEntity>::ConstIterator} it = te.constBegin();
253     \hyperlink{classQList}{QList<KDjVu::TextEntity>::ConstIterator} itEnd = te.constEnd();
254     \hyperlink{classQList}{QList<Okular::TextEntity*>} words;
255     \textcolor{keyword}{const} \hyperlink{classKDjVu_1_1Page}{KDjVu::Page}* djvupage = m\_djvu->\hyperlink{classKDjVu_aea351abdd42f5494382d2d3d20c1a94e}{pages}().at( page->
      \hyperlink{classOkular_1_1Page_a6eee5f157a130b47d81ddd63e501664b}{number}() );
256     \textcolor{keywordflow}{for} ( ; it != itEnd; ++it )
257     \{
258         \textcolor{keyword}{const} \hyperlink{classKDjVu_1_1TextEntity}{KDjVu::TextEntity}& cur = *it;
259         words.append( \textcolor{keyword}{new} \hyperlink{classOkular_1_1TextEntity}{Okular::TextEntity}( cur.\hyperlink{classKDjVu_1_1TextEntity_a3b16cdc8e0b07a6b4f9cf3527ce765ff}{text}(), \textcolor{keyword}{new} 
      \hyperlink{classOkular_1_1NormalizedRect}{Okular::NormalizedRect}( cur.\hyperlink{classKDjVu_1_1TextEntity_a758c398cb673ea39b822fc1b0eb6dc47}{rect}(), djvupage->\hyperlink{classKDjVu_1_1Page_a166b65d10707265dbd7b14a910ad2212}{width}(), djvupage->
      \hyperlink{classKDjVu_1_1Page_a062855315cad5728f12eb1f95e453450}{height}() ) ) );
260     \}
261     \hyperlink{classOkular_1_1TextPage}{Okular::TextPage} *textpage = \textcolor{keyword}{new} \hyperlink{classOkular_1_1TextPage}{Okular::TextPage}( words );
262     \textcolor{keywordflow}{return} textpage;
263 \}
\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
generators/djvu/\hyperlink{generator__djvu_8h}{generator\+\_\+djvu.\+h}\item 
generators/djvu/\hyperlink{generator__djvu_8cpp}{generator\+\_\+djvu.\+cpp}\end{DoxyCompactItemize}
