\hypertarget{classPluckerGenerator}{\section{Plucker\+Generator Class Reference}
\label{classPluckerGenerator}\index{Plucker\+Generator@{Plucker\+Generator}}
}


{\ttfamily \#include $<$generator\+\_\+plucker.\+h$>$}

Inheritance diagram for Plucker\+Generator\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classPluckerGenerator}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classPluckerGenerator_a43eb7e954d45fb606ad292559fbed7e0}{Plucker\+Generator} (Q\+Object $\ast$parent, const Q\+Variant\+List \&args)
\item 
virtual \hyperlink{classPluckerGenerator_ab908f0c868b57a1f581858ba5282c3a9}{$\sim$\+Plucker\+Generator} ()
\item 
bool \hyperlink{classPluckerGenerator_a12d8af3fc857997f02e8533a6af51f80}{load\+Document} (const Q\+String \&file\+Name, Q\+Vector$<$ \hyperlink{classOkular_1_1Page}{Okular\+::\+Page} $\ast$ $>$ \&pages\+Vector)
\item 
const \hyperlink{classOkular_1_1DocumentInfo}{Okular\+::\+Document\+Info} $\ast$ \hyperlink{classPluckerGenerator_ae4c779c36083a33d803285c2a26dbac2}{generate\+Document\+Info} ()
\item 
Q\+Image \hyperlink{classPluckerGenerator_abf2fdf796ef43397be0ef607891aa24a}{image} (\hyperlink{classOkular_1_1PixmapRequest}{Okular\+::\+Pixmap\+Request} $\ast$request)
\item 
\hyperlink{classOkular_1_1ExportFormat_a987d72c1a1456b8a983a37603a8fa78d}{Okular\+::\+Export\+Format\+::\+List} \hyperlink{classPluckerGenerator_a567989bc41fdacc4ccce73b6c0d127b6}{export\+Formats} () const 
\item 
bool \hyperlink{classPluckerGenerator_ae2cc83755457247e25e992ff1440387f}{export\+To} (const Q\+String \&file\+Name, const \hyperlink{classOkular_1_1ExportFormat}{Okular\+::\+Export\+Format} \&format)
\item 
bool \hyperlink{classPluckerGenerator_abcdfb8cf9b8b83da28f53e2cbef442f7}{print} (Q\+Printer \&printer)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classPluckerGenerator_a78374e793b3e3496d821e83ee64ed642}{do\+Close\+Document} ()
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 22 of file generator\+\_\+plucker.\+h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classPluckerGenerator_a43eb7e954d45fb606ad292559fbed7e0}{\index{Plucker\+Generator@{Plucker\+Generator}!Plucker\+Generator@{Plucker\+Generator}}
\index{Plucker\+Generator@{Plucker\+Generator}!Plucker\+Generator@{Plucker\+Generator}}
\subsubsection[{Plucker\+Generator}]{\setlength{\rightskip}{0pt plus 5cm}Plucker\+Generator\+::\+Plucker\+Generator (
\begin{DoxyParamCaption}
\item[{Q\+Object $\ast$}]{parent, }
\item[{const Q\+Variant\+List \&}]{args}
\end{DoxyParamCaption}
)}}\label{classPluckerGenerator_a43eb7e954d45fb606ad292559fbed7e0}


Definition at line 68 of file generator\+\_\+plucker.\+cpp.


\begin{DoxyCode}
69     : \hyperlink{classOkular_1_1Generator_a9a493b3f23f5d8b34eae9fa7231556f6}{Generator}( parent, args )
70 \{
71     \hyperlink{classOkular_1_1Generator_abcebcc5f69e98b6227496198a5c69d2c}{setFeature}( \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a0764a910b194896e72da084c3c51a2d0}{Threaded} );
72 \}
\end{DoxyCode}
\hypertarget{classPluckerGenerator_ab908f0c868b57a1f581858ba5282c3a9}{\index{Plucker\+Generator@{Plucker\+Generator}!````~Plucker\+Generator@{$\sim$\+Plucker\+Generator}}
\index{````~Plucker\+Generator@{$\sim$\+Plucker\+Generator}!Plucker\+Generator@{Plucker\+Generator}}
\subsubsection[{$\sim$\+Plucker\+Generator}]{\setlength{\rightskip}{0pt plus 5cm}Plucker\+Generator\+::$\sim$\+Plucker\+Generator (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classPluckerGenerator_ab908f0c868b57a1f581858ba5282c3a9}


Definition at line 74 of file generator\+\_\+plucker.\+cpp.


\begin{DoxyCode}
75 \{
76 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{classPluckerGenerator_a78374e793b3e3496d821e83ee64ed642}{\index{Plucker\+Generator@{Plucker\+Generator}!do\+Close\+Document@{do\+Close\+Document}}
\index{do\+Close\+Document@{do\+Close\+Document}!Plucker\+Generator@{Plucker\+Generator}}
\subsubsection[{do\+Close\+Document}]{\setlength{\rightskip}{0pt plus 5cm}bool Plucker\+Generator\+::do\+Close\+Document (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}}\label{classPluckerGenerator_a78374e793b3e3496d821e83ee64ed642}
This method is called when the document is closed and not used any longer.

\begin{DoxyReturn}{Returns}
true on success, false otherwise. 
\end{DoxyReturn}


Implements \hyperlink{classOkular_1_1Generator_ad3f1dcb98f3bd87c87ad0e91ecf4a6d7}{Okular\+::\+Generator}.



Definition at line 115 of file generator\+\_\+plucker.\+cpp.


\begin{DoxyCode}
116 \{
117     mLinkAdded.clear();
118     mLinks.clear();
119 
120     qDeleteAll( mPages );
121     mPages.clear();
122 
123     \textcolor{comment}{// do not use clear() for the following, otherwise its type is changed}
124     mDocumentInfo = \hyperlink{classOkular_1_1DocumentInfo}{Okular::DocumentInfo}();
125 
126     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
127 \}
\end{DoxyCode}
\hypertarget{classPluckerGenerator_a567989bc41fdacc4ccce73b6c0d127b6}{\index{Plucker\+Generator@{Plucker\+Generator}!export\+Formats@{export\+Formats}}
\index{export\+Formats@{export\+Formats}!Plucker\+Generator@{Plucker\+Generator}}
\subsubsection[{export\+Formats}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Okular\+::\+Export\+Format\+::\+List} Plucker\+Generator\+::export\+Formats (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classPluckerGenerator_a567989bc41fdacc4ccce73b6c0d127b6}
Returns the list of additional supported export formats. 

Reimplemented from \hyperlink{classOkular_1_1Generator_a74280fb193319daab955feac694123ac}{Okular\+::\+Generator}.



Definition at line 174 of file generator\+\_\+plucker.\+cpp.


\begin{DoxyCode}
175 \{
176     \textcolor{keyword}{static} \hyperlink{classQList}{Okular::ExportFormat::List} formats;
177     \textcolor{keywordflow}{if} ( formats.isEmpty() )
178         formats.append( \hyperlink{classOkular_1_1ExportFormat_a5a403d349fe023513836471a18f55ced}{Okular::ExportFormat::standardFormat}( 
      \hyperlink{classOkular_1_1ExportFormat_af030ecc6c77b5cdd89cd1bc4a894c6f2ad7daf23a3915d800df9de1b417a4b65a}{Okular::ExportFormat::PlainText} ) );
179 
180     \textcolor{keywordflow}{return} formats;
181 \}
\end{DoxyCode}
\hypertarget{classPluckerGenerator_ae2cc83755457247e25e992ff1440387f}{\index{Plucker\+Generator@{Plucker\+Generator}!export\+To@{export\+To}}
\index{export\+To@{export\+To}!Plucker\+Generator@{Plucker\+Generator}}
\subsubsection[{export\+To}]{\setlength{\rightskip}{0pt plus 5cm}bool Plucker\+Generator\+::export\+To (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{file\+Name, }
\item[{const {\bf Okular\+::\+Export\+Format} \&}]{format}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classPluckerGenerator_ae2cc83755457247e25e992ff1440387f}
This method is called to export the document in the given {\ttfamily format} and save it under the given {\ttfamily file\+Name}. The format must be one of the supported export formats. 

Reimplemented from \hyperlink{classOkular_1_1Generator_a9e78f37aafbfdaf04f76f4163c27aa5e}{Okular\+::\+Generator}.



Definition at line 183 of file generator\+\_\+plucker.\+cpp.


\begin{DoxyCode}
184 \{
185     \textcolor{keywordflow}{if} ( format.\hyperlink{classOkular_1_1ExportFormat_ab37ac9aa0c65cdff5e9666e1390d79de}{mimeType}()->name() == QLatin1String( \textcolor{stringliteral}{"text/plain"} ) ) \{
186         QFile file( fileName );
187         \textcolor{keywordflow}{if} ( !file.open( QIODevice::WriteOnly ) )
188             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
189 
190         QTextStream out( &file );
191         \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} i = 0; i < mPages.count(); ++i ) \{
192             out << mPages[ i ]->toPlainText();
193         \}
194 
195         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
196     \}
197 
198     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
199 \}
\end{DoxyCode}
\hypertarget{classPluckerGenerator_ae4c779c36083a33d803285c2a26dbac2}{\index{Plucker\+Generator@{Plucker\+Generator}!generate\+Document\+Info@{generate\+Document\+Info}}
\index{generate\+Document\+Info@{generate\+Document\+Info}!Plucker\+Generator@{Plucker\+Generator}}
\subsubsection[{generate\+Document\+Info}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Okular\+::\+Document\+Info} $\ast$ Plucker\+Generator\+::generate\+Document\+Info (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classPluckerGenerator_ae4c779c36083a33d803285c2a26dbac2}
Returns the general information object of the document or 0 if no information are available. 

Reimplemented from \hyperlink{classOkular_1_1Generator_a9993dd0a2415499e23d8394e7a447e98}{Okular\+::\+Generator}.



Definition at line 129 of file generator\+\_\+plucker.\+cpp.


\begin{DoxyCode}
130 \{
131     \textcolor{keywordflow}{return} &mDocumentInfo;
132 \}
\end{DoxyCode}
\hypertarget{classPluckerGenerator_abf2fdf796ef43397be0ef607891aa24a}{\index{Plucker\+Generator@{Plucker\+Generator}!image@{image}}
\index{image@{image}!Plucker\+Generator@{Plucker\+Generator}}
\subsubsection[{image}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Image Plucker\+Generator\+::image (
\begin{DoxyParamCaption}
\item[{{\bf Okular\+::\+Pixmap\+Request} $\ast$}]{page}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classPluckerGenerator_abf2fdf796ef43397be0ef607891aa24a}
Returns the image of the page as specified in the passed pixmap {\ttfamily request}.

\begin{DoxyWarning}{Warning}
this method may be executed in its own separated thread if the \hyperlink{classOkular_1_1Generator_a8517096896273a5ba5b970be09313c77a0764a910b194896e72da084c3c51a2d0}{Threaded} is enabled! 
\end{DoxyWarning}


Reimplemented from \hyperlink{classOkular_1_1Generator_a6712c8d3c2759c3a1fcacbd503d3286e}{Okular\+::\+Generator}.



Definition at line 134 of file generator\+\_\+plucker.\+cpp.


\begin{DoxyCode}
135 \{
136     \textcolor{keyword}{const} QSizeF \hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size} = mPages[ request->pageNumber() ]->size();
137 
138     QImage \hyperlink{classPluckerGenerator_abf2fdf796ef43397be0ef607891aa24a}{image}( request->width(), request->height(), QImage::Format\_ARGB32\_Premultiplied );
139     \hyperlink{classPluckerGenerator_abf2fdf796ef43397be0ef607891aa24a}{image}.fill( Qt::white );
140 
141     QPainter p;
142     p.begin( &\hyperlink{classPluckerGenerator_abf2fdf796ef43397be0ef607891aa24a}{image} );
143 
144     qreal width = request->width();
145     qreal height = request->height();
146 
147     p.scale( width / (qreal)size.width(), height / (qreal)size.height() );
148     mPages[ request->pageNumber() ]->drawContents( &p );
149     p.end();
150 
151     \textcolor{keywordflow}{if} ( !mLinkAdded.contains( request->pageNumber() ) ) \{
152         \hyperlink{classQLinkedList}{QLinkedList<Okular::ObjectRect*>} objects;
153         \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} i = 0; i < mLinks.count(); ++i ) \{
154             \textcolor{keywordflow}{if} ( mLinks[ i ].page == request->\hyperlink{classOkular_1_1PixmapRequest_a50f959175182137dbb9e2dbd6ddd71aa}{pageNumber}() ) \{
155                 QTextDocument *\hyperlink{classOkular_1_1Generator_a4248672ef04e62660d51f16c0a862bbe}{document} = mPages[ request->pageNumber() ];
156 
157                 QRectF rect;
158                 calculateBoundingRect( document, mLinks[ i ].start,
159                                        mLinks[ i ].end, rect );
160 
161                 objects.append( \textcolor{keyword}{new} \hyperlink{classOkular_1_1ObjectRect}{Okular::ObjectRect}( rect.left(), rect.top(), rect.
      right(), rect.bottom(), \textcolor{keyword}{false}, \hyperlink{classOkular_1_1ObjectRect_a2f77f7653306bae90bfb68277aaafe16a2ad02138861dfdc8bc2a0c29bae5bed2}{Okular::ObjectRect::Action}, mLinks[ i ].link ) );
162             \}
163         \}
164 
165         \textcolor{keywordflow}{if} ( !objects.isEmpty() )
166             request->page()->setObjectRects( objects );
167 
168         mLinkAdded.insert( request->pageNumber() );
169     \}
170 
171     \textcolor{keywordflow}{return} \hyperlink{classPluckerGenerator_abf2fdf796ef43397be0ef607891aa24a}{image};
172 \}
\end{DoxyCode}
\hypertarget{classPluckerGenerator_a12d8af3fc857997f02e8533a6af51f80}{\index{Plucker\+Generator@{Plucker\+Generator}!load\+Document@{load\+Document}}
\index{load\+Document@{load\+Document}!Plucker\+Generator@{Plucker\+Generator}}
\subsubsection[{load\+Document}]{\setlength{\rightskip}{0pt plus 5cm}bool Plucker\+Generator\+::load\+Document (
\begin{DoxyParamCaption}
\item[{const Q\+String \&}]{file\+Name, }
\item[{Q\+Vector$<$ {\bf Okular\+::\+Page} $\ast$ $>$ \&}]{pages\+Vector}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classPluckerGenerator_a12d8af3fc857997f02e8533a6af51f80}
Loads the document with the given {\ttfamily file\+Name} and fills the {\ttfamily pages\+Vector} with the parsed pages.

\begin{DoxyReturn}{Returns}
true on success, false otherwise. 
\end{DoxyReturn}


Implements \hyperlink{classOkular_1_1Generator_a388b47328a5297d53cdbdc6fcf074ee3}{Okular\+::\+Generator}.



Definition at line 78 of file generator\+\_\+plucker.\+cpp.


\begin{DoxyCode}
79 \{
80     \hyperlink{classQUnpluck}{QUnpluck} unpluck;
81 
82     \textcolor{keywordflow}{if} ( !unpluck.\hyperlink{classQUnpluck_a0b5ec934d6ce0c877654875fe8a2e72f}{open}( fileName ) )
83         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
84 
85     mPages = unpluck.\hyperlink{classQUnpluck_a41b9cc2f7be551f5f077531259780a0e}{pages}();
86     mLinks = unpluck.\hyperlink{classQUnpluck_acc1af02ba43c3d84cd85517b4085ac7d}{links}();
87 
88     \textcolor{keyword}{const} \hyperlink{classQMap}{QMap<QString, QString>} infos = unpluck.\hyperlink{classQUnpluck_a7693166ed831bb1d492395038f3d0186}{infos}();
89     QMapIterator<QString, QString> it( infos );
90     \textcolor{keywordflow}{while} ( it.hasNext() ) \{
91         it.next();
92         \textcolor{keywordflow}{if} ( !it.value().isEmpty() ) \{
93             \textcolor{keywordflow}{if} ( it.key() == QLatin1String( \textcolor{stringliteral}{"name"} ) )
94                 mDocumentInfo.\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \textcolor{stringliteral}{"name"}, it.value(), i18n( \textcolor{stringliteral}{"Name"} ) );
95             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( it.key() == QLatin1String( \textcolor{stringliteral}{"title"} ) )
96                 mDocumentInfo.\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \hyperlink{classOkular_1_1DocumentInfo_a3a6e5f7fb246e29bcb2e830b6f770791ae400626d63f14b61c55bd22aca9481e0}{Okular::DocumentInfo::Title}, it.value() );
97             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( it.key() == QLatin1String( \textcolor{stringliteral}{"author"} ) )
98                 mDocumentInfo.\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \hyperlink{classOkular_1_1DocumentInfo_a3a6e5f7fb246e29bcb2e830b6f770791a1010574d070b1925e030c20fef3e7a35}{Okular::DocumentInfo::Author}, it.value() 
      );
99             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ( it.key() == QLatin1String( \textcolor{stringliteral}{"time"} ) )
100                 mDocumentInfo.\hyperlink{classOkular_1_1DocumentInfo_a8bd5403394ab192f1103cbf2a8e48d9b}{set}( \hyperlink{classOkular_1_1DocumentInfo_a3a6e5f7fb246e29bcb2e830b6f770791a58a72aeacd3cb08e85d0f9f19b2fe83a}{Okular::DocumentInfo::CreationDate},
       it.value() );
101         \}
102     \}
103 
104     pagesVector.resize( mPages.count() );
105 
106     \textcolor{keywordflow}{for} ( \textcolor{keywordtype}{int} i = 0; i < mPages.count(); ++i ) \{
107         QSizeF \hyperlink{synctex__parser_8c_aa23c661441688350614bd6a350d2b6ff}{size} = mPages[ i ]->size();
108         \hyperlink{classOkular_1_1Page}{Okular::Page} * page = \textcolor{keyword}{new} \hyperlink{classOkular_1_1Page}{Okular::Page}( i, size.width(), size.height(), 
      \hyperlink{namespaceOkular_a8556d00465f61ef533c6b027669e7da6aa4df8fc3dd09e30520c264c8d23d89c2}{Okular::Rotation0} );
109         pagesVector[i] = page;
110     \}
111 
112     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
113 \}
\end{DoxyCode}
\hypertarget{classPluckerGenerator_abcdfb8cf9b8b83da28f53e2cbef442f7}{\index{Plucker\+Generator@{Plucker\+Generator}!print@{print}}
\index{print@{print}!Plucker\+Generator@{Plucker\+Generator}}
\subsubsection[{print}]{\setlength{\rightskip}{0pt plus 5cm}bool Plucker\+Generator\+::print (
\begin{DoxyParamCaption}
\item[{Q\+Printer \&}]{printer}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classPluckerGenerator_abcdfb8cf9b8b83da28f53e2cbef442f7}
This method is called to print the document to the given {\ttfamily printer}. 

Reimplemented from \hyperlink{classOkular_1_1Generator_aa786d406a1b0db6679a3bc62bbe2dc82}{Okular\+::\+Generator}.



Definition at line 201 of file generator\+\_\+plucker.\+cpp.


\begin{DoxyCode}
202 \{
203 \textcolor{comment}{/*}
204 \textcolor{comment}{    for ( int i = 0; i < mPages.count(); ++i )}
205 \textcolor{comment}{      mPages[ i ]->print( &printer );}
206 \textcolor{comment}{*/}
207     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
208 \}
\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
generators/plucker/\hyperlink{generator__plucker_8h}{generator\+\_\+plucker.\+h}\item 
generators/plucker/\hyperlink{generator__plucker_8cpp}{generator\+\_\+plucker.\+cpp}\end{DoxyCompactItemize}
